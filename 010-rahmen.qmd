# Rahmen





```{r libs}
#| include: false
library(tibble)
library(tidyverse)
library(gt)
library(ggfittext)
library(see)
```


```{r}
#| include: false

source("_common.R")
```



{{< include children/colors.qmd >}}

<!-- ```{css, echo = FALSE} -->
<!-- .justify { -->
<!--   text-align: justify !important -->
<!-- } -->

<!-- .centered { -->
<!--   text-align-last: center; -->
<!-- } -->

<!-- .xlarge { -->
<!--   font-size: 300%; -->
<!-- } -->
<!-- ``` -->



## Lernsteuerung


@fig-ueberblick zeigt den Standort dieses Kapitels im Lernpfad und gibt damit einen √úberblick √ºber das Thema dieses Kapitels im Kontext aller Kapitel.
@fig-tidy5 zeigt, dass unser Vorgehen in diesem Buch einem Flie√üband gleicht: Schritt f√ºr Schritt, in der richtigen Reihenfolge, vom Anfang bis Ende, erarbeiten wir unser "Datenprodukt".^[Quelle: Allison Horst, CC-by, <https://github.com/allisonhorst/stats-illustrations>]


![Datenanalyse als eine Abfolge am Flie√üband](img/tidydata_5.jpg){#fig-tidy5 width="75%"}










```{r}
#| echo: false
ggplot2::theme_set(theme_minimal())
```


### Lernziele


- Sie k√∂nnen eine Definition von Statistik wiedergeben.
- Sie k√∂nnen eine Definition von Daten wiedergeben.
- Sie k√∂nnen den Begriff Tidy-Daten erl√§utern.
- Sie k√∂nnen Beispiele f√ºr verschiedene Skalenniveaus nennen.


::: {.content-visible when-format="html"}

### Einstieg


::::{#exr-einstieg}
### Hallo, Statistik
Gehen Sie in eine kleine Gruppe zusammen (3-4 Personen). Stellen Sie sich anhand der Schlagworte einander vor:

1. Name
2. (wissenschaftliche) Interessen
3. Erwartung an diesen Kurs $\square$
:::


:::{#exr-fragjetzt}
### Frag jetzt
Die Lehrkraft stellt Ihnen ein Forum zur Verf√ºgung, auf dem Sie *anonym* Fragen an die Lehrkraft richten k√∂nnen (z.B. auf [frag.jetzt](https://frag.jetzt/home)).

Stellen Sie dort Ihre Fragen ein; voten Sie die Fragen Ihrer Kommilitonis auf oder ab. Die Lehrkraft beantwortet dann die Fragen mit den meisten Upvotes. $\square$
:::

::::

### Erfolsgrezept

Ihren Lernerfolg kann man als von drei Faktoren abh√§ngig betrachten: 1) Ihrer Lehrkraft, 2) Ihrer Mitarbeit im Unterricht und 3) Ihrem Eigenstudium zuhause (Vor- bzw. Nachbereitung des Unterrichts), s. @fig-erfolgsrezept.

```{mermaid}
%%| fig-cap: "Ihr Lernerfolg besteht aus drei Komponenten: Der Lehrkraft, Ihrer Konzentration im Unterricht und Ihrer Vor- bzw. Nachbereitung zuhause."
%%| label: fig-erfolgsrezept
%%| out-width: "100%"
flowchart TD
  subgraph Lehrkraft
    F["üî•"]
  end
  subgraph A[Konzentration im Unterricht]
    C["ü™µ"]
  end
  subgraph E[Eigenstudium]
    D["üå≥"] 
  end  

```

Eine gute Lehrkraft ist wie der Funke, der eine (Lern-)Flamme entz√ºndet. Aber es braucht Brennmaterial, einen Holzscheit, das ist Ihre Konzentration im Unterricht. Ein Holzscheit alleine ist aber nicht nachhaltig, es braucht viel mehr Brennmaterial, um das Feuer am Leben zu halten: Ihr Eigenstudium, das stetige, selbst√§ndige Besch√§ftigen mit der Materie.




## Was ist Statistik und wozu ist sie gut?

 
In diesem Buch werden die Begriffe *Statistik*, *Datenanalyse* und *Data Science* synonym verwendet.


:::{#exr-nutzen-statistik}

### Nutzen von Statistik

 Fragen Sie einen Chatbot (wie ChatGPT), was der Nutzen von Statistik ist. Diskutieren Sie die Antwort. $\square$
:::







Hm. Vielleicht fragen wir mal ChatGPT, was es unter Statistik versteht:





>    [üßë‚Äçüéì]{.content-visible when-format="html"}[\emoji{student}]{.content-visible when-format="pdf"}  Was ist Statistik? Bitte definiere verst√§ndlich.

>    [ü§ñ]{.content-visible when-format="html"}[\emoji{robot}]{.content-visible when-format="pdf"} Statistik ist eine Wissenschaft, die sich mit der Sammlung, Analyse, Interpretation, Pr√§sentation und √úbertragung von Daten besch√§ftigt. Ziel ist es, Muster und Trends in den Daten zu erkennen und verl√§ssliche Schlussfolgerungen √ºber eine gr√∂√üere Gruppe (z.B. Bev√∂lkerung) auf der Basis einer Stichprobe (Teilmenge) zu treffen. Die Statistik hilft uns bei der Beantwortung von Fragen, indem sie uns dabei hilft, die Unsicherheit in den Daten zu messen und zu verstehen^[Release 2023-Jan].



Es gibt mehrere Definition von Statistik;
hier ist eine, s. @def-statistik.


:::{#def-statistik}
### Statistik
Statistik fasst Daten zusammen, um wesentliche Informationen den Daten zu entnehmen und beschreibt die Ungewissheit unserer Schl√ºsse [@poldrack_statistical_2023; @kaplan_statistical_2009] .$\square$
:::







Betrachten wir die zwei Bestimmungsst√ºcke einer Definition von Statistik genauer:

1. Daten zusammenfassen
2. Ungewissheit beschreiben


### Daten zusammenfassen

@fig-zsmnfassen verdeutlicht das Prinzip des Zusammenfassens von Daten.
Anschaulich gesprochen: Eine Menge von Zahlen wird zu einer einzelnen Zahl "zusammengedampft".
Eine einzelne Zahl ist wesentlich besser zu verstehen als eine gro√üe Menge von Zahlen. Bei vielen Zahlen w√ºrde man den √úberblick verlieren.

```{r}
#| echo: false
#| label: fig-zsmnfassen
#| fig-cap: "Daten zusammenfassen"
#| layout: [[45,-10, 45], [100]]
#| fig-subcap: 
#|   - "Zusammenfassen einer Variable zu einem Punktwert, hier zum Mittelwert"
#|   - "Zusammenfassen zweier Variablen zu einer Geraden"


d <- 
  tibble(y = rnorm(100),
         e = rnorm(100, mean = 0, sd = 0.3),
         x = y + e)

d |> 
  ggplot(aes(y = y, x = 1)) +
  geom_jitter(width = .1) +
  scale_x_continuous(limits = c(0, 2)) +
  geom_hline(yintercept = 0, linetype = "dashed") +
  annotate("point", size = 7, x = 1, y = 0,
           color = modelcol) +
  annotate("label", x = 0, y = 0, label = "MW", hjust = 0) +
  labs(caption = "MW: Mittelwert") +
  theme_modern()  +
  theme(strip.text = element_text(size = 16)) +
  theme(plot.caption = element_text(size = 16))




d |> 
  ggplot(aes(x = x, y = y)) +
  geom_point2() +
  geom_smooth(method = "lm", color = modelcol) +
  theme_modern()
```




### Unterschiedlichkeit messen 

Eine allgegenw√§rtige Tatsache ist, dass die Dinge der Welt sich unterscheiden, 
etwa, dass Exemplare einer Gattung sich unterscheiden. 
So sind nicht alle Menschen gleich gro√ü, nicht alle B√ºcher gleich lang oder nicht alle Tage gleich warm.


Ein zentrales Vorgehen bei statistischen Analysen ist es, 
die *Unterschiedlichkeit der Dinge* zu beschreiben,
pr√§ziser gesagt: die *Variation zu quantifizieren*. Betrachten wir dazu das Beispiel in s. @fig-groesse.


```{r}
#| echo: false
#| label: fig-groesse
#| fig-cap: "Wenig Variation in der K√∂rpergr√∂√üe bei den Basketballern. Alles lange Kerle. Viel Variation bei den Schachspielern: Manche sind klein, ander gro√ü."
#| dev: "ragg_png"

groesse <- 
  tibble::tribble(
     ~id, ~groesse,        ~team,
      1L,     199L, "Basketball üèÄ",
      2L,     203L, "Basketball üèÄ",
      3L,     201L, "Basketball üèÄ",
     4L,     199L, "Basketball üèÄ",
     5L,     204L, "Basketball üèÄ",
     1L,     161L,     "Schach ‚ôüÔ∏è",
     2L,     198L,        "Schach ‚ôüÔ∏è",
     3L,     177L,      "Schach ‚ôüÔ∏è",
     4L,     171L,        "Schach ‚ôüÔ∏è",
     5L,     192L,    "Schach ‚ôüÔ∏è",
     )

groesse <- groesse %>%
  mutate(label = if_else(team == "Basketball üèÄ", "geringe Variation", "hohe Variation"))



groesse %>% 
  ggplot(aes(x = id, y = groesse)) +
  geom_col() +
  facet_wrap(~team) +
  labs(
       y = "K√∂rpergr√∂√üe",
       x = "Spielernummer") +
  geom_label(data = distinct(groesse, team, .keep_all = TRUE), 
            aes(label = label, x = 3, y = 50), 
            size = 5, vjust = 0) +
  theme(strip.text = element_text(size = 16)) +
  theme_modern()  +
  theme(plot.caption = element_text(size = 16))
```


Bei den Basketballern gibt es *geringe* Variation in der K√∂rpergr√∂√üe - alle sind gro√ü, √§hnlich gro√ü.
Bei den Schachspielern gibt es (im Verh√§ltnis) *hohe* Variation: Einige Personen sind gro√ü, andere klein.

Die Variation (auch "Variabilit√§t" genannt) kann man auch gut so darstellen wie in s. @fig-variab gezeigt.


```{r}
#| echo: false
#| label: fig-variab
#| fig-cap: "Die Abweichungen der einzelnen Personen von der mittleren K√∂rpergr√∂√üe ihres Teams"
#| dev: "ragg_png"

groesse_summ <-
  groesse %>% 
  group_by(team) %>% 
  summarise(groesse_mw = mean(groesse))

groesse <-
  groesse %>% 
  group_by(team) %>% 
  mutate(groesse_mw = mean(groesse)) %>% 
  mutate(abweichung = groesse - groesse_mw) %>% 
  mutate(Vorzeichen = factor(sign(abweichung)))

groesse %>% 
  ggplot(aes(x = id)) +
  geom_segment(aes(x = id, xend = id, y = groesse, yend = groesse_mw, color = Vorzeichen)) +
  geom_point(aes(x = id, y = groesse), color = "grey60", alpha = .7, size = 2) +
  facet_wrap(~ team) +
  geom_hline(aes(yintercept = groesse_mw), data = groesse_summ) +
  labs(
       subtitle = "Basketball: Wenig Variation; Schach: Viel Variation",
       x= "Nummer der Spielers") + 
  scale_color_okabeito() +
  geom_label(x = 5, label = "MW",
            aes(y = groesse_mw),
            hjust = "right",
            size = 5)  +
  theme(strip.text = element_text(size = 16),
        legend.position = "bottom")  +
  theme_modern()
```

Eine *Abweichung* (auch *Residuum*) genannt, 
zeigt hier die Differenz von Mittelwert und dem Wert der K√∂rpergr√∂√üe bei der jeweiligen Person.
Wenn wir allgemein von einer Person $i$ sprechen,
Das Merkmal *K√∂rpergr√∂√üe* mit $X$ bezeichnen und den Mittelwert der K√∂rpergr√∂√üe als $\bar{x}$ ("x quer"),
dann k√∂nnen wir knapp und pr√§zise das Residuum der $i$-ten Person mit $r_i$ bezeichnen und entsprechend definieren.


:::{#def-residuum}
### Residuum
Das Residuum des Merkmals $X$ der $i$-ten Beobachtung ist definiert als die Differenz vom Wert $x_i$ und einem Referenzwert, etwa dem Mittelwert, $\bar{x}$:

$r_i = x_i - \bar{x}$. $\square$
:::






## Was ist das Ziel Ihrer Analyse?


### Arten von Zielen

```{mermaid}
%%| fig-cap: Zielarten einer Datenanalyse
%%| label: fig-ziele

graph TD
  subgraph Ziele
    A[beschreiben]
    B[vorhersagen]
    C[erkl√§ren]
  end
```


Beispiele f√ºr die einzelnen Zielarten der Datenanalyse:

- *Beschreiben*: Wie gro√ü ist der Gender-Paygap in der Branche X im Zeitraum Y?
- *Vorhersagen*: Wenn ich 100 Stunden auf die Statistikklausur lernen, welche Note kann ich dann erwarten?
- *Erkl√§ren*: Wie viel bringt mir das Lernen auf die Statistikklausur?


:::{#exr-ziele-stat}
Benennen Sie Beispiele f√ºr die die drei Zielarten von Datenanalysen! $\square$
:::

###  Forschungsfrage

Eine Forschungsfrage ist die Leitfrage Ihrer Analyse.
Sie definiert, was Sie herausfinden wollen.
H√§ufig sind Forschungsfragen so aufgebaut:

>   Hat X einen Einfluss auf Y?






Eine Forschungsfrage weist h√§ufig folgende Struktur auf, s. @fig-fo-struktur.



```{mermaid}
%%| fig-cap: Struktur eine Forschungsfrage
%%| label: fig-fo-struktur
%%| out-width: "100%"

graph LR
    I[Input bzw. X] --> X[hier passiert irgendwas]
    subgraph "Schwarze Kiste"
      X
    end
    X --> O[Output bzw. Y]
```



:::{#exm-fofrage1}

### Forschungsfrage 1

>   Hat Lernen (X) einen Einfluss auf den Pr√ºfungserfolg (Y)?
>   Verringert Joggen (X) die Menge des H√ºftgolds (Y)?
>   Um welchen Betrag erh√∂ht sich der Umsatz (Y), wenn wir 1000‚Ç¨ mehr Werbung ausgeben? (X)$\square$

:::



:::{#exm-fofrage2}

### Forschungsfrage 2

Nach dem Studium haben Sie bei einem gro√üen Online-Auktionshaus angeheuert. Da Sie angaben, sich im Studium ~~intensiv~~ etwas mit Statistik besch√§ftigt zu haben, hat man Sie in die Abteilung f√ºr Forschung und Entwicklung (F&E) gesteckt. 
Heute ist es Ihre Aufgabe, Auktionen zur Spielekonsole [Wii](https://www.nintendo.de/Wii/Wii-94559.html) zu untersuchen,^[<https://www.nintendo.de/Wii/Wii-94559.html>]
genauer gesagt geht es um das Spiel [Mariokart](https://www.nintendo.de/Spiele/Wii/Mario-Kart-Wii-281848.html#_bersicht).^[y<https://www.nintendo.de/Spiele/Wii/Mario-Kart-Wii-281848.html#_bersicht>]
Ihre Forschungsfrage lautet:

>   Welche Produktmerkmale stehen mit einem hohen Verkaufserl√∂s in Zusammenhang?$\square$
:::


:::{#exm-braindrain}
### Handynutzung und Konzentrationsf√§higkeit
Eine Forschungsfrage k√∂nnte lauten zum Thema Handynutzung: 

>    Verringert intensive Handynutzung die Konzentrationsf√§higkeit? $\square$
:::


:::{#exm-braindrain2}


::: {.content-visible when-format="html"}
### Aus der Forschung: Smartphone-Brain-Drain üì±üß†üö´
:::

::: {.content-visible when-format="pdf"}
### Aus der Forschung: Smartphone-Brain-Drain 
:::

@ward_brain_2017 untersuchten die Forschungsfrage, ob die blo√üe Gegenwart eines Handies (z.B. wenn es vor Ihnen auf dem Tisch liegt) dazu f√ºhrt, dass man abgelenkt wird und daher schlechtere kognitive Leistungen zeigt.

Leider schreiben die Autoren Ihre Hypothese nicht glasklar, aber implizit ist obige Hypothese herauszulesen:

>   First, smartphones may redirect the orientation of conscious attention away from the focal task and toward thoughts or behaviors associated with one‚Äôs phone. Prior research provides ample evidence that ... this digital distraction adversely affects both performance ... and enjoyment.

Sp√§ter formulieren Sie Ihre Hypothese noch genauer:

>   In two experiments, we test the hypothesis that the mere presence of one‚Äôs own smartphone reduces available cognitive capacity.

Die Ergebnisse unterst√ºtzen Ihre Hypothese, s. @fig-braindrain. 
Im Diagramm ist ersichtlich, dass die kognitive Leistung (Y-Achse) sowohl in der Kapazit√§t des Arbeitsged√§chtnisses (links) als auch in der fluiden Intelligenz (rechts) am geringsten ist, wenn das Handy auf dem Schreibtisch (Desk) liegt. Am besten ist die kognitive Leistung, wenn das Handy nicht im Raum ist.$\square$






![Handy in Sichtweite verringert die kognitiven Ressourcen, @ward_brain_2017](img/braindrain1.jpg){#fig-braindrain}

:::



:::{#exr-braindrain1}
Benennen Sie X und Y in @exm-braindrain2! $\square$
:::

:::{#exr-braindrain-chatgpt}
Fragen Sie einen Bot (z.B. ChatGPT) zum Stand der Forschung hinsichtlich der Braindrain-Forschungsfrage. Diskutieren Sie die Antwort, auch in ihren Grenzen. $\square$
:::




:::{.callout-caution}
Es ist ein h√§ufiger Fehler, in der Forschungsfrage zu formulieren "X f√ºhrt zu Y", aber in der Analyse keine Methode zu verwenden, die geeignet ist, kausale Zusammenh√§nge aufzudecken. Es reicht nicht, dass man z.B. einen (negativen) Zusammenhang zwischen der H√§ufigkeit von Smartphone-Nutzung und Konzentrationsf√§higkeit findet [@schwaiger_impact_2022], um zu sagen: "Daddeln macht dumm!". Es k√∂nnte ja z.B. auch umgekehrt sein. Platt gesagt: "Dummheit f√ºhrt zu Daddeln". Weitere Erkl√§rungen sind m√∂glich. Vorsicht also mit (vor)schnellen Aussagen zu kausalen Abh√§ngigkeiten.
:::






### Der Prozess der Datenanalyse


Datenanalyse ist eine Art des Probleml√∂sens.
Anders gesagt, man macht es nicht zum Spa√ü^[jedenfalls nicht alle von uns], sondern um ein Ziel zu erreichen, d.h. ein Problem zu l√∂sen.
Daher analysiert man nicht gleich zu Anfang wild drauf los. Zun√§chst 1) kl√§rt man das Problem und das Ziel. Dann 2) plant man das Vorgehen, z.B. welche Daten man erheben m√∂chte. Als n√§chstes 3) erhebt man die Daten und bereitet sie auf. Schlie√ülich kann man sie 4) endlich analysieren. Aber Daten sprechen nicht f√ºr sich, man muss sie 5) interpretieren und Schl√ºsse daraus ziehen. Dazu geh√∂rt auch, dass man die Schw√§chen der eigenen Analyse kritisch beleuchtet, vgl. @fig-ppdac. Diesen Ablauf nennt man auch das PPDAC-Modell [@mackay_scientific_2000]:

- P: *Problem* (Problem und Ziel und Sachgegenstand verstehen)
- P: *Plan* (Vorgehen planen)
- D: *Data* (Daten erheben und aufbereiten)
- A: *Analysis* (Daten analysieren)
- C: *Conclusions* (Schlussfolgerungen ziehen; Daten interpretieren
)




```{mermaid}
%%| fig-cap: "Datenanalyse als Prozess: Das PPDAC-Modell"
%%| label: fig-ppdac
%%| out-width: "100%"

graph LR
    Problem --> Plan --> Data --> Analysis --> Conclusions --> Problem
```



## Was sind Daten?

:::{#def-daten}

### Hallo, Daten

Daten kann man als eine geordnete Folge von Zeichen definieren.$\square$

:::



Daten kommen h√§ufig in Tabellenform vor; 
so sind sie (oft) am besten zu untersuchen,
s. @tbl-daten.
Die erste Spalte `id` ist nur eine laufende Nummer.
Sie dient dazu, die einzelnen Beobachtungen (hier Studentis) 
identifizieren zu k√∂nnen und birgt ansonsten keine Information.
Beispiele f√ºr ID-Variablen sind z.B. Matrikulationsnummer, Personalausweisnummern oder Bestellnummern.


```{r}
#| echo: false
#| tbl-cap: "So sehen Daten in Form einer Tabelle aus."
#| label: tbl-daten
d <- 
  tribble(~ id, ~name, ~note,
          1, "Anna", 1.3,
          2, "Berta", 2.3,
          3, "Carla", 3)

d |> 
  gt::gt()
```








:::{#exm-daten}

### Daten zur Forschungsfrage 2

Hier ist ein Auszug der Daten zur Tabelle `mariokart`, s. @tbl-mariokart.

```{r tbl-mariokart}
#| echo: false
#| label: tbl-mariokart
#| tbl-cap: Auszug aus der Tabelle mariokart
#library(dplyr)
#library(DT)
data("mariokart", package = "openintro")

#mariokart <- as_tibble("mariokart")

head(mariokart) |> 
  select(-id, - title) |> 
  kable()

# if (knitr:::is_html_output()) {
#   mariokart %>% 
#     select(-title) %>% 
#     DT::datatable() 
# }
# 
# if (knitr:::is_latex_output()) {
#   mariokart %>% 
#     select(-title) %>% 
#     head() 
# }

```


Eine Erkl√§rung (Data-Dictionary) aller Variablen des Datensatzes `mariokart` findet sich [hier](https://www.openintro.org/data/index.php?data=mariokart).^[<https://www.openintro.org/data/index.php?data=mariokart>] $\square$
:::

:::{#def-datadict}
### Data-Dictionary

Eine Erkl√§rung, was die Namen einer Datentabelle bedeuten,
nennt man *Code Book* or *Data-Dictionary*.$\square$

:::



### Was ist eine Variable?

:::{#def-var}

### Variable

Eine Variable ist ein Platzhalter, der f√ºr ein Merkmal steht, das verschiedene Werte annehmen kann.$\square$

:::


Man kann sich eine Variable wie einen Beh√§lter vorstellen,
auf dem mit einem Stift geschrieben steht, was f√ºr eine Art Inhalt darin ist,
s. @fig-var-zuweisen.


![Wir definieren eine Variable "temp" mit dem Inhalt "9"](img/Variablen_zuweisen.png){#fig-var-zuweisen width="25%"}




### Beobachtungseinheit

:::{#def-beobeinheit}

### Beobachtungseinheit

Beobachtungseinheiten sind die Dinge, die wir untersuchen (beobachten).
Beobachtungseinheiten sind die Tr√§ger von Variablen.$\square$

:::


In @tbl-daten gibt es drei Variablen: `id`, `Name` und `Note`. 
Es gibt auch drei Beobachtungseinheiten: *Anna*, *Berta* und *Carla.*


### Wert

:::{#def-wert}
### Wert
Ein *Wert* ist der Inhalt einer Variablen.$\square$

:::


In  @fig-var-zuweisen ist der Wert von `temp` 9.
In @tbl-daten hat die Variable `name` drei Elemente: Anna, Berta, Carla.
Der Wert des 2. Elements ist Berta.

:::{#def-auspraegung}
### Auspr√§gung
Als *Auspr√§gungen* bezeichnet man die verschiedenen Werte einer Variablen. $\square$
:::


:::{#exm-geschlecht}

In einer Studie wurden zehn Probanden untersucht. 
Die Variable `geschlecht` dokumentiert die Geschlechter der Personen:

```{r}
geschlecht <- c("Mann", "Frau", "Frau", "Frau", "Mann",
                "Frau", "Mann", "Mann", "divers", "Frau")
geschlecht
```

In dieser Variable (die aus 10 Werten besteht) finden sich drei Auspr√§gungen:
divers, Frau, Mann.$\square$

:::

:::{.callout-tip}
Gerade haben Sie etwas Computer-Syntax gesehen, genauer gesagt, Befehle aus der Programmiersprache *R*. 
Bisher haben wir diese Befehle nicht kennengelernt. 
Sie verstehen Sie vermutlich (nicht ganz).
Ignorieren Sie diese Befehle einfach erstmal. 
:::




### Tidy Data

:::{#def-tidy}
### Tidy Data
Unter *Tidy-Data* (tidy data, "Normalform") versteht man eine Tabelle,
in der jede Zeile eine Beobachtungseinheit darstellt,
jede Spalte eine Variable und jede Zelle der Tabelle einen Wert, s. @fig-tidy1.
(Zus√§tzlich ist noch eine "Kopfzeile" erlaubt, in der die Namen der Variablen stehen.)$\square$

:::

@tbl-daten ist ein Beispiel f√ºr Tidy-Data. 
@fig-tidy1 zeigt ein Sinnbild f√ºr Tidy-Data [@wickham_r_2018]. Und @fig-tidy-hadley erl√§utert das Tidy-Prinzip genauer.


:::{#fig-tidy-all layout-ncol=2}
![Tidy-Data-Sinnbild [@wickham_tidy-data-sinnbild_2023]](img/tidy-1.png){#fig-tidy1}

![Was ist Tidy-Data, fragt @horst_tidy_2023](img/tidydata_1.jpg){#fig-tidy-hadley}

Stay Tidy!

:::

:::callout-important
F√ºr eine statistische Analyse ist es oft sinnvoll, dass die Daten im Tidy-Format vorliegen.
:::

Der Vorteil des Tidy-Formats ist es, 
dass man wei√ü, wie die Daten aufgebaut sind. 
Au√üerdem k√∂nnen Statistikprogramme oft mit dieser Form am besten umgehen, s. @fig-tidy3.



![Immer sch√∂n Ordnung halten... [@horst_tidy_20263](img/tidydata_3.jpg){#fig-tidy3 width="75%"}











Das Tidy-Format wird auch als "langes" Format bezeichnet.

@fig-long-wide-anim zeigt einen Datensatz in der "langen" Form, also tidy, und den gleichen Datensatz, umformatiert in der "breiten" Form, nicht-tidy.


::: {.content-visible when-format="pdf"}
![Links: Eine Tabelle mit Format "wide" - nicht "tidy". Rechts: Das "Langformat" ("long") ist "tidy".](img/wide-long.png){#fig-long-wide-anim width="50%"}
:::


::: {.content-visible when-format="html"}
![Eine Tabelle einmal im Format Format "wide" (nicht "tidy") und einmal im Format "long" ("tidy") [@aden-buie_wide_2018]](img/tidyr-pivoting.gif){#fig-long-wide-anim width="50%"}
:::





:::::{#exm-widelong}

Im Folgenden sind eine Nicht-Tidy-Tabelle (@tbl-untidy1) und eine Tidy-Tablle (@tbl-tidy1) dargestellt.

:::: {layout="[0.4, 0.1, 0.4]"}

:::{#firstcol}
#### Breitformat

```{r}
#| echo: false
#| label: tbl-untidy1
#| tbl-cap: "Beispiel f√ºr eine NICHT-Tidy-Tabelle (Breitformat)"
d <-
  tribble(
    ~Produkt, ~Umsatz_2021, ~Umsatz_2022, ~Umsatz_2023,
    "Hammer", 10, 11, 12,
    "N√§gel", 15, 10, 5
  )
kable(d)
```
:::

:::{#emptycol}
:::

:::{#secondcol}
#### Langformat (tidy)

```{r}
#| echo: false
#| label: tbl-tidy1
#| tbl-cap: "Beispiel f√ºr eine Tidy-Tabelle (Langformat)"
d_long <-
  d |> 
  pivot_longer(cols = c(Umsatz_2021, Umsatz_2022, Umsatz_2023), names_to = "Jahr2", values_to = "Umsatz") |> 
  separate(Jahr2, into = c("k", "Jahr")) |> 
  select(-k)

kable(d_long)
```
:::

::::

:::::


:::{#exr-widelong}
Suchen Sie ein Beispiel f√ºr eine Konfiguration einer Tabelle im Long- vs. Wide-Format. $\square$
:::


>    [üßë‚Äçüéì]{.content-visible when-format="html"}[\emoji{student}]{.content-visible when-format="pdf"} Wozu braucht man das Tidy-Format?

>    [üë©‚Äçüè´]{.content-visible when-format="html"}[\emoji{woman-teacher}]{.content-visible when-format="pdf"} In vielen Software-Programmen der Datenanalyse wei√üt man z.B. der X- oder Y-Variable eine Spalte einer Tabelle zu. M√∂chte man etwa die Ver√§nderung des Umsatzes im Verlauf der Jahre visualisieren oder analysieren, so braucht es die Spalten 'Jahr' und 'Umsatz', also ein Tidy-Format, @tbl-untidy1 bzw. @tbl-tidy1.

@fig-tidy stellt auf Basis einer "Tidy-Tabelle" (@tbl-tidy1) ein Diagramm dar. Ohne Tidy-Daten w√§re dieses Diagramm nicht (so einfach) zu erstellen gewesen.


```{r}
#| echo: false
#| label: fig-tidy
#| fig-asp: 0.5
#| fig-cap: "Beispiel f√ºr eine Visualisierung auf Basis einer Tidy-Tabelle,  vgl. @tbl-tidy1"

last_points <- d_long %>%
  group_by(Produkt) %>%
  filter(Jahr == max(Jahr)) %>%
  ungroup()

d_long |> 
  ggplot(aes(x = Jahr, y = Umsatz, color = Produkt, 
             group = Produkt, shape = Produkt)) +
  geom_point(size = 3) +
  geom_line() +
  scale_color_okabeito() +
  theme_modern() +
  geom_text(data = last_points, aes(label = Produkt), 
            hjust = -0.1, vjust = 0.5, size = 4, show.legend = FALSE) +
  theme(legend.position = "none")
```







### Je mehr, desto besser (?)


Was Daten betrifft, k√∂nnte man behaupten: "Viel hilft viel" oder "Je mehr, desto besser".
Nat√ºrlich unter sonst gleichen Umst√§nden.^[Ceteris paribus, auf Latein, h√∂rt sich gleich viel schlauer an] Viel Datenm√ºll ist nat√ºrlich nicht besser als ein paar knappe, wasserdichte Fakten!


:::{#exm-samplesize}

Um Ihre eigene Lehraktivit√§t zu organisieren, 
wollen Sie sich ein Bild machen, 
wie viel Ihre Nebensitzerinner und Nebensitzer im H√∂rsaal so lernen.
Sie blicken nach links und fragen "wie viel lernst du so?".
Sie blicken nach recht und wiederholen die Frage gerichtet an den Kommilitonen, der rechts neben Ihnen sitzt.
Dann addieren Sie die zwei Zahlen (unter der Annahme, dass Sie zwei Zahlen bekommen haben),
und teilen durch zwei, um den Mittelwert zu erhalten.$\square$
:::


Ein kritischer Geist k√∂nnte anmerken, 
dass Sie besser die Untersuchung nicht gemacht h√§tten 
(auch wenn Sie, vielleicht ohne zu wollen, eine statistische Untersuchung angestellt haben).
Denn bei so wenig befragten Personen ist die Ungenauigkeit Ihrer Sch√§tzung der typischen Lernzeit bei Studentis einfach zu hoch.



@fig-sample-estimate veranschaulicht, dass man einen Mittelwert genauer sch√§tzen kann,
wenn man auf eine gr√∂√üere Stichprobe zur√ºckgreift. 
Das Teilbild links zeigt den Mittelwert einer Stichprobe mit $n=20$ Beobachtungen. 
Das Teilbild rechts zeigt den Mittelwert einer Stichprobe mit $n=200$ Beobachtungen (jeweils aus der gleichen Grundgesamtheit).
Wie man sieht, ist im linken Teilbild die Streuung (Variation) h√∂her als im rechten Teilbild:

::: {.content-visible when-format="pdf"}

```{r}
#| label: fig-sample-estimate
#| fig-cap: "Sch√§tzgenauigkeit als Funktion der Stichprobengr√∂√üe. Jeder Punkt stellt eine Stichprobe dar, entweder mit n=20 (links) oder mit n=200 (rechts). Kleine Stichproben (links) haben im Schnitt eine gr√∂√üere Abweichung vom wahren Mittelwert als gr√∂√üere Stichproben (rechts). "
#| echo: false

d <- tibble(id = 1:20)

d <- d |> 
  mutate(
    x1 = map_dbl(id, ~mean(rnorm(n = 20))), 
    x2 = map_dbl(id, ~mean(rnorm(n = 200)))
  )

d_long <- d |> 
  pivot_longer(cols = c(x1, x2), 
               names_to = "variable", values_to = "value")



custom_labels <- c(x1 = "Kleine Stichproben (n=20)", x2 = "Gro√üe Stichproben (n=200)")


ggplot(d_long, aes(x = id, y = value)) +
  geom_hline(yintercept = 0, linetype = "dashed") +
  geom_point() +
  facet_wrap(~ variable, labeller = labeller(variable = custom_labels)) +
  theme_minimal() +
  labs(
    x = "Nummer der Stichprobe",
    y = "Wert") +  
    geom_segment(aes(x = id, xend = id,
                   y = value, yend = 0),
               linetype = "dotted", 
               color = "grey40")
```

:::


::: {.content-visible when-format="html"}
![Sch√§tzgenauigkeit als Funktion der Stichprobengr√∂√üe: Die vertikale Linie zeigt den wahren Mittelwert. Kleinere Stichproben-Mittelwerte schanken (variieren) mehr um den Mittelwert herum als gr√∂√üere Stichproben.](img/Estimate.gif){#fig-sample-estimate}

Bildquelle: Karsten L√ºbke

:::



:::{.callout-important}
Mehr Daten = genauere Ergebnisse (unter sonst gleichen Umst√§nden) $\square$
:::





:::::{#exr-kleine-grosse-stipro}
### Live-Experiment zum Effekt der Stichprobengr√∂√üe

In diesem Live-Experiment untersuchen wir den Effekt der *Stichprobengr√∂√üe* auf die Streuung des Mittelwerts in der *Stichprobe.* Streuen die Ergebnisse mehr in kleinen Stichproben als in gro√üen? Probieren wir es aus!

In diesem Experiment werfen Sie (in kleinen Gruppen) eine M√ºnze (auf faire Art und Weise) und notieren das Ergebnis (Kopf oder Zahl).
Uns interessiert dabei die Frage, ob die Ergebnisse bei kleinen Stichproben (n=5 M√ºnzw√ºrfe) anders streuen als in gro√üen Stichproben (n=20 M√ºnzw√ºrfe).

:::: {layout="[ 80, 20 ]"}
::: {#first-column}
Sie brauchen nur experimentierfreudige Partner (Kleingruppen mit 2-4 Personen), eine faire M√ºnze und dann kann's los gehen! [Klicken Sie hier, um mit dem Experiment zu starten](https://docs.google.com/forms/d/e/1FAIpQLSeAwqNyZtyQwttq5JrQdQ2AO7w5vzcVDXjiejKnyFNxiWtEag/viewform?usp=sf_link).
:::

::: {#second-column}

```{r}
#| echo: false

qr <- qrcode::qr_code("https://docs.google.com/forms/d/e/1FAIpQLSeAwqNyZtyQwttq5JrQdQ2AO7w5vzcVDXjiejKnyFNxiWtEag/viewform?usp=sf_link")

plot(qr)
```
:::
::::

Die Daten aller Versuche k√∂nnen Sie [hier](https://docs.google.com/spreadsheets/d/11mKFFpr-Y1CMPpq4dGA-JA_Z9jRkPbXolo54Y0G_2gE/edit?usp=sharing) einsehen.^[<https://tinyurl.com/3w8ke2n2>] $\square$
:::::




:::{#exm-schule-samplesize}
### Dorfschulen machen die schlauesten Sch√ºler!
In einer Pressemitteilung sei zu lesen, dass die besten Sch√ºler in den Dorfschulen zu finden seien (Das ist eine fiktive Geschichte). Mit etwas Recherche finden Sie heraus, dass diese Aussage f√ºr belastbaren Daten beruht: Tats√§chlich sind die Notendurchschnitte auf den kleinen Dorfschulen deutlich besser als in den gro√üen Schulen in der Stadt. Also stimmt die Behauptung der Pressemitteilung? Die gute Landluft l√§sst das Hirn wachsen?
Sie recherchieren noch etwas weiter in den Daten. Dann f√§llt Ihnen auf: Die *schlechtesten* Sch√ºler kommen auch aus den Dorfschulen!
Eine statistische Erkl√§rung bietet sich an: In den Dorfschulen gibt es nur wenig Kinder und kleine Klassen -- die Stichproben sind also klein.
Bei kleinen Stichproben gibt es viel Variation um den Mittelwert herum, s. @fig-sample-estimate, und zwar nach oben (guter Notenschnitt) und nach unten (schlechter Notenschnitt). $\square$
:::







## Arten von Variablen  {#sec-arten-variablen}


### Nach Position in der Forschungsfrage

Angenommen, Ihre Forschungsfrage lautet:

>   Hat Lernen einen Einfluss auf den Pr√ºfungserfolg?

In dem Fall gilt:

- *Lernen* ist die Inputvariable/X-Variable/Ursache/unabh√§ngig Variable (UV)
- *Pr√ºfungserfolg*  ist die Outputvariable/Y-Variable/Wirkung/abh√§ngige Variable (AV)

@fig-ueberblick-fragen stellt diese beiden "Positionen" einer Variable dar. Die erste Position ist vor dem Pfeil.
Die zweite Position ist nach dem Pfeil.

```{mermaid}
%%| fig-cap: Synonyme Bezeichnungen f√ºr Input- und Output-Variablen einer Forschungsfrage
%%| label: fig-ueberblick-fragen
%%| out-width: "100%"

graph LR
    Input --> Output
    X --> Y
    P[Pr√§diktor] --> K[Kriterium]
    Ursache --> Wirkung
    UV[unabh√§ngige Variable] --> AV[abh√§ngige Variable]
```


:::{#exr-uvav}
√úberlegen Sie sich eine Forschungsfrage, die eine UV und eine AV enth√§lt. Nennen Sie einer anderen Person diese Forschungsfrage und fragen Sie, was die UV und die AV ist. Bei richtiger Antwort belohnen Sie gro√üz√ºgig. $\square$
:::

### Nach dem Skalenniveau

:::{#def-skalenniveau}
### Skalenniveau
Der Begriff *Skalenniveau* wird verwendet, um die Art und Menge der Information, die in Variablen enthalten ist, zu benennen. Diese Klassifikation basiert auf den Eigenschaften der Daten und den mathematischen Operationen, die sinnvoll auf diese Daten angewendet werden k√∂nnen. $\square$
:::

@fig-skalenniveau gibt einen √úberblick √ºber typisch verwendete Skalenniveaus.


```{mermaid}
%%| fig-cap: Skalenniveaus
%%| label: fig-skalenniveau
%%| out-width: "50%"

graph TD
    Variablen --> qualitativ
    Variablen --> quantitativ
    qualitativ --> nominal
    qualitativ --> ordinal
    quantitativ --> Intervallniveau
    quantitativ --> Verh√§ltnisniveau
```


:::{.exm-skalen}

### Beispiele f√ºr Skalenniveaus

Beispiele zu den Skalenniveaus sind in @tbl-skalen-bsps aufgef√ºhrt. $\square$
:::

```{r}
#| echo: false
#| tbl-cap: "Beispiele f√ºr Skalenniveaus"
#| label: tbl-skalen-bsps
skalen_bsps <- 
  tibble::tribble(
                        ~Variable,     ~Skalenniveau,
                      "Haarfarbe",    "Nominalskala",
                     "Augenfarbe",    "Nominalskala",
                     "Geschlecht",    "Nominalskala",
                      "Automarke",    "Nominalskala",
                         "Partei",    "Nominalskala",
                 "Lieblingsessen",    "Ordinalskala",
  "Medaillen beim 100-Meter-Lauf",    "Ordinalskala",
                     "Uniranking",    "Ordinalskala",
                             "IQ",  "Intervallskala",
                   "Extraversion",  "Intervallskala",
          "Temperatur in Celcius",  "Intervallskala",
       "Temperatur in Fahrenheit",  "Intervallskala",
           "Temperatur in Kelvin", "Verh√§ltnisskala",
                    "K√∂rpergr√∂√üe", "Verh√§ltnisskala",
                "Geschwindigkeit", "Verh√§ltnisskala",
                          "L√§nge", "Verh√§ltnisskala"
  )
skalen_bsps |> 
  kable()
```



Jenachdem √ºber welches Skalenniveau eine Variable verf√ºgt,
sind verschiedenen Rechenoperationen erlaubt, s. [@tbl-skalenniveaus]{.content-visible when-format="html"}
[@tbl-skalenniveaus-pdf]{.content-visible when-format="pdf"}.


::: {.content-visible when-format="html"}

```{r}
#| dev: "ragg_png"
#| echo: false
#| tbl-cap: "Erlaubte Rechenoperationen nach Skalenniveau"
#| label: tbl-skalenniveaus
skalenniveaus <-
  tibble::tribble(
       ~Skalenniveau, ~Quantitativ, ~`‚â†`, ~`‚âº`, ~`+`, ~`√ó`,
     "Nominalniveau",       "nein",  "‚úÖ",  "‚ùå",  "‚ùå",  "‚ùå",
     "Ordinalniveau",       "nein",  "‚úÖ",  "‚úÖ",  "‚ùå",  "‚ùå",
   "Intervallniveau",         "ja",  "‚úÖ",  "‚úÖ",  "‚úÖ",  "‚ùå",
  "Verh√§ltnisniveau",         "ja",  "‚úÖ",  "‚úÖ",  "‚úÖ",  "‚úÖ"
  )

skalenniveaus |> 
  kable()
```

:::

::: {.content-visible when-format="pdf"}

```{r}
#| dev: "ragg_png"
#| echo: false
#| tbl-cap: "Erlaubte Rechenoperationen nach Skalenniveau"
#| label: tbl-skalenniveaus-pdf
skalenniveaus <-
  tibble::tribble(
       ~Skalenniveau, ~Quantitativ, ~Gleichheit, ~Reihenfolge, ~Addition, ~Multiplikation,
     "Nominalniveau",       "nein",  "ja",  "nein",  "nein",  "nein",
     "Ordinalniveau",       "nein",  "ja",  "ja",  "nein",  "nein",
   "Intervallniveau",         "ja",  "ja",  "ja",  "ja",  "nein",
  "Verh√§ltnisniveau",         "ja",  "ja",  "ja",  "ja",  "ja"
  )

skalenniveaus |> 
  kable()
```

:::

Was soll das bedeuten, "Rechenoperationen"?
Schauen wir uns f√ºr jedes Skalenniveau ein "Rechenbeispiel" an.

*Nominalskala*: Die Variable *Geschlecht* ist nominalskaliert. Das bedeutet, dass ihre Auspr√§gungen *Frau* und *Mann* z.B. nicht (sinnvoll) addiert oder sonstwie "verrechnet" werden k√∂nnen. Man k√∂nnte, z.B. um das Eintippen zu erleichtern, Frauen mit `1` kodieren und M√§nner mit `2`. Damit darf man aber nicht rechnen! Nicht addieren, multiplizieren ... Es macht keinen Sinn zu sagen: "Ich habe eine Frau und einen Mann in meiner Tabelle, das ist im Schnitt ein diverses Geschlecht, weil der Mittelwert von 1 und 2 ist 1,5!"
Die *einzige* "Rechenoperation", die man auf der Nominalskala machen darf, ist die Pr√ºfung auf *Gleichheit*: Mann kann feststellen, ob ein Objekt gleich zu einem anderen ist oder unterschiedlich. Also ob zwei Personen das gleiche Geschlecht haben oder von unterschiedlichem Geschlecht sind.
Anders ausgedr√ºckt:


::: {.content-visible when-format="html"}
- üë© $\ne$ üë®
- üë© $=$ üë©
- üë® $=$ üë®
:::

::: {.content-visible when-format="pdf"}
- FRAU $\ne$ MANN
- FRAU $=$ FRAU
- MANN $=$ MANN
:::


*Ordinalskala*: Diese Skala entspricht einer Rangordnung. Eine Rangordnung ist etwa die geordnete Abfolge Ihres Leibgerichte^[1. Pizza, 2. Spagetthi, 3. Schnitzel]. Etwas "formaler" ausgedr√ºckt:

::: {.content-visible when-format="html"}
- üçï $\succ$  üçù $\succ$ ü•©
:::

::: {.content-visible when-format="pdf"}
- $\text{Pizza} \succ \text{Spagetthi} \succ \text{Schnitzel}$
:::

Das komische Zeichen $\succ$ soll hei√üen: "Ist auf meiner Liste von Leibgerichten weiter oben, mag ich lieber".
Man kann aber *nicht* sagen, "Ich mag aber Pizza um 42% mehr als die Spagetthi und die wieder um 73% mehr als ein Schnitzel!". Zumindest kann man das nicht ohne weitere Informationen und Annahmen. Es gibt also Dinge auf der Welt, die man leicht in eine Rangordnung bringen kann, aber die man nur schwer in der Gr√∂√üe der Unterschiede bemessen kann. Das ist die Ordinalskala.

:::{.callout-important}
Die Ordinalskale erlaubt, Objekte zu ordnen (hinsichtlich eines Merkmals). Die Abst√§nde zwischen den Objekten k√∂nnen nicht quantifiziert werden. $\square$
:::


```{r}
#| dev: "ragg_png"
#| echo: false
#| out-width: "100%"
#| label: fig-ordinal
#| eval: false
#| fig-asp: 0.3
#| fig-cap: "Die Ordinalskala: Je weiter rechts auf der X-Achse, desto lieber esse ich das Gericht."

tibble(x = c(1,2,5), Liebling = c("ü•©", "üçù", "üçï")) %>% 
  ggplot()+
  aes(x=x) +
  geom_label(aes(label = Liebling), y = 1, size = 10) +
  theme_minimal() +
  labs(x = "Wie sehr ich dieses Essen mag") +
  theme(axis.text = element_blank()) +
  scale_y_continuous(limits = c(0,2))
```


*Intervallskala*: Das ist vielleicht eine √úberraschung f√ºr Sie: Wenn es heute 10¬∞C hat und morgen 5¬∞C -- dann ist es heute *nicht* doppelt so warm wie morgen. Ja, 10 ist das Doppelte von 5. Aber *10¬∞ Celcius* ist *nicht* doppelt so warm wie 20¬∞ Celcius. Wenn Sie das verwundert: Das ist normal, so geht es vielen Leuten, wenn sie das zum ersten Mal h√∂ren.
Der Grund, dass es nicht erlaubt ist, Verh√§ltnisse (wie doppelt/halb so viel etc.) auf der Celcius-Skala zu bilden,
ist, dass der Nullpunkt der Skala, 0¬∞ C, kein echter, physikalischer Nullpunkt ist. Bei 0¬∞ C liegt eben nicht Null W√§rmeenergie vor. Stattdessen wurde eine W√§rmenergiemenge gew√§hlt, die f√ºr uns Menschen ganz praktisch, da augenf√§llig ist: der Gefrierpunkt von Wasser. Was bei der Intervallskala erlaubt ist, ist das Addieren (und Subtrahieren): heute 10¬∞C, morgen 5¬∞C, das ist ein Unterschied von 5¬∞C. Oder: Im Schnitt waren es 7,5¬∞C, das ist genau in der Mitte von 5 und 10¬∞C. @fig-intervall versinnbildlicht die Intervallskala.




```{r}
#| dev: "ragg_png"
#| echo: false
#| out-width: "100%"
#| fig-asp: 0.3
#| label: fig-intervall
#| fig-cap: "Ein Meterma√ü steckt im tr√ºben Wasser. Auf dem Meterma√ü k√∂nnen wir die aufgedruckten Zahlen ablesen. Aber wir wissen nicht, ob der Meterma√ü auf dem Boden steht. Wir wissen demnach nicht, ob der vom Meterma√ü angegebene Nullpunkt der wahre Nullpunkt (Meeresboden) ist."

tibble(y = c(10, 20, 30)) %>% 
  ggplot()+
  aes(x=x) +
  annotate("segment", x = 0, xend = 0, y = 0, yend = 30) +
  theme_minimal() +
  annotate("rect", fill = "blue", alpha = .8,
           xmin = -1, xmax = 1, ymin = 10, ymax = 0) +
  theme_void() +
  geom_label(x = 0, aes(y = y, label = y))
```



*Verh√§ltnisskala*: Eine Verh√§ltnisskala  ist das,
was man sich gemeinhin unter einer metrische Variable vorstellt: 
Man kann "normal" rechnen, alle Rechenoperationen sind erlaubt. Zuz√ºglich zu denen, 
die auch in anderen, "niedrigeren" Skalenniveaus erlaubt sind, 
ist das das Bilden von Verh√§ltnissen -- Multiplizieren, s. @fig-verhaeltnis.

```{r}
#| dev: "ragg_png"
#| echo: false
#| fig-asp: 0.5
#| label: fig-verhaeltnis
#| fig-cap: "Puh! Der rote Flitzer ist 10 Mal so teuer wie die blaue M√∂hre. Kohlen zusammenkratzen."
tibble(Preis = c(1e4, 1e5),
       id = c(1, 2),
       Auto = c("üöô", "üèéÔ∏è")  ) %>% 
  ggplot(aes(y = Preis, x = id)) +
  geom_col() +
  scale_x_discrete() +
  geom_bar_text()+
  #geom_label(aes(x = id, y = Preis, label = Preis)) +
  scale_y_continuous(labels = scales::dollar_format(),
                     limits = c(-5000, 110000),
                     breaks = c(10000, 50000, 100000),
                     expand = c(0.1, 0.1)) +
  geom_label(aes(x = id, label = Auto), y = -1e3,
                          size = 10,
             nudge_y = -10000)
```


:::: {layout="[ 40, 60 ]"}

::: {#first-column}
In [diesem Video](https://www.youtube.com/watch?v=_mN3kFe56ng) gibt es noch ausf√ºhrlichere Erkl√§rung zum Thema Skalenniveaus.
:::


::: {#second-column}
```{r}
#| echo: false
qr <- qrcode::qr_code("https://www.youtube.com/watch?v=_mN3kFe56ng")
plot(qr)
```
:::
::::


::: {.content-visible when-format="html"}
{{< video https://youtu.be/_mN3kFe56ng >}}
:::


Au√üerdem k√∂nnen quantitative Variablen untergliedert werden in:

- *stetige* Variablen, das sind Variablen, bei denen man zwischen zwei Auspr√§gungen immer noch eine weitere quetschen kann. So gibt es einen Wert f√ºr die K√∂pergr√∂√üe zwischen 1.60&#8239;m und 1.61&#8239;m. Und einen Wert zwischen 1.601&#8239;m und 1.602&#8239;m, etc.
- *diskrete* Variablen, das sind metrische Variablen, die nur bestimmte Auspr√§gungen haben, h√§ufig sind das die nat√ºrlichen Zahlen: $1,2,...$. Ein Beispiel w√§re die Anzahl der Kinder in einer Familie.



:::{.callout-tip}
Fragen nach Skalenniveaus geh√∂ren zu den Lieblingspr√ºfungsfragen in diesem Themenbereich. Sie sind gut beraten, sich gerade mit dieser Frage intensiver zu besch√§ftigen. Auch in thematisch angrenzenden F√§chern wird immer wieder die Frage nach dem Skalennvieau aufgeworfen. Das zeigt nat√ºrlich auch die hohe Relevanz des Themas.
:::


:::{#exr-skalenniveaus}
√úberlegen Sie sich f√ºr einige Variablen die Skalenniveaus und befragen Sie dann eine:n Kommilitonen dazu. $\square$
:::

## Modelle

Woran denken Sie beim Wort "Modell"?
Vielleicht an Spielzeugautos, s. @fig-matchbox.


![Matchbox-Autos sind Modelle f√ºr Autos](img/matchbox.jpg){#fig-matchbox width="25%"}

:::{#def-modelle}

### Modelle

Modelle sind ein vereinfachtes Abbild der Realit√§t, eine *Repr√§sentation* [@kaplan_statistical_2009].$\square$

:::


:::{#exm-Modelle}

## Beispiele f√ºr Modelle
Puppen sind Modelle f√ºr Babies, Landkarten f√ºr Landstriche und [das Atommodell von Nils Bohr](https://de.wikipedia.org/wiki/Bohrsches_Atommodell) ist ein Modell f√ºr Atome.^[<https://de.wikipedia.org/wiki/Bohrsches_Atommodell>]$\square$

:::

Auch in der Statistik nutzen wir Modelle.
Helfen Sie Prof. Weiss-Ois: Er blickt nicht durch.
Gerne w√ºrde er wissen, wie viele Stunden seine Studentis auf die Pr√ºfung lernen. 
Aber mit so vielen Zahlen kann er nicht umgehen ...
Geben Sie ihm ein Modell: Sagen Sie ihm, wie lang die Studis typischerweise lernen (sagen Sie ihm ein einfach den Mittelwert der Lernzeiten).

```{r}
#| echo: false
set.seed(42)
zeiten <- rnorm(30, mean = 10, sd = 2) %>% trunc()
zeiten_mw <- mean(zeiten)
```





:::::: {layout-ncol="3"}

:::: {.column width="40%"}

**Vorher**


`r zeiten`

![Oh jeh, so viele Zahlen! Ich check nix! Wie viel lernen denn jetzt meine Studis?! [@flaticon_professor_2024]](img/teacher.png){width="25%"}
::::


:::: {.column width="10%"}
<!-- empty column to create gap -->
::::


::::: {.column width="40%"}
**Nachher**

:::: {.content-visible when-format="html"}
::: {.centered}
**`r zeiten_mw`** 
:::
::::

::: {.content-visible when-format="pdf"}
\centering{9.6}
:::

</br>
</br>

![Yeah, jetzt wei√ü ich, wie viel die Studis so typischerweise lernen. Viel zu wenig nat√ºrlich!](img/teacher.png){width="25%"}



:::::
::::::






Der Nutzen von Modellen ist,
dass sie komplexe Sachverhalte vereinfachen und damit oft √ºberhaupt erst dem Verst√§ndnis 
oder einer Untersuchung zug√§nglich machen:
Modelle erm√∂glichen Verst√§ndnis.
In der Datenanalyse bzw. Statistik (die beiden Begriffe werden hier weitgehend synonym gebraucht)
fassen sie oft viele Daten pr√§gnant zusammen, z.B. zu einer einzelnen Kennzahl.
Das Verr√ºckte an Modellen ist, dass man Informationen wegwirft, 
um eine (andere, hoffentlich n√ºtzlichere) Information zu bekommen [@stigler_seven_2016]. 
Weniger ist mehr?!



## Praxisbezug


Wir leben im Datenzeitalter; Daten durchdringen alle Bereiche des beruflichen, gesellschaftlichen und privaten Lebens. Die Datenanalyse hat sich in den letzten Jahren massiv ver√§ndert, da Datenmengen und Methoden einen regelrechten Boom erlebt haben.





Diese Entwicklung ist durchaus auch kritisch zu betrachten;
viele Menschen betrachten die Entwicklung im Datenzeitalter -- Stichwort k√ºnstliche Intelligenz -- mit Sorge.
Egal ob man Daten als Segen oder Fluch betrachtet, in beiden F√§llen ist es wichtig, mit Daten umgehen zu k√∂nnen.
Mit der wachsenden Bedeutung von Daten w√§chst in gleichem Ma√üe die Bedeutung von Datenanalyse.
Denn Daten ohne Sinn sind nutzlos.
Aus diesem Grund kann man sagen, 
dass Datenanalyse (und damit auch Statistik als eine spezielle Art von Datenanalyse) 
zu stark nachgefragten Jobs geh√∂ren.


::: {.content-visible when-format="html"}

Laut [dem Entgeltatlas der Bundesagentur f√ºr Arbeit](https://web.arbeitsagentur.de/entgeltatlas/beruf/129987) 
liegt ein typisches Gehalt von Data Scientisten bei knapp 6000 ‚Ç¨ pro Monat 
(in der Altersgruppe von 25 bis 54)^[Abrufdatum: 1.2.23; <https://web.arbeitsagentur.de/entgeltatlas/beruf/129987>]. 
Laut dem [Gehaltsreporter](https://gehaltsreporter.de/gehaelter-von-a-bis-z/it/data-scientist/) 
liegt das Einstiegsgehalt dieser Berufsgruppe bei knapp 50.000‚Ç¨ pro Jahr.^[<https://gehaltsreporter.de/gehaelter-von-a-bis-z/it/data-scientist/>]


:::




## Wie man mit Statistik l√ºgt

Das *File-Drawer-Problem*:
Sie haben ein tolles Experiment durchgef√ºhrt, viel Arbeit, viel Stress, endlich geschafft, puh. 
Von den 20 Variablen (als AV, s. @sec-arten-variablen), die Sie untersucht haben, 
zeigt nur 1 einen interessanten Effekt, leider. 1 von 20, das h√∂rt sich nicht so toll an. 
W√§re es da nicht "elegant", 
die 19 Variablen ohne sch√∂nen Effekt einfach in der Schublade liegen zu lassen bis zum Sankt-Nimmerleins-Tag?
Dann k√∂nnten Sie stattdessen als Ergebnis nur die eine Variable mit sch√∂nen Ergebnis pr√§sentieren, 
ganz ohne widersprechende Befunde. 

Dieser Versuchung nicht zu erliegen, kann schwer sein. Es ist aber gef√§hrlich, 
missliebige Ergebnisse zu verschweigen: Die anderen Menschen bekommen dann ein falsches Bild der Ergebnislage; man spricht von [Publikationsbias](https://de.wikipedia.org/wiki/Publikationsbias) [@marksanglin_historical_2020]. Wer Ergebnisse verschweig, verzerrt die insgesamte Befundlage [@rothstein_publication_2014] -- klarer Fall von wissenschaftlichem Fehlverhalten.



## Fazit

Die Aufgabe von Statistik ist es, durch Zusammenfassen von Daten Modelle zu bilden, die es uns einfacher machen, schwierige Sachverhalte zu verstehen. Zentral ist dabei, die Analyse von Variabilit√§t der Daten. Daten kommen in verschiedenen Varianten vor, typischerweise in Tabellenform, m√∂glichst im Tidy-Format.




## Aufgaben


Die Webseite [datenwerk.netlify.app](https://datenwerk.netlify.app) stellt eine Reihe von einschl√§gigen √úbungsaufgaben bereit. Sie k√∂nnen die Suchfunktion der Webseite nutzen, um die Aufgaben mit den folgenden Namen zu suchen:



1. [variation01](https://datenwerk.netlify.app/posts/variation01/variation01.html)
1. [Def-Statistik01](https://datenwerk.netlify.app/posts/def-statistik01/def-statistik01)
1. [tidy1](https://datenwerk.netlify.app/posts/tidy1/tidy1.html)
1. [Skalenniveau1a
](https://datenwerk.netlify.app/posts/skalenniveau1a/skalenniveau1a)
1. [Ziele-Statistik](https://datenwerk.netlify.app/posts/ziele-statistik/ziele-statistik)
1. [variation02
](https://datenwerk.netlify.app/posts/variation02/variation02.html)
1. [Skalenniveau1b](https://datenwerk.netlify.app/posts/skalenniveau1b/skalenniveau1b)
1. [tidydata1](https://datenwerk.netlify.app/posts/tidydata1/tidydata1.html)

## Vertiefung 

### Excel f√ºr K√∂nner



In vielen Organisationen werden Exceltabellen f√ºr bestimmte Zwecke der Datenverarbeitung verwendet. 
Excel (und √§hnliche Programme) hat bestimmte St√§rken und Vorteile, aber auch gewisse Nachteile und Schw√§che;
das liegt z.T. daran, dass Excel f√ºr bestimmte Aufgaben besser und f√ºr andere weniger gut geeignet ist.
Wenn man mit Excel arbeitet, wiederholen sich erfahrungsgem√§√ü immer wieder die gleichen Fehler bzw. suboptimalen Vorgehensweise zum Aufbau einer Exceltabelle.

[Dieser Artikel](https://www.tandfonline.com/doi/full/10.1080/00031305.2017.1375989) von @broman_data_2018 zeigt anhand einiger praktischer Tipps, wie man Exceltabellen so aufbaut, dass Fehler minimiert werden. 


:::{#exr-xls-paper}
### Fassen Sie den Artikel von @broman_data_2018 zusammen
Die Lehrkraft teilt Sie dazu in Gruppen ein und weist jeder Gruppe einen Abschnitt des Artikels zu.
Fassen Sie das *Wesentliche* (und nur das Wesentliche) an einem geeigneten Ort zusammen (z.B. auf einem Miro-Board).
$\square$
:::



### Sind wir s√ºchtig nach dem Handy?


:::: {layout="[ 80, 20 ]"}
::: {#first-column}
Sind Sie s√ºchtig nach Ihrem Handy? Lassen Sie uns eine kleine Studie dazu (ggf. live im H√∂rsaal) durchf√ºhren. F√ºllen Sie [diese Umfrage](https://forms.gle/PP8yb6Ubqq3JU78F9) zum Thema Smartphonse-Sucht aus (anonym und kein Muss).
:::

::: {#second-column}

```{r}
#| echo: false

qr <- qrcode::qr_code("https://forms.gle/PP8yb6Ubqq3JU78F")
plot(qr)
```



:::
::::




Kernst√ºck der Umfrage ist die Smartphone-Sucht-Skala [@kwon_smartphone_2013]. Eine Studie fand, dass ca. ein Siebtel der Studierenden s√ºchtig nach ihrem Smartphone sind [@haug_smartphone_2015]; demnach k√∂nnte dem Thema eine hohe Bedeutsamkeit zukommen.

Wir werden die Daten im weiteren Verlauf auswerten. $\square$




### Datenprofi plaudert aus dem N√§hk√§stchen

Inspiration von einer Praktikerin der Datenanalyse: Caitlin Hudon verr√§t [in diesem Video](https://www.youtube.com/watch?v=O5lP6XcopdQ&list=PL9HYL-VRX0oQchs7dqFICoxMgnvFO10tC&index=15&t=1s), welche Fehler Sie sie in in den acht Jahren ihrer Berufserfahrung gemacht hat und was sie daraus gelernt hat.^[<https://youtu.be/O5lP6XcopdQ?si=7UsS6xbeYjnorGhx>]

{{< video https://www.youtube.com/watch?v=O5lP6XcopdQ&list=PL9HYL-VRX0oQchs7dqFICoxMgnvFO10tC&index=15&t=1s >}}


## Literaturhinweise

Einen Einblick in die  Fundamente statistischer Analyse bietet @stigler_seven_2016. 
@cetinkaya-rundel_introduction_2021, stellen grundlegende Konzepte der Analyse von Daten im Kapitel 1, "Hello data", vor.
@downey_probably_2023 illustriert statistische √úberraschungsmoment auf unterhaltsame, und vor allem: sofataugliche Art.



