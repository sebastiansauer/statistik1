<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="description" content="Ein Einführungskurs in die Statistik mit einem Schwerpunkt auf Prognosemodellierung">
<title>Statistik1 - 9&nbsp; Punktmodelle 2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./080-regression1.html" rel="next">
<link href="./060-modellguete.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken",
    "search-label": "Suchen"
  }
}</script><link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><link rel="stylesheet" href="styles.css">
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./040-verbildlichen.html">Modellieren</a></li><li class="breadcrumb-item"><a href="./070-zusammenhaenge.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Punktmodelle 2</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Statistik1</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Dunkelmodus umschalten"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Suchen"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Organisatorisches</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Hinweise</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./005-pruefung.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Prüfung</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Vorbereiten</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./010-rahmen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Rahmen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./020-R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Daten einlesen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./030-aufbereiten.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Daten umformen</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Modellieren</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./040-verbildlichen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Daten verbildlichen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./050-zusammenfassen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Punktmodelle 1</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./060-modellguete.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Modellgüte</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./070-zusammenhaenge.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Punktmodelle 2</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./080-regression1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Geradenmodelle 1</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./090-regression2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Geradenmodelle 2</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./100-abschluss.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Abschluss</span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
<li>
<a href="#lernsteuerung" id="toc-lernsteuerung" class="nav-link active" data-scroll-target="#lernsteuerung"><span class="header-section-number">9.1</span> Lernsteuerung</a>
  <ul class="collapse">
<li><a href="#standort-im-lernpfad" id="toc-standort-im-lernpfad" class="nav-link" data-scroll-target="#standort-im-lernpfad"><span class="header-section-number">9.1.1</span> Standort im Lernpfad</a></li>
  <li><a href="#lernziele" id="toc-lernziele" class="nav-link" data-scroll-target="#lernziele"><span class="header-section-number">9.1.2</span> Lernziele</a></li>
  <li><a href="#ben%C3%B6tigte-r-pakete" id="toc-benötigte-r-pakete" class="nav-link" data-scroll-target="#ben%C3%B6tigte-r-pakete"><span class="header-section-number">9.1.3</span> Benötigte R-Pakete</a></li>
  <li><a href="#ben%C3%B6tigte-daten" id="toc-benötigte-daten" class="nav-link" data-scroll-target="#ben%C3%B6tigte-daten"><span class="header-section-number">9.1.4</span> Benötigte Daten</a></li>
  </ul>
</li>
  <li><a href="#zusammenfassen-zum-zusammenhang" id="toc-zusammenfassen-zum-zusammenhang" class="nav-link" data-scroll-target="#zusammenfassen-zum-zusammenhang"><span class="header-section-number">9.2</span> Zusammenfassen zum Zusammenhang</a></li>
  <li>
<a href="#sec-cov" id="toc-sec-cov" class="nav-link" data-scroll-target="#sec-cov"><span class="header-section-number">9.3</span> Abweichungsrechtecke</a>
  <ul class="collapse">
<li><a href="#noten-und-abweichungsrechtecke" id="toc-noten-und-abweichungsrechtecke" class="nav-link" data-scroll-target="#noten-und-abweichungsrechtecke"><span class="header-section-number">9.3.1</span> Noten und Abweichungsrechtecke</a></li>
  <li><a href="#sec-kov" id="toc-sec-kov" class="nav-link" data-scroll-target="#sec-kov"><span class="header-section-number">9.3.2</span> Kovarianz</a></li>
  <li><a href="#die-kovarianz-ist-schwer-zu-interpretieren" id="toc-die-kovarianz-ist-schwer-zu-interpretieren" class="nav-link" data-scroll-target="#die-kovarianz-ist-schwer-zu-interpretieren"><span class="header-section-number">9.3.3</span> Die Kovarianz ist schwer zu interpretieren</a></li>
  </ul>
</li>
  <li>
<a href="#korrelation" id="toc-korrelation" class="nav-link" data-scroll-target="#korrelation"><span class="header-section-number">9.4</span> Korrelation</a>
  <ul class="collapse">
<li><a href="#korrelation-kausation" id="toc-korrelation-kausation" class="nav-link" data-scroll-target="#korrelation-kausation"><span class="header-section-number">9.4.1</span> Korrelation ≠ Kausation</a></li>
  <li><a href="#korrelation-misst-nur-linearen-zusammenhang" id="toc-korrelation-misst-nur-linearen-zusammenhang" class="nav-link" data-scroll-target="#korrelation-misst-nur-linearen-zusammenhang"><span class="header-section-number">9.4.2</span> Korrelation misst nur linearen Zusammenhang</a></li>
  </ul>
</li>
  <li><a href="#fallbeispiel" id="toc-fallbeispiel" class="nav-link" data-scroll-target="#fallbeispiel"><span class="header-section-number">9.5</span> Fallbeispiel</a></li>
  <li><a href="#vertiefung" id="toc-vertiefung" class="nav-link" data-scroll-target="#vertiefung"><span class="header-section-number">9.6</span> Vertiefung</a></li>
  <li><a href="#aufgaben" id="toc-aufgaben" class="nav-link" data-scroll-target="#aufgaben"><span class="header-section-number">9.7</span> Aufgaben</a></li>
  <li><a href="#fallstudien" id="toc-fallstudien" class="nav-link" data-scroll-target="#fallstudien"><span class="header-section-number">9.8</span> Fallstudien</a></li>
  <li><a href="#literatur" id="toc-literatur" class="nav-link" data-scroll-target="#literatur"><span class="header-section-number">9.9</span> Literatur</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span id="sec-zusammenhaenge" class="quarto-section-identifier"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Punktmodelle 2</span></span></h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><section id="lernsteuerung" class="level2" data-number="9.1"><h2 data-number="9.1" class="anchored" data-anchor-id="lernsteuerung">
<span class="header-section-number">9.1</span> Lernsteuerung</h2>
<section id="standort-im-lernpfad" class="level3" data-number="9.1.1"><h3 data-number="9.1.1" class="anchored" data-anchor-id="standort-im-lernpfad">
<span class="header-section-number">9.1.1</span> Standort im Lernpfad</h3>
<p><a href="index.html#fig-ueberblick">Abbildung&nbsp;<span>1.2</span></a> zeigt den Standort dieses Kapitels im Lernpfad und gibt damit einen Überblick über das Thema dieses Kapitels im Kontext aller Kapitel.</p>
</section><section id="lernziele" class="level3" data-number="9.1.2"><h3 data-number="9.1.2" class="anchored" data-anchor-id="lernziele">
<span class="header-section-number">9.1.2</span> Lernziele</h3>
<ul>
<li>Sie können die Begriffe Kovarianz und Korrelation definieren und ihren Zusammenhäng erläutern.</li>
<li>Sie können die Stärke einer Korrelation einschätzen.</li>
</ul></section><section id="benötigte-r-pakete" class="level3" data-number="9.1.3"><h3 data-number="9.1.3" class="anchored" data-anchor-id="benötigte-r-pakete">
<span class="header-section-number">9.1.3</span> Benötigte R-Pakete</h3>
<p>In diesem Kapitel benötigen Sie folgende R-Pakete.</p>
</section><section id="benötigte-daten" class="level3" data-number="9.1.4"><h3 data-number="9.1.4" class="anchored" data-anchor-id="benötigte-daten">
<span class="header-section-number">9.1.4</span> Benötigte Daten</h3>
<div class="cell" data-hash="070-zusammenhaenge_cache/html/unnamed-chunk-3_7da20622da84cc8ddc7b3b89105b1ff7">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariokart</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"https://vincentarelbundock.github.io/Rdatasets/csv/openintro/mariokart.csv"</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="zusammenfassen-zum-zusammenhang" class="level2" data-number="9.2"><h2 data-number="9.2" class="anchored" data-anchor-id="zusammenfassen-zum-zusammenhang">
<span class="header-section-number">9.2</span> Zusammenfassen zum Zusammenhang</h2>
<p>In <a href="050-zusammenfassen.html"><span>Kapitel&nbsp;7</span></a> haben wir gelernt, dass das Wesen eines Punktmodells als Zusammenfassung <em>einer</em> Spalte (eines Vektors) zu einer einzelnen Zahl<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>, zu einem “Punkt” sozusagen, zusammengefasst werden kann.</p>
<p>In diesem Kapitel fassen wir <em>zwei</em> Spalten zusammen, wieder zu <em>einer</em> Zahl, s. <a href="#eq-desk2">Gleichung&nbsp;<span>9.1</span></a>.</p>
<p><span id="eq-desk2"><span class="math display">\[\begin{array}{|c|} \hline \\ \hline \\\\\\ \hline \end{array} + \begin{array}{|c|} \hline \\ \hline \\\\\\ \hline \end{array} \qquad \rightarrow \qquad \begin{array}{|c|} \hline \\ \hline  \hline \end{array} \tag{9.1}\]</span></span></p>
<p>Wo wir in <a href="050-zusammenfassen.html"><span>Kapitel&nbsp;7</span></a> eine Variable mit Hilfe eines Lagemaßes beschrieben/dargestellt/zusammengefasst/modelliert haben, tun wir hier das Gleich für zwei Variablen. Beschreibt man aber zwei Variablen, so geht es um die Frage, was die beiden Variablen miteinander zu tun haben: Wie die beiden Variablen von einander abhängen bzw. miteinander (irgendwie) zusammenhängen. Wir begrenzen auf <em>metrische</em> Variablen.</p>
<p>Die Verbildlichung<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> zweier metrischer Variablen haben wir bereits in <a href="040-verbildlichen.html#sec-zshg-metr"><span>Kapitel&nbsp;6.5.2</span></a> kennengelernt. Zur Verdeutlichung, wie ein Zusammenhang zweier metrischer Variablen aussehen kann, helfe noch einmal <a href="#fig-zshg">Abbildung&nbsp;<span>9.1</span></a>.</p>
<div id="fig-zshg" class="cell quarto-layout-panel" data-hash="070-zusammenhaenge_cache/html/fig-zshg_912b28eec18b831fc99c2006135e0e6d">
<figure class="figure"><div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-zshg-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="070-zusammenhaenge_files/figure-html/fig-zshg-1.png" class="img-fluid figure-img" data-ref-parent="fig-zshg" width="672"></p>
<figcaption class="figure-caption">(a) Streudiagramm mit Trendlinie (und Ellipse zur Verdeutlichung)</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-zshg-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="070-zusammenhaenge_files/figure-html/fig-zshg-2.png" class="img-fluid figure-img" data-ref-parent="fig-zshg" width="672"></p>
<figcaption class="figure-caption">(b) ‘Verwackeltes’ Streudiagramm, um die einzelnen Punkte besser zu erkennen</figcaption></figure>
</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;9.1: Visualisierung des Zusammenhangs von wheels und total_pr</figcaption><p></p>
</figure>
</div>
</section><section id="sec-cov" class="level2" data-number="9.3"><h2 data-number="9.3" class="anchored" data-anchor-id="sec-cov">
<span class="header-section-number">9.3</span> Abweichungsrechtecke</h2>
<section id="noten-und-abweichungsrechtecke" class="level3" data-number="9.3.1"><h3 data-number="9.3.1" class="anchored" data-anchor-id="noten-und-abweichungsrechtecke">
<span class="header-section-number">9.3.1</span> Noten und Abweichungsrechtecke</h3>
<div id="exm-noten2" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 9.1 (Wieder Statistiknoten) </strong></span>Anton, Bert, Carl und Daniel haben ihre Statistikklausur zurückbekommen. Die Lernzeit <span class="math inline">\(X\)</span> scheint mit der erreichten Punktzahl <span class="math inline">\(Y\)</span> (0-100, je mehr desto besser) zusammenzuhängen.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> Gar nicht so schlecht ausgefallen, s. <a href="#tbl-noten2">Tabelle&nbsp;<span>9.1</span></a>.<span class="math inline">\(\square\)</span></p>
</div>
<div class="cell" data-hash="070-zusammenhaenge_cache/html/tbl-noten2_c553a41d6504718f7244adc61dcc896e">
<div class="cell-output-display">
<div id="tbl-noten2" class="anchored">
<table class="table table-sm table-striped small">
<caption>Tabelle&nbsp;9.1: Statistiknoten und Lernzeit</caption>
<thead><tr class="header">
<th style="text-align: right;">id</th>
<th style="text-align: right;">y</th>
<th style="text-align: right;">x</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">72</td>
<td style="text-align: right;">70</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">44</td>
<td style="text-align: right;">40</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">35</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">67</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Zeichnen wir uns die Daten als Streudiagramm, s. <a href="#fig-delta-rect">Abbildung&nbsp;<span>9.2</span></a>. Dabei zeichnen wir noch <em>Abweichungsrechtecke</em> ein.</p>
<div id="def-abweichungsrechteck" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 9.1 (Abweichungsrechteck) </strong></span>Im zweidimensionalen Fall spannt sich ein Abweichungsrechteck vom Mittelwert <span class="math inline">\(\bar{x}\)</span> bis zum Messwert <span class="math inline">\(x_i\)</span> und genauso für <span class="math inline">\(Y\)</span>. Wir bezeichnen mit <span class="math inline">\(dx_i\)</span> die Distanz (Abweichung) vom Mittelwert <span class="math inline">\(\bar{x}\)</span> bis zum Messwert <span class="math inline">\(x_i\)</span> (und analog <span class="math inline">\(dy_i\)</span>), also <span class="math inline">\(dx_i = x_i - \bar{x}\)</span>. Die Fläche des Abweichungsrechtecks ist dann das Produkt der Abweichungen: <span class="math inline">\(dx_i \cdot dy_i\)</span>.<span class="math inline">\(\square\)</span></p>
</div>
<div class="cell" data-hash="070-zusammenhaenge_cache/html/fig-delta-rect_d6c9b6a85bc5eaef3f61801603af161c">
<div class="cell-output-display">
<div id="fig-delta-rect" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="070-zusammenhaenge_files/figure-html/fig-delta-rect-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Abbildung&nbsp;9.2: Die Kovarianz als mittleres Abweichungsrechteck. In jedem der vier Quadranten (Q1, Q2, Q3, Q4) ist das Vorzeichen der Abweichungsrechtecke dargestellt. Die Farben der Abweichungsrechtecke spiegeln das Vorzeichen wider.</figcaption></figure>
</div>
</div>
</div>
<p>Stellen Sie sich vor, wir legen alle Rechtecke zusammen aus <a href="#fig-delta-rect">Abbildung&nbsp;<span>9.2</span></a>. Nennen wir das resultierende Rechteck das “Summenrechteck”. Ja, ich weiß, ich strapaziere mal wieder Ihre Phantasie<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>. Jetzt kommt’s: Je größer die Fläche des Summenrechtecks, desto stärker der (lineare) Zusammenhang.</p>
<p>Beachten Sie, dass die Flächen Vorzeichen haben, positiv oder negativ (Plus oder Minus), je nach dem, in welchem der vier Quadranten sie stehen. Die Füllfarben der Rechtecke verdeutlichen dies, s. <a href="#fig-delta-rect">Abbildung&nbsp;<span>9.2</span></a>.</p>
<p>Das <em>Vorzeichen</em> der Summe zeigt an, ob der Zusammenhang positiv (gleichsinnig, ansteigende Trendlinie) oder negativ (gegensinnig, absinkende Trendlinie) ist.</p>
<p>So zeigt <a href="#fig-kov">Abbildung&nbsp;<span>9.3</span></a> links eine positive Summe der Abweichungsrechtecke und rechts eine negative Summe. Man sieht im linken Diagramme, dass die Summe der Rechtecke mit positivem Vorzeigen (rot) überwiegt; im rechten Diagramm ist es umgekehrt (blau, negativ überwiegt).</p>
<div id="fig-kov" class="cell quarto-layout-panel" data-hash="070-zusammenhaenge_cache/html/fig-kov_4baec487dcee291da24ffdfb80662f62">
<figure class="figure"><div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-kov-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="070-zusammenhaenge_files/figure-html/fig-kov-1.png" class="img-fluid figure-img" data-ref-parent="fig-kov" width="672"></p>
<figcaption class="figure-caption">(a) Positive Vorzeichen (Quadranten 1 und 3) überweigen, was in einer positiven Kovarianz resultiert - Negative Vorzeichen (Quadranten 2 und 4) überweigen, was in einer negativen Kovarianz resultiert</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-kov-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="070-zusammenhaenge_files/figure-html/fig-kov-2.png" class="img-fluid figure-img" data-ref-parent="fig-kov" width="672"></p>
<figcaption class="figure-caption">(b) Positive Vorzeichen (Quadranten 1 und 3) überweigen, was in einer positiven Kovarianz resultiert - Negative Vorzeichen (Quadranten 2 und 4) überweigen, was in einer negativen Kovarianz resultiert</figcaption></figure>
</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;9.3: Positive und negative Kovarianz: Einmal resultiert eine positive Summe, einmal eine negative Summe, wenn man die Flächen der Abweichungsrechtecke addiert.</figcaption><p></p>
</figure>
</div>
<p>Wir können das Summenrechteck noch durch die Anzahl der Datenpunkte teilen, das ändert nichts an der Aussage, aber der Mittelwert hat gegenüber der Summe den Vorteil, dass er unabhängig ist in seiner Aussage von der Anzahl der eingegangenen Datenpunkte. Das resultierende Rechteck nennen wir das <em>mittlere Abweichungsrechteck</em>.</p>
<p>Ein Maß für den Zusammenhang von Lernzeit und Klausurpunkte ist also die <em>Fläche des mittleren Abweichungsrechtecks</em>, s. <a href="#fig-cov2">Abbildung&nbsp;<span>9.4</span></a>.</p>
<div class="cell" data-hash="070-zusammenhaenge_cache/html/fig-cov2_4b119bc6720218d74c8ffe64b583557a">
<div class="cell-output-display">
<div id="fig-cov2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="070-zusammenhaenge_files/figure-html/fig-cov2-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Abbildung&nbsp;9.4: Die Kovarianz als mittleres Abweichungsrechteck. Die Fläche der Rechteckts entspricht dem Wert der Kovarianz.</figcaption></figure>
</div>
</div>
</div>
</section><section id="sec-kov" class="level3" data-number="9.3.2"><h3 data-number="9.3.2" class="anchored" data-anchor-id="sec-kov">
<span class="header-section-number">9.3.2</span> Kovarianz</h3>
<div id="def-kov" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 9.2 (Kovarianz) </strong></span>Die Kovarianz ist definiert als die Fläche des mittleren Abweichungsrechtecks. Sie ist ein Maß für die Stärke und Richtung des linearen Zusammenhangs zweier metrischer Variablen, s. <a href="#fig-cov2">Abbildung&nbsp;<span>9.4</span></a>.<span class="math inline">\(\square\)</span></p>
</div>
<blockquote class="blockquote">
<p>👩‍🎓 Zu viele Bilder! Ich brauch Zahlen.</p>
</blockquote>
<blockquote class="blockquote">
<p>👩‍🏫 Kommen schon!</p>
</blockquote>
<p><a href="#tbl-kov2">Tabelle&nbsp;<span>9.2</span></a> zeigt die Werte für die X- und Y-Abweichung und die resultierenden Flächen der Abweichungsrechtecke. Wenn Sie die Werte selber nachrechnen wollen, finden Sie den Noten-Datensatz in der Datei <a href="https://raw.githubusercontent.com/sebastiansauer/statistik1/main/daten/noten.csv">noten.csv</a>.</p>
<div class="cell" data-hash="070-zusammenhaenge_cache/html/tbl-kov2_66fa48852b9a5b24b8a27581df0c0200">
<div class="cell-output-display">
<div id="tbl-kov2" class="anchored">
<table class="table table-sm table-striped small">
<caption>Tabelle&nbsp;9.2: Werte der Abweichungsrechtecke</caption>
<colgroup>
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 13%">
<col style="width: 12%">
</colgroup>
<thead><tr class="header">
<th style="text-align: right;">id</th>
<th style="text-align: right;">y</th>
<th style="text-align: right;">x</th>
<th style="text-align: right;">x_avg</th>
<th style="text-align: right;">y_avg</th>
<th style="text-align: right;">x_delta</th>
<th style="text-align: right;">y_delta</th>
<th style="text-align: left;">x_pos</th>
<th style="text-align: left;">y_pos</th>
<th style="text-align: right;">cov_sign</th>
<th style="text-align: right;">xy_area</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">72</td>
<td style="text-align: right;">70</td>
<td style="text-align: right;">53</td>
<td style="text-align: right;">51.25</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">20.75</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">352.75</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">44</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">53</td>
<td style="text-align: right;">51.25</td>
<td style="text-align: right;">-13</td>
<td style="text-align: right;">-7.25</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">94.25</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">53</td>
<td style="text-align: right;">51.25</td>
<td style="text-align: right;">-18</td>
<td style="text-align: right;">-12.25</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">220.50</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">67</td>
<td style="text-align: right;">53</td>
<td style="text-align: right;">51.25</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">-1.25</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">-17.50</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Berechnen wir als nächstes das mittlere Abweichungsrechteck, die Kovarianz:</p>
<div class="cell" data-hash="070-zusammenhaenge_cache/html/unnamed-chunk-11_fcecdd6cc5a4386381c3e7aebc6eea6f">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">d</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">summarise</span><span class="op">(</span>kovarianz <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">xy_area</span><span class="op">)</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["kovarianz"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"162.5"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Die Formel der Kovarianz lautet, s. <span class="quarto-unresolved-ref">?eq-cov4</span>:</p>
<p><span class="math display">\[\text{cov(xy)} = s_{xy}:=\frac{1}{n}\sum_{i=1}^n (x_i-\bar{x})(y_i-\bar{y}) = \frac{1}{n}\sum_{i=1}^n dx_i\cdot dy_i\]</span> {#eq-cov4}.</p>
<p>In Worten:</p>
<ol type="1">
<li>Rechne für jedes <span class="math inline">\(x_i\)</span> die Abweichung vom Mittelwert, <span class="math inline">\(\bar{x}\)</span>, aus, <span class="math inline">\(dx_i\)</span>
</li>
<li>Rechne für jedes <span class="math inline">\(y_i\)</span> die Abweichung vom Mittelwert, <span class="math inline">\(\bar{y}\)</span>, aus, <span class="math inline">\(dy_i\)</span>
</li>
<li>Multipliziere für alle <span class="math inline">\(i\)</span> <span class="math inline">\(dx_i\)</span> mit <span class="math inline">\(xy_i\)</span>, um die Abweichungsrechtecke <span class="math inline">\(dx_i dy_i\)</span> zu berechnen</li>
<li>Addiere die Flächen der Abweichungsrechtecke</li>
<li>Teile durch die Anzahl der Beobachtungen <span class="math inline">\(n\)</span>
</li>
</ol>
<div id="exm-pos-kov" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 9.2 (Variablen mit positiver Kovarianz) </strong></span>&nbsp;</p>
<ul>
<li>Größe und Gewicht</li>
<li>Lernzeit und Klausurerfolg</li>
<li>Distanz zum Ziel und Reisezeit</li>
<li>Temperatur und Eisverkauf<span class="math inline">\(\square\)</span>
</li>
</ul>
</div>
<div id="exm-neg-kov" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 9.3 (Variablen mit negativer Kovarianz) </strong></span>&nbsp;</p>
<ul>
<li>Lernzeit und Freizeit</li>
<li>Alter und Restlebenszeit</li>
<li>Temperatur und Schneemenge</li>
<li>Lebenszufriedenheit und Depressivität<span class="math inline">\(\square\)</span>
</li>
</ul>
</div>
<p>Drei Extrembeispiele für Kovarianz-Werte sind in <a href="#fig-demos-cov">Abbildung&nbsp;<span>9.5</span></a> dargestellt.</p>
<div id="fig-demos-cov" class="cell quarto-layout-panel" data-hash="070-zusammenhaenge_cache/html/fig-demos-cov_9cf340bae2760be57dd77c9392597acf">
<figure class="figure"><div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 33.3%;justify-content: center;">
<div id="fig-demos-cov-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="070-zusammenhaenge_files/figure-html/fig-demos-cov-1.png" class="img-fluid figure-img" data-ref-parent="fig-demos-cov" width="672"></p>
<figcaption class="figure-caption">(a) kein Zusammenhang</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 33.3%;justify-content: center;">
<div id="fig-demos-cov-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="070-zusammenhaenge_files/figure-html/fig-demos-cov-2.png" class="img-fluid figure-img" data-ref-parent="fig-demos-cov" width="672"></p>
<figcaption class="figure-caption">(b) perfekter (positiver) Zusammenhang</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 33.3%;justify-content: center;">
<div id="fig-demos-cov-3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="070-zusammenhaenge_files/figure-html/fig-demos-cov-3.png" class="img-fluid figure-img" data-ref-parent="fig-demos-cov" width="672"></p>
<figcaption class="figure-caption">(c) negativer Zusammenhang</figcaption></figure>
</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;9.5: Verschiedene Werte der Kovarianz</figcaption><p></p>
</figure>
</div>
<p>Bei einer Kovarianz von 0 ist die Fläche der Abweichungsrechtecke<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>, wenn man sie pro Quadrant aufsummiert, etwa gleich groß, s. <a href="#fig-covnull">Abbildung&nbsp;<span>9.6</span></a>. Addiert man die Abweichungsrechtecke (unter Beachtung der Vorzeichen: rot = positiv; blau = negativ), so beträgt die Summe in etwa (oder genau) Null.</p>
<p>Damit ist die Kovarianz in diesem Fall etwa (bzw. genau) Null:</p>
<p><span class="math display">\[\begin{align}
\sum \left(dX \cdot dY \right) &amp;= 0\\
\Leftrightarrow \varnothing \left(dX \cdot dY \right) &amp;= 0\\
\Leftrightarrow \text{cov} &amp;= 0
\end{align}\]</span></p>
<div id="fig-covnull" class="cell quarto-layout-panel" data-hash="070-zusammenhaenge_cache/html/fig-covnull_aea346c07d2603d5e888d6f2c605edfd">
<figure class="figure"><div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-covnull-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="070-zusammenhaenge_files/figure-html/fig-covnull-1.png" class="img-fluid figure-img" data-ref-parent="fig-covnull" width="672"></p>
<figcaption class="figure-caption">(a) 4 Abweichungsrechtecke, deren Fläche sich zu 0 addiert</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-covnull-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="070-zusammenhaenge_files/figure-html/fig-covnull-2.png" class="img-fluid figure-img" data-ref-parent="fig-covnull" width="672"></p>
<figcaption class="figure-caption">(b) 200 Abweichungsrechtecke, deren Fläche sich zu 0 addiert</figcaption></figure>
</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;9.6: Wenn die Kovarianz 0 ist, gleichen sich die Abweichungsrechtecke auf 0 aus</figcaption><p></p>
</figure>
</div>
</section><section id="die-kovarianz-ist-schwer-zu-interpretieren" class="level3" data-number="9.3.3"><h3 data-number="9.3.3" class="anchored" data-anchor-id="die-kovarianz-ist-schwer-zu-interpretieren">
<span class="header-section-number">9.3.3</span> Die Kovarianz ist schwer zu interpretieren</h3>
<p>Die Kovarianz hat den Nachteil, dass sie abhängig ist von der Skalierung. So steigt die Kovarianz z.B. um den Faktor 100, wenn man eine Variable (z.B. Einkommen) anstelle von Euro in Cent bemisst. Das ist nicht wünschenswert, denn der Zusammenhang zwischen z.B. Einkommen und Lebenszufriedenheit ist unabhängig davon, ob man Einkommen in Euro, Cent oder Dollar misst. Außerdem hat die Kovarianz keinen Maximalwert, der einen perfekten Zusammenhang anzeigt.</p>
<p>Insgesamt ist die Kovarianz schwer zu interpretieren und wird in der praktischen Anwendung nur wenig verwendet.</p>
</section></section><section id="korrelation" class="level2" data-number="9.4"><h2 data-number="9.4" class="anchored" data-anchor-id="korrelation">
<span class="header-section-number">9.4</span> Korrelation</h2>
<p>Der Korrelationskoeffizient <span class="math inline">\(r\)</span> nach Karl Pearson löst das Problem, dass die Kovarianz schwer interpretierbar ist. Der Wertebereich von <span class="math inline">\(r\)</span> reicht von -1 (perfekte negative lineare Korrelation) bis +1 (perfekte positive lineare Korrelation). Eine Korrelation von <span class="math inline">\(r = 0\)</span> bedeutet kein linearer Zusammenhang.</p>
<p>Die Korrelation berechnet sich wie folgt:</p>
<ol type="1">
<li>Teile alle <span class="math inline">\(x_i\)</span> durch ihre Standardabweichung, <span class="math inline">\(s_x\)</span>
</li>
<li>Teile alle <span class="math inline">\(y_i\)</span> durch ihre Standardabweichung, <span class="math inline">\(s_y\)</span>
</li>
<li>Berechne mit diesen Werten die Kovarianz</li>
</ol>
<p>Teilt man nämlich alle <span class="math inline">\(x_i\)</span> bzw. <span class="math inline">\(y_i\)</span> durch ihre Standardabweichung, so führt man mit <span class="math inline">\(X\)</span> bzw. <span class="math inline">\(Y\)</span> eine z-Transformation durch. Daher kann man den Korrelationskoeffizienten <span class="math inline">\(r\)</span> so definieren:</p>
<div id="def-r" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 9.3 (Korrelationskoeffizient r) </strong></span>Der Korrelationskoeffizient <span class="math inline">\(r\)</span> ist definiert als das mittlere Produkt der z-Wert-Paare: <span class="math inline">\(r_{xy}=\frac{1}{n}\sum_{i=1}^n z^x_i z^y_i\)</span>.<span class="math inline">\(\square\)</span></p>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Aus dem Korrelationskoeffizienten können Sie zwei Informationen ableiten:</p>
<ol type="1">
<li>
<em>Vorzeichen</em>: Ein positives Vorzeichen bedeutet positiver (gleichsinniger) linearer Zusammenhang (und umgekehrt: negatives Vorzeichen, negativer, also gegensinniger linearer Zusamamenhang).</li>
<li>
<em>Absolutwert</em> der Korrelation: Der Absolutwert des Korrelationskoeffizienten gibt die Stärke des linearen Zusammenhangs an. Je näher der Wert bei 1 liegt desto stärker der Zusammenhang.</li>
</ol>
<ul>
<li>
<span class="math inline">\(r = 0\)</span>: kein linearer Zusammenhang</li>
<li>
<span class="math inline">\(r = 1\)</span>: perfekter linearer Zusammenhang<span class="math inline">\(\square\)</span>
</li>
</ul>
</div>
</div>
<p>Eine Zuordnung des Korrelationskoeffizienten zum Profil des Streudiagramms zeigt <a href="#fig-corr-wiki">Abbildung&nbsp;<span>9.7</span></a>.</p>
<div id="fig-corr-wiki" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="img/Correlation_examples2.svg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Abbildung&nbsp;9.7: Verschiedene Streudiagramme, die sich in ihrem Korrelationskoeffizienten unterscheiden. Quelle: Wikipedia, By DenisBoigelot, original uploader was Imagecreator, CC0, https://commons.wikimedia.org/w/index.php?curid=15165296 CC0</figcaption></figure>
</div>
<div id="exr-corrgame" class="theorem exercise">
<p><span class="theorem-title"><strong>Übungsaufgabe 9.1 (Korrelationsspiel) </strong></span>Spielen Sie das <a href="https://gallery.shinyapps.io/correlation_game/">Korrelationsspiel</a>: Sie Sehen ein Streudiagramm und müssen den richtigen Korrelationskoeffizienten eingeben.<span class="math inline">\(\square\)</span></p>
</div>
<div id="exr-corrvis" class="theorem exercise">
<p><span class="theorem-title"><strong>Übungsaufgabe 9.2 (Interaktive Visualisierung der Korrelation) </strong></span>Auf der Seite von <a href="https://rpsychologist.com/correlation/">RPsychologist</a> findet sich eine ansprechende dynamische Visualisierung der Korrelation. Nutzen Sie sie, um Ihr Gefühl für die Stärke des Korrelationskoeffizienten zu entwickeln.<span class="math inline">\(\square\)</span></p>
</div>
<section id="korrelation-kausation" class="level3" data-number="9.4.1"><h3 data-number="9.4.1" class="anchored" data-anchor-id="korrelation-kausation">
<span class="header-section-number">9.4.1</span> Korrelation ≠ Kausation</h3>
<p>Eine Studie fand eine starke Korrelation, zwischen der (Höhe des) Schokoladenkonsums eines Landes und (Anzahl der) Nobelpreise eines Landes <span class="citation" data-cites="messerli_chocolate_2012">(<a href="#ref-messerli_chocolate_2012" role="doc-biblioref">Messerli 2012</a>)</span>, s. <a href="#fig-schoki">Abbildung&nbsp;<span>9.8</span></a>.</p>
<div id="fig-schoki" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="img/correlation_550.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Abbildung&nbsp;9.8: Schoki futtern macht schlau?</figcaption></figure>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Vorsicht
</div>
</div>
<div class="callout-body-container callout-body">
<p>Korrelation (bzw. Zusammenhang) ungleich Kausation! Korrelation kann bedeuten, dass eine Kausation vorliegt, aber es muss auch nicht sein, dass Kausation vorliegt. Liegt Korrelation ohne Kausation vor, so spricht man von einer Scheinkorrelation.</p>
</div>
</div>
</section><section id="korrelation-misst-nur-linearen-zusammenhang" class="level3" data-number="9.4.2"><h3 data-number="9.4.2" class="anchored" data-anchor-id="korrelation-misst-nur-linearen-zusammenhang">
<span class="header-section-number">9.4.2</span> Korrelation misst nur linearen Zusammenhang</h3>
<div id="exm-scheinkorr" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 9.4 (Scheinkorrelation) </strong></span>Eine Urban Myth besagt: Die Anzahl der Störche pro Landkreis korreliert mit der Anzahl der Babies in diesem Landkreis.</p>
<blockquote class="blockquote">
<p>Bald men at higher risk of severe case of Covid-19, research finds<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a></p>
</blockquote>
<p>Macht die Glatze krank? Männer mit Glatze bekommen häufiger Corona <span class="citation" data-cites="goren_preliminary_2020">(<a href="#ref-goren_preliminary_2020" role="doc-biblioref">Goren u.&nbsp;a. 2020</a>)</span>.<span class="math inline">\(\square\)</span></p>
</div>
</section></section><section id="fallbeispiel" class="level2" data-number="9.5"><h2 data-number="9.5" class="anchored" data-anchor-id="fallbeispiel">
<span class="header-section-number">9.5</span> Fallbeispiel</h2>
<p>In Ihrer Arbeit beim Online-Auktionshaus analysieren Sie, welche Variablen mit dem Verkaufspreis von Computerspielen zusammenhängen.</p>
<p>Falls der Datensatz auf Ihrem Computer (am besten in Ihrem Projektverzeichnis in RStudio) abgelegt ist, können Sie die Daten so (in mittlerweile gewohnter Manier) importieren:</p>
<div class="cell" data-hash="070-zusammenhaenge_cache/html/unnamed-chunk-14_9e7ea9267540ddebc267d677fe7d8b5f">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariokart</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"mariokart.csv"</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Falls der Datensatz im Unterordner mit Namen “Mein_Unterordner” liegt, so würden Sie folgenden Pfad eingeben:</p>
<div class="cell" data-hash="070-zusammenhaenge_cache/html/unnamed-chunk-15_fdf6d533b42b1308b9229c83f57e3418">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariokart</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"Mein_Unterordner/mariokart.csv"</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Man beachte, dass solche sog. relativen Pfade (relativ zu Ihrem Arbeitsverzeichnis, d.h. Ihr Projektverzeichnis in R-Studio) <em>nicht</em> mit einem Schrägstrich (Slash) beginnen.</p>
<p>Falls Sie die Daten nicht auf Ihrem Computer haben, können Sie sie komfortable von z.B. der Webseite von <a href="https://vincentarelbundock.github.io/Rdatasets">Vincent Arel-Bundock</a> herunterladen:</p>
<div class="cell" data-hash="070-zusammenhaenge_cache/html/unnamed-chunk-16_0cc3942161649eed1fd4e2dd1da7c437">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariokart</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"https://vincentarelbundock.github.io/Rdatasets/csv/openintro/mariokart.csv"</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Sie wählen die Variablen von <code>mariokart</code>, die Sie interessieren - natürlich nur die metrischen - und lassen sich mit <code>cor</code> die Korrelation aller Variablen untereinander ausgeben:</p>
<div class="cell" data-hash="070-zusammenhaenge_cache/html/unnamed-chunk-17_956b4da48a41546c0c16b1b42f0c0d3e">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariokart</span> <span class="op">%&gt;%</span>  </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">duration</span>, <span class="va">n_bids</span>, <span class="va">start_pr</span>, <span class="va">ship_pr</span>, <span class="va">total_pr</span>, <span class="va">seller_rate</span>, <span class="va">wheels</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cor</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="co"># Runden auf zwei Dezimalen</span></span>
<span><span class="co">##             duration n_bids start_pr ship_pr total_pr seller_rate wheels</span></span>
<span><span class="co">## duration        1.00  -0.12     0.13    0.27    -0.04       -0.15  -0.30</span></span>
<span><span class="co">## n_bids         -0.12   1.00    -0.63    0.03     0.13       -0.11  -0.08</span></span>
<span><span class="co">## start_pr        0.13  -0.63     1.00    0.03     0.07        0.28   0.16</span></span>
<span><span class="co">## ship_pr         0.27   0.03     0.03    1.00     0.54       -0.02   0.05</span></span>
<span><span class="co">## total_pr       -0.04   0.13     0.07    0.54     1.00        0.01   0.33</span></span>
<span><span class="co">## seller_rate    -0.15  -0.11     0.28   -0.02     0.01        1.00  -0.15</span></span>
<span><span class="co">## wheels         -0.30  -0.08     0.16    0.05     0.33       -0.15   1.00</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Namensverwechslung (name clash)
</div>
</div>
<div class="callout-body-container callout-body">
<p>Es kann vorkommen, dass Sie zwei R-Pakete geladen haben, in denen es jeweils z.B. eine Funktion mit Namen <code>select</code> gibt. R wird in dem Fall diejenige Funktion verwenden, deren Paket Sie als letztes gestartet haben. Das kann dann das falsche <code>select</code> sein, wie es mir oben in der Syntax passiert ist. In dem Fall resultiert eine verwirrende Fehlermeldung, die sinngemäß sagt: “Hey Mensch, du hast Argumente in der Funktion verwendet, die du gar nicht verwenden darfst, da es sie nicht gibt.” Auf Errisch: <code>Error in select(., duration, n_bids, start_pr, ship_pr, total_pr, seller_rate,  : unused arguments (duration, n_bids, start_pr, ship_pr, total_pr, seller_rate, wheels)</code>. Eine einfache Abhilfe ist es, R zu sagen: “Hey R, nimm gefälligst <code>select</code> aus dem Paket <code>dplyr</code>, dort”wohnt” nämlich <code>select</code>. Auf Errisch spricht sich das so: <code>dplyr::select(...)</code>.<span class="math inline">\(\square\)</span></p>
</div>
</div>
<p>Etwas schöner sieht die Ausgabe mit dem Befehl <code>correlation</code> aus <a href="https://easystats.github.io/easystats/">easystats</a> aus, s. <a href="#tbl-mario-corr">Tabelle&nbsp;<span>9.3</span></a>.</p>
<div class="cell" data-hash="070-zusammenhaenge_cache/html/tbl-mario-corr_92e6486d8ffaf4cbb765c8755420bc85">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariokart</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">duration</span>, <span class="va">n_bids</span>, <span class="va">start_pr</span>, <span class="va">ship_pr</span>, <span class="va">total_pr</span>, <span class="va">seller_rate</span>, <span class="va">wheels</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">correlation</span><span class="op">(</span><span class="op">)</span> </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="tbl-mario-corr" class="anchored">

<div data-pagedtable="false"> <div class="table-caption">Tabelle&nbsp;9.3:  <p>Korrelationstabelle (tidy) im Datensatz mariokart</p> </div>
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Parameter1"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Parameter2"],"name":[2],"type":["chr"],"align":["left"]},{"label":["r"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["CI"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["CI_low"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["CI_high"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["t"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["df_error"],"name":[8],"type":["int"],"align":["right"]},{"label":["p"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["Method"],"name":[10],"type":["chr"],"align":["left"]},{"label":["n_Obs"],"name":[11],"type":["int"],"align":["right"]}],"data":[{"1":"duration","2":"n_bids","3":"-0.121023965","4":"0.95","5":"-0.2796176776","6":"0.043998681","7":"-1.4477213","8":"141","9":"1.000000e+00","10":"Pearson correlation","11":"143","_rn_":"1"},{"1":"duration","2":"start_pr","3":"0.134721334","4":"0.95","5":"-0.0300927184","6":"0.292403601","7":"1.6144452","8":"141","9":"1.000000e+00","10":"Pearson correlation","11":"143","_rn_":"2"},{"1":"duration","2":"ship_pr","3":"0.266501330","4":"0.95","5":"0.1070350954","6":"0.412600364","7":"3.2832689","8":"141","9":"2.070358e-02","10":"Pearson correlation","11":"143","_rn_":"3"},{"1":"duration","2":"total_pr","3":"-0.041235447","4":"0.95","5":"-0.2040031750","6":"0.123750762","7":"-0.4900606","8":"141","9":"1.000000e+00","10":"Pearson correlation","11":"143","_rn_":"4"},{"1":"duration","2":"seller_rate","3":"-0.154832970","4":"0.95","5":"-0.3110753717","6":"0.009558538","7":"-1.8609819","8":"141","9":"9.076090e-01","10":"Pearson correlation","11":"143","_rn_":"5"},{"1":"duration","2":"wheels","3":"-0.299473454","4":"0.95","5":"-0.4418990893","6":"-0.142321124","7":"-3.7271072","8":"141","9":"5.032701e-03","10":"Pearson correlation","11":"143","_rn_":"6"},{"1":"n_bids","2":"start_pr","3":"-0.633103601","4":"0.95","5":"-0.7221990440","6":"-0.523342364","7":"-9.7119345","8":"141","9":"4.577811e-16","10":"Pearson correlation","11":"143","_rn_":"7"},{"1":"n_bids","2":"ship_pr","3":"0.026337112","4":"0.95","5":"-0.1384098337","6":"0.189665721","7":"0.3128444","8":"141","9":"1.000000e+00","10":"Pearson correlation","11":"143","_rn_":"8"},{"1":"n_bids","2":"total_pr","3":"0.127729402","4":"0.95","5":"-0.0371991093","6":"0.285883960","7":"1.5292284","8":"141","9":"1.000000e+00","10":"Pearson correlation","11":"143","_rn_":"9"},{"1":"n_bids","2":"seller_rate","3":"-0.106156497","4":"0.95","5":"-0.2656755564","6":"0.059020534","7":"-1.2677018","8":"141","9":"1.000000e+00","10":"Pearson correlation","11":"143","_rn_":"10"},{"1":"n_bids","2":"wheels","3":"-0.079618595","4":"0.95","5":"-0.2406224058","6":"0.085649353","7":"-0.9484293","8":"141","9":"1.000000e+00","10":"Pearson correlation","11":"143","_rn_":"11"},{"1":"start_pr","2":"ship_pr","3":"0.029991444","4":"0.95","5":"-0.1348208584","6":"0.193188937","7":"0.3562889","8":"141","9":"1.000000e+00","10":"Pearson correlation","11":"143","_rn_":"12"},{"1":"start_pr","2":"total_pr","3":"0.073406030","4":"0.95","5":"-0.0918492797","6":"0.234726269","7":"0.8740063","8":"141","9":"1.000000e+00","10":"Pearson correlation","11":"143","_rn_":"13"},{"1":"start_pr","2":"seller_rate","3":"0.281321092","4":"0.95","5":"0.1228453273","6":"0.425806574","7":"3.4810913","8":"141","9":"1.130605e-02","10":"Pearson correlation","11":"143","_rn_":"14"},{"1":"start_pr","2":"wheels","3":"0.163685563","4":"0.95","5":"-0.0004757928","6":"0.319256122","7":"1.9702318","8":"141","9":"7.615633e-01","10":"Pearson correlation","11":"143","_rn_":"15"},{"1":"ship_pr","2":"total_pr","3":"0.542508581","4":"0.95","5":"0.4153475423","6":"0.648873651","7":"7.6685084","8":"141","9":"5.166823e-11","10":"Pearson correlation","11":"143","_rn_":"16"},{"1":"ship_pr","2":"seller_rate","3":"-0.023292381","4":"0.95","5":"-0.1867270188","6":"0.141396810","7":"-0.2766568","8":"141","9":"1.000000e+00","10":"Pearson correlation","11":"143","_rn_":"17"},{"1":"ship_pr","2":"wheels","3":"0.052289257","4":"0.95","5":"-0.1128277391","6":"0.214595908","7":"0.6217511","8":"141","9":"1.000000e+00","10":"Pearson correlation","11":"143","_rn_":"18"},{"1":"total_pr","2":"seller_rate","3":"0.009434813","4":"0.95","5":"-0.1549537374","6":"0.173314971","7":"0.1120372","8":"141","9":"1.000000e+00","10":"Pearson correlation","11":"143","_rn_":"19"},{"1":"total_pr","2":"wheels","3":"0.329983751","4":"0.95","5":"0.1753322914","6":"0.468742261","7":"4.1508427","8":"141","9":"1.083791e-03","10":"Pearson correlation","11":"143","_rn_":"20"},{"1":"seller_rate","2":"wheels","3":"-0.145769743","4":"0.95","5":"-0.3026759173","6":"0.018829377","7":"-1.7496082","8":"141","9":"1.000000e+00","10":"Pearson correlation","11":"143","_rn_":"21"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
<p>Neben einigen Statistiken, die wir einfach geflissentlich ausblenden (<code>t</code> und <code>p</code>) beinhaltet die Tabelle eine interessante Information: den Schätzbereich für die Korrelation, gekennzeichnet als <code>95% CI</code>. <em>Grob</em> gesagt können wir diese Information so interpretieren: “Mit 95% Wahrscheinlichkeit liegt der echte Wert der Korrelation in folgendem Bereich.”<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a></p>
<p>Möchte man nur einzelne Korrelationskoeffizienten ausrechnen, können wir die Idee des Zusammenfassens, s. <a href="#eq-desk2">Gleichung&nbsp;<span>9.1</span></a>, nutzen:</p>
<div class="cell" data-hash="070-zusammenhaenge_cache/html/unnamed-chunk-19_f584bc13f740f2cd78f80ec2efc45344">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariokart</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>cor_super_wichtig <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cor</a></span><span class="op">(</span><span class="va">total_pr</span>, <span class="va">wheels</span><span class="op">)</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cor_super_wichtig"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"0.3299838"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Vorsicht
</div>
</div>
<div class="callout-body-container callout-body">
<p>Im Falle von fehlenden Werte müssen Sie R aus seiner schüchternen Vorsicht befreien und ermutigen, trotz fehlender Werte einen Korrelationskoeffizienten auszugeben. Das geht mit dem Argument <code>use = "complete.obs"</code> in <code>cor</code>:</p>
<div class="cell" data-hash="070-zusammenhaenge_cache/html/unnamed-chunk-20_74c9d865f7df015d07a30b4b58fabe8d">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariokart</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>cor_super_wichtig <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cor</a></span><span class="op">(</span><span class="va">total_pr</span>, <span class="va">wheels</span>, use <span class="op">=</span> <span class="st">"complete.obs"</span><span class="op">)</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cor_super_wichtig"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"0.3299838"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
</div>
<blockquote class="blockquote">
<p>🧑‍🎓 Immer so viele Zahlen! Ich brauch Bilder.</p>
</blockquote>
<p>Mit dem Befehl <code>plot_correlation</code> aus dem R-Paket <code>{dataExplorer}</code> bekommt man eine ansehnliche Heatmap zur Verdeutlichung der Korrelationswerte, s. <a href="#fig-mario-corr">Abbildung&nbsp;<span>9.9</span></a>.</p>
<div class="cell" data-hash="070-zusammenhaenge_cache/html/fig-mario-corr_d413ba1a11e0b46365d207960a405acd">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://boxuancui.github.io/DataExplorer/">DataExplorer</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">mariokart</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">duration</span>, <span class="va">n_bids</span>, <span class="va">start_pr</span>, <span class="va">ship_pr</span>, <span class="va">total_pr</span>, <span class="va">seller_rate</span>, <span class="va">wheels</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu"><a href="http://boxuancui.github.io/DataExplorer/reference/plot_correlation.html">plot_correlation</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-mario-corr" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="070-zusammenhaenge_files/figure-html/fig-mario-corr-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Abbildung&nbsp;9.9: Heatmap zu den Korrelationen im Datensatz mariokart.</figcaption></figure>
</div>
</div>
</div>
</section><section id="vertiefung" class="level2" data-number="9.6"><h2 data-number="9.6" class="anchored" data-anchor-id="vertiefung">
<span class="header-section-number">9.6</span> Vertiefung</h2>
<p><a href="https://www.youtube.com/watch?v=8B271L3NtAw">TED-Vortrag</a> zum Thema Scheinkorrelation.</p>
<p><a href="https://scheinkorrelation.jimdofree.com/">Hier</a> finden Sie weitere Beispiele für Scheinkorrelationen.</p>
</section><section id="aufgaben" class="level2" data-number="9.7"><h2 data-number="9.7" class="anchored" data-anchor-id="aufgaben">
<span class="header-section-number">9.7</span> Aufgaben</h2>
<p>Schauen Sie sich auch mal auf <a href="https://datenwerk.netlify.app/">Datenwerk</a> die Aufgaben zu dem Tag <a href="https://datenwerk.netlify.app/#category=association">association</a> an.</p>
</section><section id="fallstudien" class="level2" data-number="9.8"><h2 data-number="9.8" class="anchored" data-anchor-id="fallstudien">
<span class="header-section-number">9.8</span> Fallstudien</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Einige der Fallstudien oder Übungsaufgaben können theoretische Inhalte (Konzepte der Statistik) oder praktische Inhalte (R-Befehle) enthalten, die Sie (noch) nicht kennen. In dem Fall: Einfach ignorieren. Oder Sie suchen nach einer Lösung anhand von Konzepten bzw. R-Befehlen, die Sie kennen.<span class="math inline">\(\square\)</span></p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Bitte verstehen Sie die folgende Auswahl an Fallstudien als Auswahl. Es ist nicht nötig, dass Sie alle Fallstudien bearbeiten. Sehen Sie die Fallstudien eher als Angebot zur selektiven Vertiefung und Übung, dort, wo Sie es nötig haben.<span class="math inline">\(\square\)</span></p>
</div>
</div>
<ol type="1">
<li><a href="https://data-se.netlify.app/2021/03/08/eda-zu-flugversp%C3%A4tungen/">EDA zu Flugverspätungen</a></li>
<li><a href="https://data-se.netlify.app/2021/02/11/yacda-topgear/">YACSDA: Topgear</a></li>
<li><a href="https://data-se.netlify.app/2021/02/11/explorative-datenanalyse-zum-datensatz-oecd-wellbeing/">Explorative Datenanalyse zum Datensatz “OECD Wellbeing”</a></li>
<li><a href="https://data-se.netlify.app/2021/05/27/datensatz-flights-finde-den-tag-mit-den-meisten-abfl%C3%BCgen/">Datensatz flights: Finde den Tag mit den meisten Abflügen</a></li>
<li><a href="https://www.njtierney.com/post/2017/11/07/tidyverse-billboard/">Tidyverse Case Study: Exploring the Billboard Charts</a></li>
</ol></section><section id="literatur" class="level2" data-number="9.9"><h2 data-number="9.9" class="anchored" data-anchor-id="literatur">
<span class="header-section-number">9.9</span> Literatur</h2>


<!-- -->

<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-goren_preliminary_2020" class="csl-entry" role="listitem">
Goren, Andy, Sergio Vaño-Galván, Carlos Gustavo Wambier, John McCoy, Alba Gomez-Zubiaur, Oscar M. Moreno-Arrones, Jerry Shapiro, u.&nbsp;a. 2020. <span>„A Preliminary Observation: <span>Male</span> Pattern Hair Loss Among Hospitalized <span>COVID-19</span> Patients in <span>Spain</span> – <span>A</span> Potential Clue to the Role of Androgens in <span>COVID-19</span> Severity“</span>. <em>Journal of Cosmetic Dermatology</em> 19 (7): 1545–47. <a href="https://doi.org/10.1111/jocd.13443">https://doi.org/10.1111/jocd.13443</a>.
</div>
<div id="ref-messerli_chocolate_2012" class="csl-entry" role="listitem">
Messerli, Franz H. 2012. <span>„Chocolate <span>Consumption</span>, <span>Cognitive Function</span>, and <span>Nobel Laureates</span>“</span>. <em>New England Journal of Medicine</em> 367 (16): 1562–64. <a href="https://doi.org/10.1056/NEJMon1211064">https://doi.org/10.1056/NEJMon1211064</a>.
</div>
</div>
</section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><hr>
<ol>
<li id="fn1"><p>auch Skalar genannt<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Visualisierung<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>&gt; 🧑‍🎓 Typisches Lehrerbeispiel!!<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>hoffentlich nicht Ihre Geduld<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>Bei der Varianz waren es Quadrate, bei der Kovarianz sind es Rechtecke.<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>https://www.telegraph.co.uk/global-health/science-and-disease/bald-men-higher-risk-severe-case-covid-19-research-finds/, Abruf 2023-03-24<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p>Bayesianische Interpretation<a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./060-modellguete.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Modellgüte</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./080-regression1.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Geradenmodelle 1</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Quellcode</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb11" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># Punktmodelle 2 {#sec-zusammenhaenge}</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="fu">## Lernsteuerung</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="fu">### Standort im Lernpfad</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>@fig-ueberblick zeigt den Standort dieses Kapitels im Lernpfad und gibt damit einen Überblick über das Thema dieses Kapitels im Kontext aller Kapitel.</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="fu">### Lernziele</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Sie können die Begriffe Kovarianz und Korrelation definieren und ihren Zusammenhäng erläutern.</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Sie können die Stärke einer Korrelation einschätzen.</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a><span class="fu">### Benötigte R-Pakete</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>In diesem Kapitel benötigen Sie folgende R-Pakete.</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(easystats)</span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>ggplot2<span class="sc">::</span><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>())</span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false</span></span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(TeachingDemos)</span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a><span class="co">#library('MASS')</span></span>
<span id="cb11-42"><a href="#cb11-42" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-43"><a href="#cb11-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-44"><a href="#cb11-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-45"><a href="#cb11-45" aria-hidden="true" tabindex="-1"></a><span class="fu">### Benötigte Daten</span></span>
<span id="cb11-46"><a href="#cb11-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-49"><a href="#cb11-49" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-50"><a href="#cb11-50" aria-hidden="true" tabindex="-1"></a>mariokart <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://vincentarelbundock.github.io/Rdatasets/csv/openintro/mariokart.csv"</span>)</span>
<span id="cb11-51"><a href="#cb11-51" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-52"><a href="#cb11-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-53"><a href="#cb11-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-54"><a href="#cb11-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-55"><a href="#cb11-55" aria-hidden="true" tabindex="-1"></a><span class="fu">## Zusammenfassen zum Zusammenhang</span></span>
<span id="cb11-56"><a href="#cb11-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-57"><a href="#cb11-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-58"><a href="#cb11-58" aria-hidden="true" tabindex="-1"></a>In @sec-punktmodelle1 haben wir gelernt,</span>
<span id="cb11-59"><a href="#cb11-59" aria-hidden="true" tabindex="-1"></a>dass das Wesen eines Punktmodells als Zusammenfassung *einer* Spalte (eines Vektors) zu einer einzelnen Zahl^<span class="co">[</span><span class="ot">auch Skalar genannt</span><span class="co">]</span>, zu einem "Punkt" sozusagen, zusammengefasst werden kann.</span>
<span id="cb11-60"><a href="#cb11-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-61"><a href="#cb11-61" aria-hidden="true" tabindex="-1"></a>In diesem Kapitel fassen wir *zwei* Spalten zusammen, wieder zu *einer* Zahl, s. @eq-desk2.</span>
<span id="cb11-62"><a href="#cb11-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-63"><a href="#cb11-63" aria-hidden="true" tabindex="-1"></a>$$\begin{array}{|c|} \hline <span class="sc">\\</span> \hline <span class="sc">\\\\\\</span> \hline \end{array} + \begin{array}{|c|} \hline <span class="sc">\\</span> \hline <span class="sc">\\\\\\</span> \hline \end{array} \qquad \rightarrow \qquad \begin{array}{|c|} \hline <span class="sc">\\</span> \hline  \hline \end{array}$$ {#eq-desk2}</span>
<span id="cb11-64"><a href="#cb11-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-65"><a href="#cb11-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-66"><a href="#cb11-66" aria-hidden="true" tabindex="-1"></a>Wo wir in @sec-punktmodelle1 eine Variable mit Hilfe eines Lagemaßes beschrieben/dargestellt/zusammengefasst/modelliert haben, tun wir hier das Gleich für zwei Variablen.</span>
<span id="cb11-67"><a href="#cb11-67" aria-hidden="true" tabindex="-1"></a>Beschreibt man aber zwei Variablen, so geht es um die Frage, was die beiden Variablen miteinander zu tun haben:</span>
<span id="cb11-68"><a href="#cb11-68" aria-hidden="true" tabindex="-1"></a>Wie die beiden Variablen von einander abhängen bzw. miteinander (irgendwie) zusammenhängen.</span>
<span id="cb11-69"><a href="#cb11-69" aria-hidden="true" tabindex="-1"></a>Wir begrenzen auf *metrische* Variablen.</span>
<span id="cb11-70"><a href="#cb11-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-71"><a href="#cb11-71" aria-hidden="true" tabindex="-1"></a>Die Verbildlichung^<span class="co">[</span><span class="ot">Visualisierung</span><span class="co">]</span> zweier metrischer Variablen haben wir bereits in @sec-zshg-metr kennengelernt.</span>
<span id="cb11-72"><a href="#cb11-72" aria-hidden="true" tabindex="-1"></a>Zur Verdeutlichung, wie ein Zusammenhang zweier metrischer Variablen aussehen kann, helfe noch einmal @fig-zshg.</span>
<span id="cb11-73"><a href="#cb11-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-74"><a href="#cb11-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-77"><a href="#cb11-77" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-78"><a href="#cb11-78" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb11-79"><a href="#cb11-79" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-zshg</span></span>
<span id="cb11-80"><a href="#cb11-80" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: Visualisierung des Zusammenhangs von wheels und total_pr</span></span>
<span id="cb11-81"><a href="#cb11-81" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-subcap: </span></span>
<span id="cb11-82"><a href="#cb11-82" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - Streudiagramm mit Trendlinie (und Ellipse zur Verdeutlichung)</span></span>
<span id="cb11-83"><a href="#cb11-83" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - "'Verwackeltes' Streudiagramm, um die einzelnen Punkte besser zu erkennen"</span></span>
<span id="cb11-84"><a href="#cb11-84" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout-ncol: 2</span></span>
<span id="cb11-85"><a href="#cb11-85" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(mariokart, <span class="at">package =</span> <span class="st">"openintro"</span>)</span>
<span id="cb11-86"><a href="#cb11-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-87"><a href="#cb11-87" aria-hidden="true" tabindex="-1"></a>mariokart <span class="sc">%&gt;%</span> </span>
<span id="cb11-88"><a href="#cb11-88" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(total_pr <span class="sc">&lt;</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-89"><a href="#cb11-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggscatter</span>(<span class="at">x =</span> <span class="st">"wheels"</span>, </span>
<span id="cb11-90"><a href="#cb11-90" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> <span class="st">"total_pr"</span>,</span>
<span id="cb11-91"><a href="#cb11-91" aria-hidden="true" tabindex="-1"></a>            <span class="at">add =</span> <span class="st">"reg.line"</span>,</span>
<span id="cb11-92"><a href="#cb11-92" aria-hidden="true" tabindex="-1"></a>            <span class="at">add.params =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"blue"</span>),</span>
<span id="cb11-93"><a href="#cb11-93" aria-hidden="true" tabindex="-1"></a>            <span class="at">ellipse =</span> <span class="cn">TRUE</span>)</span>
<span id="cb11-94"><a href="#cb11-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-95"><a href="#cb11-95" aria-hidden="true" tabindex="-1"></a>mariokart <span class="sc">%&gt;%</span> </span>
<span id="cb11-96"><a href="#cb11-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(total_pr <span class="sc">&lt;</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-97"><a href="#cb11-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb11-98"><a href="#cb11-98" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> wheels, <span class="at">y =</span> total_pr) <span class="sc">+</span></span>
<span id="cb11-99"><a href="#cb11-99" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>()</span>
<span id="cb11-100"><a href="#cb11-100" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-101"><a href="#cb11-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-102"><a href="#cb11-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-103"><a href="#cb11-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-104"><a href="#cb11-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-105"><a href="#cb11-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-106"><a href="#cb11-106" aria-hidden="true" tabindex="-1"></a><span class="fu">## Abweichungsrechtecke {#sec-cov}</span></span>
<span id="cb11-107"><a href="#cb11-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-108"><a href="#cb11-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-109"><a href="#cb11-109" aria-hidden="true" tabindex="-1"></a><span class="fu">### Noten und Abweichungsrechtecke</span></span>
<span id="cb11-110"><a href="#cb11-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-111"><a href="#cb11-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-114"><a href="#cb11-114" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-115"><a href="#cb11-115" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb11-116"><a href="#cb11-116" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tribble</span>(</span>
<span id="cb11-117"><a href="#cb11-117" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>id, <span class="sc">~</span>y, <span class="sc">~</span>x,</span>
<span id="cb11-118"><a href="#cb11-118" aria-hidden="true" tabindex="-1"></a>   1L,   <span class="dv">72</span>,     <span class="dv">70</span>,</span>
<span id="cb11-119"><a href="#cb11-119" aria-hidden="true" tabindex="-1"></a>   2L,   <span class="dv">44</span>,     <span class="dv">40</span>,</span>
<span id="cb11-120"><a href="#cb11-120" aria-hidden="true" tabindex="-1"></a>   3L,   <span class="dv">39</span>,     <span class="dv">35</span>,</span>
<span id="cb11-121"><a href="#cb11-121" aria-hidden="true" tabindex="-1"></a>   4L,   <span class="dv">50</span>,     <span class="dv">67</span></span>
<span id="cb11-122"><a href="#cb11-122" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb11-123"><a href="#cb11-123" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">x_avg =</span> <span class="fu">mean</span>(x),</span>
<span id="cb11-124"><a href="#cb11-124" aria-hidden="true" tabindex="-1"></a>         <span class="at">y_avg =</span> <span class="fu">mean</span>(y),</span>
<span id="cb11-125"><a href="#cb11-125" aria-hidden="true" tabindex="-1"></a>         <span class="at">x_delta =</span> x <span class="sc">-</span> <span class="fu">mean</span>(x),</span>
<span id="cb11-126"><a href="#cb11-126" aria-hidden="true" tabindex="-1"></a>         <span class="at">y_delta =</span> y <span class="sc">-</span> <span class="fu">mean</span>(y),</span>
<span id="cb11-127"><a href="#cb11-127" aria-hidden="true" tabindex="-1"></a>         <span class="at">x_pos =</span> x <span class="sc">&gt;</span> <span class="fu">mean</span>(x),</span>
<span id="cb11-128"><a href="#cb11-128" aria-hidden="true" tabindex="-1"></a>         <span class="at">y_pos =</span> y <span class="sc">&gt;</span> <span class="fu">mean</span>(y),</span>
<span id="cb11-129"><a href="#cb11-129" aria-hidden="true" tabindex="-1"></a>         <span class="at">cov_sign =</span> <span class="fu">sign</span>(x_delta <span class="sc">*</span> y_delta),</span>
<span id="cb11-130"><a href="#cb11-130" aria-hidden="true" tabindex="-1"></a>         <span class="at">xy_area =</span> x_delta <span class="sc">*</span> y_delta)</span>
<span id="cb11-131"><a href="#cb11-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-132"><a href="#cb11-132" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(d, file = "noten.csv")</span></span>
<span id="cb11-133"><a href="#cb11-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-134"><a href="#cb11-134" aria-hidden="true" tabindex="-1"></a><span class="co"># cor(d$punkte, d$lernzeit)</span></span>
<span id="cb11-135"><a href="#cb11-135" aria-hidden="true" tabindex="-1"></a><span class="co">#plot(d$lernzeit, d$punkte)</span></span>
<span id="cb11-136"><a href="#cb11-136" aria-hidden="true" tabindex="-1"></a>cov_xy <span class="ot">&lt;-</span> <span class="fu">cov</span>(d<span class="sc">$</span>y, d<span class="sc">$</span>x)</span>
<span id="cb11-137"><a href="#cb11-137" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-138"><a href="#cb11-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-139"><a href="#cb11-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-140"><a href="#cb11-140" aria-hidden="true" tabindex="-1"></a>:::{#exm-noten2}</span>
<span id="cb11-141"><a href="#cb11-141" aria-hidden="true" tabindex="-1"></a><span class="fu">### Wieder Statistiknoten</span></span>
<span id="cb11-142"><a href="#cb11-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-143"><a href="#cb11-143" aria-hidden="true" tabindex="-1"></a>Anton, Bert, Carl und Daniel haben ihre Statistikklausur zurückbekommen.</span>
<span id="cb11-144"><a href="#cb11-144" aria-hidden="true" tabindex="-1"></a>Die Lernzeit $X$ scheint mit der erreichten Punktzahl $Y$ (0-100, je mehr desto besser) zusammenzuhängen.^<span class="co">[</span><span class="ot">&gt;    🧑‍🎓  Typisches Lehrerbeispiel!!</span><span class="co">]</span></span>
<span id="cb11-145"><a href="#cb11-145" aria-hidden="true" tabindex="-1"></a>Gar nicht so schlecht ausgefallen, s. @tbl-noten2.$\square$</span>
<span id="cb11-146"><a href="#cb11-146" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-147"><a href="#cb11-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-150"><a href="#cb11-150" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-151"><a href="#cb11-151" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb11-152"><a href="#cb11-152" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-noten2</span></span>
<span id="cb11-153"><a href="#cb11-153" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: Statistiknoten und Lernzeit</span></span>
<span id="cb11-154"><a href="#cb11-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-155"><a href="#cb11-155" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> </span>
<span id="cb11-156"><a href="#cb11-156" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, y, x) <span class="sc">%&gt;%</span> </span>
<span id="cb11-157"><a href="#cb11-157" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>()</span>
<span id="cb11-158"><a href="#cb11-158" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-159"><a href="#cb11-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-160"><a href="#cb11-160" aria-hidden="true" tabindex="-1"></a>Zeichnen wir uns die Daten als Streudiagramm, s. @fig-delta-rect.</span>
<span id="cb11-161"><a href="#cb11-161" aria-hidden="true" tabindex="-1"></a>Dabei zeichnen wir noch *Abweichungsrechtecke* ein.</span>
<span id="cb11-162"><a href="#cb11-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-163"><a href="#cb11-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-164"><a href="#cb11-164" aria-hidden="true" tabindex="-1"></a>:::{#def-abweichungsrechteck}</span>
<span id="cb11-165"><a href="#cb11-165" aria-hidden="true" tabindex="-1"></a><span class="fu">### Abweichungsrechteck</span></span>
<span id="cb11-166"><a href="#cb11-166" aria-hidden="true" tabindex="-1"></a>Im zweidimensionalen Fall spannt sich ein Abweichungsrechteck vom Mittelwert $\bar{x}$ bis zum Messwert $x_i$ und genauso für $Y$.</span>
<span id="cb11-167"><a href="#cb11-167" aria-hidden="true" tabindex="-1"></a>Wir bezeichnen mit $dx_i$ die Distanz (Abweichung) vom Mittelwert $\bar{x}$ bis zum Messwert $x_i$ (und analog $dy_i$), also $dx_i = x_i - \bar{x}$.  Die Fläche des Abweichungsrechtecks ist dann das Produkt der Abweichungen: $dx_i \cdot dy_i$.$\square$</span>
<span id="cb11-168"><a href="#cb11-168" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-169"><a href="#cb11-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-172"><a href="#cb11-172" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-173"><a href="#cb11-173" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb11-174"><a href="#cb11-174" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-delta-rect</span></span>
<span id="cb11-175"><a href="#cb11-175" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Die Kovarianz als mittleres Abweichungsrechteck. In jedem der vier Quadranten (Q1, Q2, Q3, Q4) ist das Vorzeichen der Abweichungsrechtecke dargestellt. Die Farben der Abweichungsrechtecke spiegeln das Vorzeichen wider."</span></span>
<span id="cb11-176"><a href="#cb11-176" aria-hidden="true" tabindex="-1"></a>p_cov <span class="ot">&lt;-</span> </span>
<span id="cb11-177"><a href="#cb11-177" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d) <span class="sc">+</span></span>
<span id="cb11-178"><a href="#cb11-178" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y) <span class="sc">+</span></span>
<span id="cb11-179"><a href="#cb11-179" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">mean</span>(d<span class="sc">$</span>x), <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb11-180"><a href="#cb11-180" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fu">mean</span>(d<span class="sc">$</span>y), <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb11-181"><a href="#cb11-181" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_rect</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> x, <span class="at">xmax =</span> x_avg, <span class="at">ymin =</span> y, <span class="at">ymax =</span> y_avg,</span>
<span id="cb11-182"><a href="#cb11-182" aria-hidden="true" tabindex="-1"></a>                <span class="at">fill =</span> <span class="fu">factor</span>(cov_sign)),</span>
<span id="cb11-183"><a href="#cb11-183" aria-hidden="true" tabindex="-1"></a>            <span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb11-184"><a href="#cb11-184" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Lernzeit"</span>,</span>
<span id="cb11-185"><a href="#cb11-185" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Punkte (0-100)"</span>,</span>
<span id="cb11-186"><a href="#cb11-186" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Vorzeichen"</span>) <span class="sc">+</span> </span>
<span id="cb11-187"><a href="#cb11-187" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb11-188"><a href="#cb11-188" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"label"</span>, <span class="at">x =</span> <span class="cn">Inf</span>, <span class="at">y =</span> <span class="cn">Inf</span>, </span>
<span id="cb11-189"><a href="#cb11-189" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">"Q1: +"</span>, <span class="at">hjust =</span> <span class="st">"right"</span>, <span class="at">vjust =</span> <span class="st">"top"</span>) <span class="sc">+</span></span>
<span id="cb11-190"><a href="#cb11-190" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"label"</span>, <span class="at">x =</span> <span class="cn">Inf</span>, <span class="at">y =</span> <span class="sc">-</span><span class="cn">Inf</span>, </span>
<span id="cb11-191"><a href="#cb11-191" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">"Q2: -"</span>, <span class="at">hjust =</span> <span class="st">"right"</span>, <span class="at">vjust =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb11-192"><a href="#cb11-192" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"label"</span>, <span class="at">x =</span> <span class="sc">-</span><span class="cn">Inf</span>, <span class="at">y =</span> <span class="sc">-</span><span class="cn">Inf</span>, </span>
<span id="cb11-193"><a href="#cb11-193" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">"Q3: +"</span>, <span class="at">hjust =</span> <span class="st">"left"</span>, <span class="at">vjust =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb11-194"><a href="#cb11-194" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"label"</span>, <span class="at">x =</span> <span class="sc">-</span><span class="cn">Inf</span>, <span class="at">y =</span> <span class="cn">Inf</span>, </span>
<span id="cb11-195"><a href="#cb11-195" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">"Q4: -"</span>, <span class="at">hjust =</span> <span class="st">"left"</span>, <span class="at">vjust =</span> <span class="st">"top"</span>) <span class="sc">+</span></span>
<span id="cb11-196"><a href="#cb11-196" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb11-197"><a href="#cb11-197" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_okabeito</span>() <span class="sc">+</span></span>
<span id="cb11-198"><a href="#cb11-198" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb11-199"><a href="#cb11-199" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.95</span>, <span class="fl">0.05</span>),  <span class="co"># Adjust these values to position the legend</span></span>
<span id="cb11-200"><a href="#cb11-200" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.justification =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">0</span>)    <span class="co"># 1 = right, 0 = bottom</span></span>
<span id="cb11-201"><a href="#cb11-201" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb11-202"><a href="#cb11-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-203"><a href="#cb11-203" aria-hidden="true" tabindex="-1"></a>p_cov</span>
<span id="cb11-204"><a href="#cb11-204" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-205"><a href="#cb11-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-206"><a href="#cb11-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-207"><a href="#cb11-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-208"><a href="#cb11-208" aria-hidden="true" tabindex="-1"></a>Stellen Sie sich vor, wir legen alle Rechtecke zusammen aus @fig-delta-rect.</span>
<span id="cb11-209"><a href="#cb11-209" aria-hidden="true" tabindex="-1"></a>Nennen wir das resultierende Rechteck das "Summenrechteck".</span>
<span id="cb11-210"><a href="#cb11-210" aria-hidden="true" tabindex="-1"></a>Ja, ich weiß, ich strapaziere mal wieder Ihre Phantasie^<span class="co">[</span><span class="ot">hoffentlich nicht Ihre Geduld</span><span class="co">]</span>.</span>
<span id="cb11-211"><a href="#cb11-211" aria-hidden="true" tabindex="-1"></a>Jetzt kommt's: Je größer die Fläche des Summenrechtecks, desto stärker der (lineare) Zusammenhang.</span>
<span id="cb11-212"><a href="#cb11-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-213"><a href="#cb11-213" aria-hidden="true" tabindex="-1"></a>Beachten Sie, dass die Flächen Vorzeichen haben, positiv oder negativ (Plus oder Minus), je nach dem, in welchem der vier Quadranten sie stehen. Die Füllfarben der Rechtecke verdeutlichen dies, s. @fig-delta-rect.</span>
<span id="cb11-214"><a href="#cb11-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-215"><a href="#cb11-215" aria-hidden="true" tabindex="-1"></a>Das *Vorzeichen* der Summe zeigt an, ob der Zusammenhang positiv (gleichsinnig, ansteigende Trendlinie) oder negativ (gegensinnig, absinkende Trendlinie) ist.</span>
<span id="cb11-216"><a href="#cb11-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-217"><a href="#cb11-217" aria-hidden="true" tabindex="-1"></a>So zeigt @fig-kov links eine positive Summe der Abweichungsrechtecke und rechts eine negative Summe. Man sieht im linken Diagramme, dass die Summe der Rechtecke mit positivem Vorzeigen (rot) überwiegt; im rechten Diagramm ist es umgekehrt (blau, negativ überwiegt).</span>
<span id="cb11-218"><a href="#cb11-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-221"><a href="#cb11-221" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-222"><a href="#cb11-222" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-kov</span></span>
<span id="cb11-223"><a href="#cb11-223" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Positive und negative Kovarianz: Einmal resultiert eine positive Summe, einmal eine negative Summe, wenn man die Flächen der Abweichungsrechtecke addiert."</span></span>
<span id="cb11-224"><a href="#cb11-224" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout-ncol: 2</span></span>
<span id="cb11-225"><a href="#cb11-225" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-subcap: </span></span>
<span id="cb11-226"><a href="#cb11-226" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - Positive Vorzeichen (Quadranten 1 und 3) überweigen, was in einer positiven Kovarianz resultiert</span></span>
<span id="cb11-227"><a href="#cb11-227" aria-hidden="true" tabindex="-1"></a><span class="co">#|    - Negative Vorzeichen (Quadranten 2 und 4) überweigen, was in einer negativen Kovarianz resultiert</span></span>
<span id="cb11-228"><a href="#cb11-228" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb11-229"><a href="#cb11-229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-230"><a href="#cb11-230" aria-hidden="true" tabindex="-1"></a><span class="do">## Positive correlation</span></span>
<span id="cb11-231"><a href="#cb11-231" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">25</span>)</span>
<span id="cb11-232"><a href="#cb11-232" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> x <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">25</span>,<span class="dv">3</span>, .<span class="dv">5</span>)</span>
<span id="cb11-233"><a href="#cb11-233" aria-hidden="true" tabindex="-1"></a><span class="co">#cor(x,y)</span></span>
<span id="cb11-234"><a href="#cb11-234" aria-hidden="true" tabindex="-1"></a><span class="fu">cor.rect.plot</span>(x,y)</span>
<span id="cb11-235"><a href="#cb11-235" aria-hidden="true" tabindex="-1"></a><span class="do">## negative correlation</span></span>
<span id="cb11-236"><a href="#cb11-236" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">25</span>)</span>
<span id="cb11-237"><a href="#cb11-237" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">25</span>,<span class="dv">10</span>,<span class="fl">1.5</span>) <span class="sc">-</span> x</span>
<span id="cb11-238"><a href="#cb11-238" aria-hidden="true" tabindex="-1"></a><span class="co">#cor(x,y)</span></span>
<span id="cb11-239"><a href="#cb11-239" aria-hidden="true" tabindex="-1"></a><span class="fu">cor.rect.plot</span>(x,y)</span>
<span id="cb11-240"><a href="#cb11-240" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-241"><a href="#cb11-241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-242"><a href="#cb11-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-243"><a href="#cb11-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-244"><a href="#cb11-244" aria-hidden="true" tabindex="-1"></a>Wir können das Summenrechteck noch durch die Anzahl der Datenpunkte teilen,</span>
<span id="cb11-245"><a href="#cb11-245" aria-hidden="true" tabindex="-1"></a>das ändert nichts an der Aussage,</span>
<span id="cb11-246"><a href="#cb11-246" aria-hidden="true" tabindex="-1"></a>aber der Mittelwert hat gegenüber der Summe den Vorteil, dass er unabhängig ist in seiner Aussage von der Anzahl der eingegangenen Datenpunkte.</span>
<span id="cb11-247"><a href="#cb11-247" aria-hidden="true" tabindex="-1"></a>Das resultierende Rechteck nennen wir das *mittlere Abweichungsrechteck*.</span>
<span id="cb11-248"><a href="#cb11-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-249"><a href="#cb11-249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-250"><a href="#cb11-250" aria-hidden="true" tabindex="-1"></a>Ein Maß für den Zusammenhang von Lernzeit und Klausurpunkte ist also die *Fläche des mittleren Abweichungsrechtecks*, s. @fig-cov2.</span>
<span id="cb11-251"><a href="#cb11-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-252"><a href="#cb11-252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-255"><a href="#cb11-255" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-256"><a href="#cb11-256" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb11-257"><a href="#cb11-257" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-cov2</span></span>
<span id="cb11-258"><a href="#cb11-258" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Die Kovarianz als mittleres Abweichungsrechteck. Die Fläche der Rechteckts entspricht dem Wert der Kovarianz."</span></span>
<span id="cb11-259"><a href="#cb11-259" aria-hidden="true" tabindex="-1"></a>p_cov2 <span class="ot">&lt;-</span> </span>
<span id="cb11-260"><a href="#cb11-260" aria-hidden="true" tabindex="-1"></a>p_cov <span class="sc">+</span></span>
<span id="cb11-261"><a href="#cb11-261" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_rect</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> <span class="sc">-</span><span class="cn">Inf</span>, </span>
<span id="cb11-262"><a href="#cb11-262" aria-hidden="true" tabindex="-1"></a>                <span class="at">xmax =</span> <span class="cn">Inf</span>, </span>
<span id="cb11-263"><a href="#cb11-263" aria-hidden="true" tabindex="-1"></a>                <span class="at">ymin =</span> <span class="sc">-</span><span class="cn">Inf</span>, </span>
<span id="cb11-264"><a href="#cb11-264" aria-hidden="true" tabindex="-1"></a>                <span class="at">ymax =</span> <span class="cn">Inf</span>), </span>
<span id="cb11-265"><a href="#cb11-265" aria-hidden="true" tabindex="-1"></a>            <span class="at">fill =</span> <span class="st">"gray"</span>, </span>
<span id="cb11-266"><a href="#cb11-266" aria-hidden="true" tabindex="-1"></a>            <span class="at">alpha =</span> <span class="fl">0.2</span>, </span>
<span id="cb11-267"><a href="#cb11-267" aria-hidden="true" tabindex="-1"></a>            <span class="at">inherit.aes =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb11-268"><a href="#cb11-268" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_rect</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> <span class="fu">mean</span>(d<span class="sc">$</span>x) <span class="sc">-</span> <span class="fu">sqrt</span>(cov_xy)<span class="sc">/</span><span class="dv">2</span>, </span>
<span id="cb11-269"><a href="#cb11-269" aria-hidden="true" tabindex="-1"></a>                <span class="at">xmax =</span> <span class="fu">mean</span>(d<span class="sc">$</span>x) <span class="sc">+</span> <span class="fu">sqrt</span>(cov_xy)<span class="sc">/</span><span class="dv">2</span>,</span>
<span id="cb11-270"><a href="#cb11-270" aria-hidden="true" tabindex="-1"></a>                <span class="at">ymin =</span> <span class="fu">mean</span>(d<span class="sc">$</span>y) <span class="sc">-</span> <span class="fu">sqrt</span>(cov_xy)<span class="sc">/</span><span class="dv">2</span>, </span>
<span id="cb11-271"><a href="#cb11-271" aria-hidden="true" tabindex="-1"></a>                <span class="at">ymax =</span> <span class="fu">mean</span>(d<span class="sc">$</span>y) <span class="sc">+</span> <span class="fu">sqrt</span>(cov_xy)<span class="sc">/</span><span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb11-272"><a href="#cb11-272" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">mean</span>(d<span class="sc">$</span>x), <span class="at">y =</span> <span class="fu">mean</span>(d<span class="sc">$</span>y), <span class="at">label =</span> <span class="st">"Kovarianz"</span>),</span>
<span id="cb11-273"><a href="#cb11-273" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb11-274"><a href="#cb11-274" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb11-275"><a href="#cb11-275" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.95</span>, <span class="fl">0.05</span>),  <span class="co"># Adjust these values to position the legend</span></span>
<span id="cb11-276"><a href="#cb11-276" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.justification =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">0</span>))</span>
<span id="cb11-277"><a href="#cb11-277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-278"><a href="#cb11-278" aria-hidden="true" tabindex="-1"></a>p_cov2</span>
<span id="cb11-279"><a href="#cb11-279" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-280"><a href="#cb11-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-281"><a href="#cb11-281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-282"><a href="#cb11-282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-283"><a href="#cb11-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-284"><a href="#cb11-284" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-285"><a href="#cb11-285" aria-hidden="true" tabindex="-1"></a><span class="fu">### Kovarianz {#sec-kov}</span></span>
<span id="cb11-286"><a href="#cb11-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-287"><a href="#cb11-287" aria-hidden="true" tabindex="-1"></a>:::{#def-kov}</span>
<span id="cb11-288"><a href="#cb11-288" aria-hidden="true" tabindex="-1"></a><span class="fu">### Kovarianz</span></span>
<span id="cb11-289"><a href="#cb11-289" aria-hidden="true" tabindex="-1"></a>Die Kovarianz ist definiert als die Fläche des mittleren Abweichungsrechtecks.</span>
<span id="cb11-290"><a href="#cb11-290" aria-hidden="true" tabindex="-1"></a>Sie ist ein Maß für die Stärke und Richtung des linearen Zusammenhangs zweier metrischer Variablen, s. @fig-cov2.$\square$</span>
<span id="cb11-291"><a href="#cb11-291" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-292"><a href="#cb11-292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-293"><a href="#cb11-293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-294"><a href="#cb11-294" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;   👩‍🎓 Zu viele Bilder! Ich brauch Zahlen.</span></span>
<span id="cb11-295"><a href="#cb11-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-296"><a href="#cb11-296" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;   👩‍🏫 Kommen schon!</span></span>
<span id="cb11-297"><a href="#cb11-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-298"><a href="#cb11-298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-299"><a href="#cb11-299" aria-hidden="true" tabindex="-1"></a>@tbl-kov2 zeigt die Werte für die X- und Y-Abweichung und die resultierenden Flächen der Abweichungsrechtecke.</span>
<span id="cb11-300"><a href="#cb11-300" aria-hidden="true" tabindex="-1"></a>Wenn Sie die Werte selber nachrechnen wollen, finden Sie den Noten-Datensatz in der Datei <span class="co">[</span><span class="ot">noten.csv</span><span class="co">](https://raw.githubusercontent.com/sebastiansauer/statistik1/main/daten/noten.csv)</span>.</span>
<span id="cb11-301"><a href="#cb11-301" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-302"><a href="#cb11-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-303"><a href="#cb11-303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-306"><a href="#cb11-306" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-307"><a href="#cb11-307" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb11-308"><a href="#cb11-308" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-kov2</span></span>
<span id="cb11-309"><a href="#cb11-309" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: Werte der Abweichungsrechtecke</span></span>
<span id="cb11-310"><a href="#cb11-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-311"><a href="#cb11-311" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> </span>
<span id="cb11-312"><a href="#cb11-312" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>()</span>
<span id="cb11-313"><a href="#cb11-313" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-314"><a href="#cb11-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-315"><a href="#cb11-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-316"><a href="#cb11-316" aria-hidden="true" tabindex="-1"></a>Berechnen wir als nächstes das mittlere Abweichungsrechteck, die Kovarianz:</span>
<span id="cb11-317"><a href="#cb11-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-320"><a href="#cb11-320" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-321"><a href="#cb11-321" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb11-322"><a href="#cb11-322" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">kovarianz =</span> <span class="fu">mean</span>(xy_area))</span>
<span id="cb11-323"><a href="#cb11-323" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-324"><a href="#cb11-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-325"><a href="#cb11-325" aria-hidden="true" tabindex="-1"></a>Die Formel der Kovarianz lautet, s. @eq-cov4: </span>
<span id="cb11-326"><a href="#cb11-326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-327"><a href="#cb11-327" aria-hidden="true" tabindex="-1"></a>$$\text{cov(xy)} = s_{xy}:=\frac{1}{n}\sum_{i=1}^n (x_i-\bar{x})(y_i-\bar{y}) = \frac{1}{n}\sum_{i=1}^n dx_i\cdot dy_i$$ {#eq-cov4}.</span>
<span id="cb11-328"><a href="#cb11-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-329"><a href="#cb11-329" aria-hidden="true" tabindex="-1"></a>In Worten:</span>
<span id="cb11-330"><a href="#cb11-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-331"><a href="#cb11-331" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Rechne für jedes $x_i$ die Abweichung vom Mittelwert, $\bar{x}$, aus, $dx_i$</span>
<span id="cb11-332"><a href="#cb11-332" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Rechne für jedes $y_i$ die Abweichung vom Mittelwert, $\bar{y}$, aus, $dy_i$</span>
<span id="cb11-333"><a href="#cb11-333" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Multipliziere für alle $i$ $dx_i$ mit $xy_i$, um die Abweichungsrechtecke $dx_i dy_i$ zu berechnen</span>
<span id="cb11-334"><a href="#cb11-334" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>Addiere die Flächen der Abweichungsrechtecke</span>
<span id="cb11-335"><a href="#cb11-335" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span>Teile durch die Anzahl der Beobachtungen $n$</span>
<span id="cb11-336"><a href="#cb11-336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-337"><a href="#cb11-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-338"><a href="#cb11-338" aria-hidden="true" tabindex="-1"></a>:::{#exm-pos-kov}</span>
<span id="cb11-339"><a href="#cb11-339" aria-hidden="true" tabindex="-1"></a><span class="fu">### Variablen mit positiver Kovarianz</span></span>
<span id="cb11-340"><a href="#cb11-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-341"><a href="#cb11-341" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Größe und Gewicht</span>
<span id="cb11-342"><a href="#cb11-342" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Lernzeit und Klausurerfolg</span>
<span id="cb11-343"><a href="#cb11-343" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Distanz zum Ziel und Reisezeit</span>
<span id="cb11-344"><a href="#cb11-344" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Temperatur und Eisverkauf$\square$</span>
<span id="cb11-345"><a href="#cb11-345" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-346"><a href="#cb11-346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-347"><a href="#cb11-347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-348"><a href="#cb11-348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-349"><a href="#cb11-349" aria-hidden="true" tabindex="-1"></a>:::{#exm-neg-kov}</span>
<span id="cb11-350"><a href="#cb11-350" aria-hidden="true" tabindex="-1"></a><span class="fu">### Variablen mit negativer Kovarianz</span></span>
<span id="cb11-351"><a href="#cb11-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-352"><a href="#cb11-352" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Lernzeit und Freizeit</span>
<span id="cb11-353"><a href="#cb11-353" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Alter und Restlebenszeit</span>
<span id="cb11-354"><a href="#cb11-354" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Temperatur und Schneemenge</span>
<span id="cb11-355"><a href="#cb11-355" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Lebenszufriedenheit und Depressivität$\square$</span>
<span id="cb11-356"><a href="#cb11-356" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-357"><a href="#cb11-357" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-358"><a href="#cb11-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-359"><a href="#cb11-359" aria-hidden="true" tabindex="-1"></a>Drei Extrembeispiele für Kovarianz-Werte sind in @fig-demos-cov dargestellt.</span>
<span id="cb11-360"><a href="#cb11-360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-361"><a href="#cb11-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-364"><a href="#cb11-364" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-365"><a href="#cb11-365" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb11-366"><a href="#cb11-366" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-demos-cov</span></span>
<span id="cb11-367"><a href="#cb11-367" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: Verschiedene Werte der Kovarianz</span></span>
<span id="cb11-368"><a href="#cb11-368" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-subcap: </span></span>
<span id="cb11-369"><a href="#cb11-369" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - kein Zusammenhang</span></span>
<span id="cb11-370"><a href="#cb11-370" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - perfekter (positiver) Zusammenhang</span></span>
<span id="cb11-371"><a href="#cb11-371" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - negativer Zusammenhang</span></span>
<span id="cb11-372"><a href="#cb11-372" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout-ncol: 3</span></span>
<span id="cb11-373"><a href="#cb11-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-374"><a href="#cb11-374" aria-hidden="true" tabindex="-1"></a><span class="co"># zero correlation</span></span>
<span id="cb11-375"><a href="#cb11-375" aria-hidden="true" tabindex="-1"></a>points1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb11-376"><a href="#cb11-376" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>),</span>
<span id="cb11-377"><a href="#cb11-377" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">1</span>)</span>
<span id="cb11-378"><a href="#cb11-378" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-379"><a href="#cb11-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-380"><a href="#cb11-380" aria-hidden="true" tabindex="-1"></a><span class="fu">cor.rect.plot</span>(<span class="at">y =</span> points1<span class="sc">$</span>y, <span class="at">x =</span> points1<span class="sc">$</span>x)</span>
<span id="cb11-381"><a href="#cb11-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-382"><a href="#cb11-382" aria-hidden="true" tabindex="-1"></a><span class="co"># perfect correlation</span></span>
<span id="cb11-383"><a href="#cb11-383" aria-hidden="true" tabindex="-1"></a>points2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb11-384"><a href="#cb11-384" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>),</span>
<span id="cb11-385"><a href="#cb11-385" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>)</span>
<span id="cb11-386"><a href="#cb11-386" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-387"><a href="#cb11-387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-388"><a href="#cb11-388" aria-hidden="true" tabindex="-1"></a><span class="fu">cor.rect.plot</span>(<span class="at">y =</span> points2<span class="sc">$</span>y, <span class="at">x =</span> points2<span class="sc">$</span>x)</span>
<span id="cb11-389"><a href="#cb11-389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-390"><a href="#cb11-390" aria-hidden="true" tabindex="-1"></a><span class="co"># perfect negative correlation</span></span>
<span id="cb11-391"><a href="#cb11-391" aria-hidden="true" tabindex="-1"></a>points3 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb11-392"><a href="#cb11-392" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>),</span>
<span id="cb11-393"><a href="#cb11-393" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="fl">2.1</span>,<span class="dv">6</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>)</span>
<span id="cb11-394"><a href="#cb11-394" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-395"><a href="#cb11-395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-396"><a href="#cb11-396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-397"><a href="#cb11-397" aria-hidden="true" tabindex="-1"></a><span class="fu">cor.rect.plot</span>(<span class="at">y =</span> points3<span class="sc">$</span>y, <span class="at">x =</span> points3<span class="sc">$</span>x)</span>
<span id="cb11-398"><a href="#cb11-398" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-399"><a href="#cb11-399" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-400"><a href="#cb11-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-401"><a href="#cb11-401" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-402"><a href="#cb11-402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-403"><a href="#cb11-403" aria-hidden="true" tabindex="-1"></a>Bei einer Kovarianz von 0 ist die Fläche der Abweichungsrechtecke^<span class="co">[</span><span class="ot">Bei der Varianz waren es Quadrate, bei der Kovarianz sind es Rechtecke.</span><span class="co">]</span>, wenn man sie pro Quadrant aufsummiert, etwa gleich groß, s. @fig-covnull.</span>
<span id="cb11-404"><a href="#cb11-404" aria-hidden="true" tabindex="-1"></a>Addiert man die Abweichungsrechtecke (unter Beachtung der Vorzeichen: rot = positiv; blau = negativ), so beträgt die Summe in etwa (oder genau) Null.</span>
<span id="cb11-405"><a href="#cb11-405" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-406"><a href="#cb11-406" aria-hidden="true" tabindex="-1"></a>Damit ist die Kovarianz in diesem Fall etwa (bzw. genau) Null:</span>
<span id="cb11-407"><a href="#cb11-407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-408"><a href="#cb11-408" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-409"><a href="#cb11-409" aria-hidden="true" tabindex="-1"></a>$$\begin{align}</span>
<span id="cb11-410"><a href="#cb11-410" aria-hidden="true" tabindex="-1"></a>\sum \left(dX \cdot dY \right) &amp;= 0<span class="sc">\\</span></span>
<span id="cb11-411"><a href="#cb11-411" aria-hidden="true" tabindex="-1"></a>\Leftrightarrow \varnothing \left(dX \cdot dY \right) &amp;= 0<span class="sc">\\</span></span>
<span id="cb11-412"><a href="#cb11-412" aria-hidden="true" tabindex="-1"></a>\Leftrightarrow \text{cov} &amp;= 0</span>
<span id="cb11-413"><a href="#cb11-413" aria-hidden="true" tabindex="-1"></a>\end{align}$$</span>
<span id="cb11-414"><a href="#cb11-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-415"><a href="#cb11-415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-416"><a href="#cb11-416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-417"><a href="#cb11-417" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-420"><a href="#cb11-420" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-421"><a href="#cb11-421" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb11-422"><a href="#cb11-422" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-covnull</span></span>
<span id="cb11-423"><a href="#cb11-423" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: Wenn die Kovarianz 0 ist, gleichen sich die Abweichungsrechtecke auf 0 aus</span></span>
<span id="cb11-424"><a href="#cb11-424" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout-ncol: 2</span></span>
<span id="cb11-425"><a href="#cb11-425" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-subcap: </span></span>
<span id="cb11-426"><a href="#cb11-426" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - 4 Abweichungsrechtecke, deren Fläche sich zu 0 addiert</span></span>
<span id="cb11-427"><a href="#cb11-427" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - 200 Abweichungsrechtecke, deren Fläche sich zu 0 addiert</span></span>
<span id="cb11-428"><a href="#cb11-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-429"><a href="#cb11-429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-430"><a href="#cb11-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-431"><a href="#cb11-431" aria-hidden="true" tabindex="-1"></a><span class="co"># zero correlation</span></span>
<span id="cb11-432"><a href="#cb11-432" aria-hidden="true" tabindex="-1"></a>points1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb11-433"><a href="#cb11-433" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>),</span>
<span id="cb11-434"><a href="#cb11-434" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">1</span>)</span>
<span id="cb11-435"><a href="#cb11-435" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-436"><a href="#cb11-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-437"><a href="#cb11-437" aria-hidden="true" tabindex="-1"></a><span class="co">#cor(points1$x, points1$y)</span></span>
<span id="cb11-438"><a href="#cb11-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-439"><a href="#cb11-439" aria-hidden="true" tabindex="-1"></a><span class="fu">cor.rect.plot</span>(<span class="at">y =</span> points1<span class="sc">$</span>y, <span class="at">x =</span> points1<span class="sc">$</span>x)</span>
<span id="cb11-440"><a href="#cb11-440" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-441"><a href="#cb11-441" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-442"><a href="#cb11-442" aria-hidden="true" tabindex="-1"></a><span class="co"># simulated data, uncorrelated</span></span>
<span id="cb11-443"><a href="#cb11-443" aria-hidden="true" tabindex="-1"></a>samples <span class="ot">=</span> <span class="dv">200</span></span>
<span id="cb11-444"><a href="#cb11-444" aria-hidden="true" tabindex="-1"></a>r <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb11-445"><a href="#cb11-445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-446"><a href="#cb11-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-447"><a href="#cb11-447" aria-hidden="true" tabindex="-1"></a>data <span class="ot">=</span> MASS<span class="sc">::</span><span class="fu">mvrnorm</span>(<span class="at">n=</span>samples, <span class="at">mu=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>), <span class="at">Sigma=</span><span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, r, r, <span class="dv">1</span>), <span class="at">nrow=</span><span class="dv">2</span>), <span class="at">empirical=</span><span class="cn">TRUE</span>)</span>
<span id="cb11-448"><a href="#cb11-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-449"><a href="#cb11-449" aria-hidden="true" tabindex="-1"></a>data.df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(data)</span>
<span id="cb11-450"><a href="#cb11-450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-451"><a href="#cb11-451" aria-hidden="true" tabindex="-1"></a><span class="co"># p1 &lt;- ggplot(data.df, aes(x=X1, y=X2)) + geom_point() + </span></span>
<span id="cb11-452"><a href="#cb11-452" aria-hidden="true" tabindex="-1"></a><span class="co">#   theme(text = element_text(size = 18))</span></span>
<span id="cb11-453"><a href="#cb11-453" aria-hidden="true" tabindex="-1"></a><span class="co"># p1</span></span>
<span id="cb11-454"><a href="#cb11-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-455"><a href="#cb11-455" aria-hidden="true" tabindex="-1"></a><span class="fu">cor.rect.plot</span>(<span class="at">y =</span> data.df<span class="sc">$</span>X1, <span class="at">x =</span> data.df<span class="sc">$</span>X2)</span>
<span id="cb11-456"><a href="#cb11-456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-457"><a href="#cb11-457" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-458"><a href="#cb11-458" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-459"><a href="#cb11-459" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-460"><a href="#cb11-460" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-461"><a href="#cb11-461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-462"><a href="#cb11-462" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-463"><a href="#cb11-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-464"><a href="#cb11-464" aria-hidden="true" tabindex="-1"></a><span class="fu">### Die Kovarianz ist schwer zu interpretieren</span></span>
<span id="cb11-465"><a href="#cb11-465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-466"><a href="#cb11-466" aria-hidden="true" tabindex="-1"></a>Die Kovarianz hat den Nachteil, dass sie abhängig ist von der Skalierung.</span>
<span id="cb11-467"><a href="#cb11-467" aria-hidden="true" tabindex="-1"></a>So steigt die Kovarianz z.B. um den Faktor 100, wenn man eine Variable (z.B. Einkommen) anstelle von Euro in Cent bemisst.</span>
<span id="cb11-468"><a href="#cb11-468" aria-hidden="true" tabindex="-1"></a>Das ist nicht wünschenswert, denn der Zusammenhang zwischen z.B. Einkommen und Lebenszufriedenheit ist unabhängig davon, ob man Einkommen in Euro, Cent oder Dollar misst.</span>
<span id="cb11-469"><a href="#cb11-469" aria-hidden="true" tabindex="-1"></a>Außerdem hat die Kovarianz keinen Maximalwert, der einen perfekten Zusammenhang anzeigt.</span>
<span id="cb11-470"><a href="#cb11-470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-471"><a href="#cb11-471" aria-hidden="true" tabindex="-1"></a>Insgesamt ist die Kovarianz schwer zu interpretieren und wird in der praktischen Anwendung nur wenig verwendet.</span>
<span id="cb11-472"><a href="#cb11-472" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-473"><a href="#cb11-473" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-474"><a href="#cb11-474" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-475"><a href="#cb11-475" aria-hidden="true" tabindex="-1"></a><span class="fu">## Korrelation</span></span>
<span id="cb11-476"><a href="#cb11-476" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-477"><a href="#cb11-477" aria-hidden="true" tabindex="-1"></a>Der Korrelationskoeffizient $r$ nach Karl Pearson löst das Problem, dass die Kovarianz schwer interpretierbar ist.</span>
<span id="cb11-478"><a href="#cb11-478" aria-hidden="true" tabindex="-1"></a>Der Wertebereich von $r$ reicht von -1 (perfekte negative lineare Korrelation) bis +1 (perfekte positive lineare Korrelation).</span>
<span id="cb11-479"><a href="#cb11-479" aria-hidden="true" tabindex="-1"></a>Eine Korrelation von $r = 0$ bedeutet kein linearer Zusammenhang.</span>
<span id="cb11-480"><a href="#cb11-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-481"><a href="#cb11-481" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-482"><a href="#cb11-482" aria-hidden="true" tabindex="-1"></a>Die Korrelation berechnet sich wie folgt:</span>
<span id="cb11-483"><a href="#cb11-483" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-484"><a href="#cb11-484" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Teile alle $x_i$ durch ihre Standardabweichung, $s_x$</span>
<span id="cb11-485"><a href="#cb11-485" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Teile alle $y_i$ durch ihre Standardabweichung, $s_y$</span>
<span id="cb11-486"><a href="#cb11-486" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Berechne mit diesen Werten die Kovarianz</span>
<span id="cb11-487"><a href="#cb11-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-488"><a href="#cb11-488" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-489"><a href="#cb11-489" aria-hidden="true" tabindex="-1"></a>Teilt man nämlich alle $x_i$ bzw. $y_i$ durch ihre Standardabweichung,</span>
<span id="cb11-490"><a href="#cb11-490" aria-hidden="true" tabindex="-1"></a>so führt man mit $X$ bzw. $Y$ eine z-Transformation durch.</span>
<span id="cb11-491"><a href="#cb11-491" aria-hidden="true" tabindex="-1"></a>Daher kann man den Korrelationskoeffizienten $r$ so definieren:</span>
<span id="cb11-492"><a href="#cb11-492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-493"><a href="#cb11-493" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-494"><a href="#cb11-494" aria-hidden="true" tabindex="-1"></a>:::{#def-r}</span>
<span id="cb11-495"><a href="#cb11-495" aria-hidden="true" tabindex="-1"></a><span class="fu">### Korrelationskoeffizient r</span></span>
<span id="cb11-496"><a href="#cb11-496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-497"><a href="#cb11-497" aria-hidden="true" tabindex="-1"></a>Der Korrelationskoeffizient $r$ ist definiert als das mittlere Produkt der z-Wert-Paare: $r_{xy}=\frac{1}{n}\sum_{i=1}^n z^x_i z^y_i$.$\square$</span>
<span id="cb11-498"><a href="#cb11-498" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-499"><a href="#cb11-499" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-500"><a href="#cb11-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-501"><a href="#cb11-501" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-502"><a href="#cb11-502" aria-hidden="true" tabindex="-1"></a>:::{.callout-note}</span>
<span id="cb11-503"><a href="#cb11-503" aria-hidden="true" tabindex="-1"></a>Aus dem Korrelationskoeffizienten können Sie zwei Informationen ableiten:</span>
<span id="cb11-504"><a href="#cb11-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-505"><a href="#cb11-505" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>*Vorzeichen*: Ein positives Vorzeichen bedeutet positiver (gleichsinniger) linearer Zusammenhang (und umgekehrt: negatives Vorzeichen, negativer, also gegensinniger linearer Zusamamenhang).</span>
<span id="cb11-506"><a href="#cb11-506" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>*Absolutwert* der Korrelation: Der Absolutwert des Korrelationskoeffizienten gibt die Stärke des linearen Zusammenhangs an. Je näher der Wert bei 1 liegt desto stärker der Zusammenhang. </span>
<span id="cb11-507"><a href="#cb11-507" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>$r = 0$: kein linearer Zusammenhang</span>
<span id="cb11-508"><a href="#cb11-508" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>$r = 1$: perfekter linearer Zusammenhang$\square$</span>
<span id="cb11-509"><a href="#cb11-509" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-510"><a href="#cb11-510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-511"><a href="#cb11-511" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-512"><a href="#cb11-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-513"><a href="#cb11-513" aria-hidden="true" tabindex="-1"></a>Eine Zuordnung des Korrelationskoeffizienten zum Profil des Streudiagramms zeigt @fig-corr-wiki.</span>
<span id="cb11-514"><a href="#cb11-514" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-515"><a href="#cb11-515" aria-hidden="true" tabindex="-1"></a><span class="al">![Verschiedene Streudiagramme, die sich in ihrem Korrelationskoeffizienten unterscheiden. Quelle: Wikipedia, By DenisBoigelot, original uploader was Imagecreator, CC0, https://commons.wikimedia.org/w/index.php?curid=15165296 CC0](img/Correlation_examples2.svg)</span>{#fig-corr-wiki}</span>
<span id="cb11-516"><a href="#cb11-516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-517"><a href="#cb11-517" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-518"><a href="#cb11-518" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-519"><a href="#cb11-519" aria-hidden="true" tabindex="-1"></a>:::{#exr-corrgame}</span>
<span id="cb11-520"><a href="#cb11-520" aria-hidden="true" tabindex="-1"></a><span class="fu">### Korrelationsspiel</span></span>
<span id="cb11-521"><a href="#cb11-521" aria-hidden="true" tabindex="-1"></a>Spielen Sie das <span class="co">[</span><span class="ot">Korrelationsspiel</span><span class="co">](https://gallery.shinyapps.io/correlation_game/)</span>: Sie Sehen ein Streudiagramm und müssen den richtigen Korrelationskoeffizienten eingeben.$\square$</span>
<span id="cb11-522"><a href="#cb11-522" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-523"><a href="#cb11-523" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-524"><a href="#cb11-524" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-525"><a href="#cb11-525" aria-hidden="true" tabindex="-1"></a>:::{#exr-corrvis}</span>
<span id="cb11-526"><a href="#cb11-526" aria-hidden="true" tabindex="-1"></a><span class="fu">### Interaktive Visualisierung der Korrelation</span></span>
<span id="cb11-527"><a href="#cb11-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-528"><a href="#cb11-528" aria-hidden="true" tabindex="-1"></a>Auf der Seite von <span class="co">[</span><span class="ot">RPsychologist</span><span class="co">](https://rpsychologist.com/correlation/)</span> findet sich eine ansprechende dynamische Visualisierung der Korrelation.</span>
<span id="cb11-529"><a href="#cb11-529" aria-hidden="true" tabindex="-1"></a>Nutzen Sie sie, um Ihr Gefühl für die Stärke des Korrelationskoeffizienten zu entwickeln.$\square$</span>
<span id="cb11-530"><a href="#cb11-530" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-531"><a href="#cb11-531" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-532"><a href="#cb11-532" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-533"><a href="#cb11-533" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-534"><a href="#cb11-534" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-535"><a href="#cb11-535" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-536"><a href="#cb11-536" aria-hidden="true" tabindex="-1"></a><span class="fu">### Korrelation ≠ Kausation</span></span>
<span id="cb11-537"><a href="#cb11-537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-538"><a href="#cb11-538" aria-hidden="true" tabindex="-1"></a>Eine Studie fand eine starke Korrelation, </span>
<span id="cb11-539"><a href="#cb11-539" aria-hidden="true" tabindex="-1"></a> zwischen der (Höhe des) Schokoladenkonsums eines Landes und (Anzahl der) Nobelpreise eines Landes <span class="co">[</span><span class="ot">@messerli_chocolate_2012</span><span class="co">]</span>, s. @fig-schoki.</span>
<span id="cb11-540"><a href="#cb11-540" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb11-541"><a href="#cb11-541" aria-hidden="true" tabindex="-1"></a> <span class="al">![Schoki futtern macht schlau?](img/correlation_550.png)</span>{#fig-schoki}</span>
<span id="cb11-542"><a href="#cb11-542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-543"><a href="#cb11-543" aria-hidden="true" tabindex="-1"></a>:::{.callout-caution}</span>
<span id="cb11-544"><a href="#cb11-544" aria-hidden="true" tabindex="-1"></a>Korrelation (bzw. Zusammenhang) ungleich Kausation! Korrelation kann bedeuten, dass eine Kausation vorliegt, aber es muss auch nicht sein, dass Kausation vorliegt. </span>
<span id="cb11-545"><a href="#cb11-545" aria-hidden="true" tabindex="-1"></a>Liegt Korrelation ohne Kausation vor, so spricht man von einer Scheinkorrelation. </span>
<span id="cb11-546"><a href="#cb11-546" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-547"><a href="#cb11-547" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-548"><a href="#cb11-548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-549"><a href="#cb11-549" aria-hidden="true" tabindex="-1"></a><span class="fu">### Korrelation misst nur linearen Zusammenhang</span></span>
<span id="cb11-550"><a href="#cb11-550" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-551"><a href="#cb11-551" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-552"><a href="#cb11-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-553"><a href="#cb11-553" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-554"><a href="#cb11-554" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-555"><a href="#cb11-555" aria-hidden="true" tabindex="-1"></a>:::{#exm-scheinkorr}</span>
<span id="cb11-556"><a href="#cb11-556" aria-hidden="true" tabindex="-1"></a><span class="fu">### Scheinkorrelation</span></span>
<span id="cb11-557"><a href="#cb11-557" aria-hidden="true" tabindex="-1"></a>Eine Urban Myth besagt: Die Anzahl der Störche pro Landkreis korreliert mit der Anzahl der Babies in diesem Landkreis.</span>
<span id="cb11-558"><a href="#cb11-558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-559"><a href="#cb11-559" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;   Bald men at higher risk of severe case of Covid-19, research finds^</span><span class="co">[</span><span class="ot">https://www.telegraph.co.uk/global-health/science-and-disease/bald-men-higher-risk-severe-case-covid-19-research-finds/, Abruf 2023-03-24</span><span class="co">]</span></span>
<span id="cb11-560"><a href="#cb11-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-561"><a href="#cb11-561" aria-hidden="true" tabindex="-1"></a>Macht die Glatze krank? Männer mit Glatze bekommen häufiger Corona <span class="co">[</span><span class="ot">@goren_preliminary_2020</span><span class="co">]</span>.$\square$</span>
<span id="cb11-562"><a href="#cb11-562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-563"><a href="#cb11-563" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-564"><a href="#cb11-564" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-565"><a href="#cb11-565" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-566"><a href="#cb11-566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-567"><a href="#cb11-567" aria-hidden="true" tabindex="-1"></a><span class="fu">## Fallbeispiel</span></span>
<span id="cb11-568"><a href="#cb11-568" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-569"><a href="#cb11-569" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-570"><a href="#cb11-570" aria-hidden="true" tabindex="-1"></a>In Ihrer Arbeit beim Online-Auktionshaus analysieren Sie, welche Variablen mit dem Verkaufspreis von Computerspielen zusammenhängen.</span>
<span id="cb11-571"><a href="#cb11-571" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-572"><a href="#cb11-572" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-573"><a href="#cb11-573" aria-hidden="true" tabindex="-1"></a>Falls der Datensatz auf Ihrem Computer (am besten in Ihrem Projektverzeichnis in RStudio) abgelegt ist, können Sie die Daten so (in mittlerweile gewohnter Manier) importieren:</span>
<span id="cb11-574"><a href="#cb11-574" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-577"><a href="#cb11-577" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-578"><a href="#cb11-578" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb11-579"><a href="#cb11-579" aria-hidden="true" tabindex="-1"></a>mariokart <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"mariokart.csv"</span>)</span>
<span id="cb11-580"><a href="#cb11-580" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-581"><a href="#cb11-581" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-582"><a href="#cb11-582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-583"><a href="#cb11-583" aria-hidden="true" tabindex="-1"></a>Falls der Datensatz im Unterordner mit Namen "Mein_Unterordner" liegt, so würden Sie folgenden Pfad eingeben:</span>
<span id="cb11-584"><a href="#cb11-584" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-587"><a href="#cb11-587" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-588"><a href="#cb11-588" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb11-589"><a href="#cb11-589" aria-hidden="true" tabindex="-1"></a>mariokart <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Mein_Unterordner/mariokart.csv"</span>)</span>
<span id="cb11-590"><a href="#cb11-590" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-591"><a href="#cb11-591" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-592"><a href="#cb11-592" aria-hidden="true" tabindex="-1"></a>Man beachte, dass solche sog. relativen Pfade (relativ zu Ihrem Arbeitsverzeichnis, d.h. Ihr Projektverzeichnis in R-Studio) *nicht* mit einem Schrägstrich (Slash) beginnen.</span>
<span id="cb11-593"><a href="#cb11-593" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-594"><a href="#cb11-594" aria-hidden="true" tabindex="-1"></a>Falls Sie die Daten nicht auf Ihrem Computer haben,</span>
<span id="cb11-595"><a href="#cb11-595" aria-hidden="true" tabindex="-1"></a>können Sie sie komfortable von z.B. der Webseite von <span class="co">[</span><span class="ot">Vincent Arel-Bundock</span><span class="co">](https://vincentarelbundock.github.io/Rdatasets)</span> herunterladen:</span>
<span id="cb11-596"><a href="#cb11-596" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-599"><a href="#cb11-599" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-600"><a href="#cb11-600" aria-hidden="true" tabindex="-1"></a>mariokart <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://vincentarelbundock.github.io/Rdatasets/csv/openintro/mariokart.csv"</span>)</span>
<span id="cb11-601"><a href="#cb11-601" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-602"><a href="#cb11-602" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-603"><a href="#cb11-603" aria-hidden="true" tabindex="-1"></a>Sie wählen die Variablen von <span class="in">`mariokart`</span>, die Sie interessieren - natürlich nur die metrischen - und lassen sich mit <span class="in">`cor`</span> die Korrelation aller Variablen untereinander ausgeben: </span>
<span id="cb11-604"><a href="#cb11-604" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-607"><a href="#cb11-607" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-608"><a href="#cb11-608" aria-hidden="true" tabindex="-1"></a>mariokart <span class="sc">%&gt;%</span>  </span>
<span id="cb11-609"><a href="#cb11-609" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(duration, n_bids, start_pr, ship_pr, total_pr, seller_rate, wheels) <span class="sc">%&gt;%</span> </span>
<span id="cb11-610"><a href="#cb11-610" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cor</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb11-611"><a href="#cb11-611" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">2</span>) <span class="co"># Runden auf zwei Dezimalen</span></span>
<span id="cb11-612"><a href="#cb11-612" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-613"><a href="#cb11-613" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-614"><a href="#cb11-614" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-615"><a href="#cb11-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-616"><a href="#cb11-616" aria-hidden="true" tabindex="-1"></a>:::{.callout-caution}</span>
<span id="cb11-617"><a href="#cb11-617" aria-hidden="true" tabindex="-1"></a><span class="fu">### Namensverwechslung (name clash)</span></span>
<span id="cb11-618"><a href="#cb11-618" aria-hidden="true" tabindex="-1"></a>Es kann vorkommen, dass Sie zwei R-Pakete geladen haben, in denen es jeweils z.B. eine Funktion mit Namen <span class="in">`select`</span> gibt.</span>
<span id="cb11-619"><a href="#cb11-619" aria-hidden="true" tabindex="-1"></a>R wird in dem Fall diejenige Funktion verwenden, deren Paket Sie als letztes gestartet haben.</span>
<span id="cb11-620"><a href="#cb11-620" aria-hidden="true" tabindex="-1"></a>Das kann dann das falsche <span class="in">`select`</span> sein, wie es mir oben in der Syntax passiert ist.</span>
<span id="cb11-621"><a href="#cb11-621" aria-hidden="true" tabindex="-1"></a>In dem Fall resultiert eine verwirrende Fehlermeldung, die sinngemäß sagt: "Hey Mensch, du hast Argumente in der Funktion verwendet, die du gar nicht verwenden darfst, da es sie nicht gibt." Auf Errisch: <span class="in">`Error in select(., duration, n_bids, start_pr, ship_pr, total_pr, seller_rate,  : unused arguments (duration, n_bids, start_pr, ship_pr, total_pr, seller_rate, wheels)`</span>.</span>
<span id="cb11-622"><a href="#cb11-622" aria-hidden="true" tabindex="-1"></a>Eine einfache Abhilfe ist es, R zu sagen: "Hey R, nimm gefälligst <span class="in">`select`</span> aus dem Paket <span class="in">`dplyr`</span>, dort "wohnt" nämlich <span class="in">`select`</span>. Auf Errisch spricht sich das so: <span class="in">`dplyr::select(...)`</span>.$\square$</span>
<span id="cb11-623"><a href="#cb11-623" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-624"><a href="#cb11-624" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-625"><a href="#cb11-625" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-626"><a href="#cb11-626" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-627"><a href="#cb11-627" aria-hidden="true" tabindex="-1"></a>Etwas schöner sieht die Ausgabe mit dem Befehl <span class="in">`correlation`</span> aus <span class="in">`{easystats}`</span> aus, s. @tbl-mario-corr.</span>
<span id="cb11-628"><a href="#cb11-628" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-631"><a href="#cb11-631" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-632"><a href="#cb11-632" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-mario-corr</span></span>
<span id="cb11-633"><a href="#cb11-633" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: Korrelationstabelle (tidy) im Datensatz mariokart</span></span>
<span id="cb11-634"><a href="#cb11-634" aria-hidden="true" tabindex="-1"></a>mariokart <span class="sc">%&gt;%</span> </span>
<span id="cb11-635"><a href="#cb11-635" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(duration, n_bids, start_pr, ship_pr, total_pr, seller_rate, wheels) <span class="sc">%&gt;%</span> </span>
<span id="cb11-636"><a href="#cb11-636" aria-hidden="true" tabindex="-1"></a>  <span class="fu">correlation</span>() </span>
<span id="cb11-637"><a href="#cb11-637" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-638"><a href="#cb11-638" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-639"><a href="#cb11-639" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-640"><a href="#cb11-640" aria-hidden="true" tabindex="-1"></a>Neben einigen Statistiken, die wir einfach geflissentlich ausblenden (<span class="in">`t`</span> und <span class="in">`p`</span>) beinhaltet die Tabelle eine interessante Information: den Schätzbereich für die Korrelation, gekennzeichnet als <span class="in">`95% CI`</span>.</span>
<span id="cb11-641"><a href="#cb11-641" aria-hidden="true" tabindex="-1"></a>*Grob* gesagt können wir diese Information so interpretieren: "Mit 95% Wahrscheinlichkeit liegt der echte Wert der Korrelation in folgendem Bereich."^<span class="co">[</span><span class="ot">Bayesianische Interpretation</span><span class="co">]</span></span>
<span id="cb11-642"><a href="#cb11-642" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-643"><a href="#cb11-643" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-644"><a href="#cb11-644" aria-hidden="true" tabindex="-1"></a>Möchte man nur einzelne Korrelationskoeffizienten ausrechnen, können wir die Idee des Zusammenfassens, s. @eq-desk2, nutzen:</span>
<span id="cb11-645"><a href="#cb11-645" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-648"><a href="#cb11-648" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-649"><a href="#cb11-649" aria-hidden="true" tabindex="-1"></a>mariokart <span class="sc">%&gt;%</span> </span>
<span id="cb11-650"><a href="#cb11-650" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">cor_super_wichtig =</span> <span class="fu">cor</span>(total_pr, wheels))</span>
<span id="cb11-651"><a href="#cb11-651" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-652"><a href="#cb11-652" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-653"><a href="#cb11-653" aria-hidden="true" tabindex="-1"></a>:::{.callout-caution}</span>
<span id="cb11-654"><a href="#cb11-654" aria-hidden="true" tabindex="-1"></a>Im Falle von fehlenden Werte müssen Sie R aus seiner schüchternen Vorsicht befreien und ermutigen, trotz fehlender Werte einen Korrelationskoeffizienten auszugeben.</span>
<span id="cb11-655"><a href="#cb11-655" aria-hidden="true" tabindex="-1"></a>Das geht mit dem Argument <span class="in">`use = "complete.obs"`</span> in <span class="in">`cor`</span>:</span>
<span id="cb11-656"><a href="#cb11-656" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-659"><a href="#cb11-659" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-660"><a href="#cb11-660" aria-hidden="true" tabindex="-1"></a>mariokart <span class="sc">%&gt;%</span> </span>
<span id="cb11-661"><a href="#cb11-661" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">cor_super_wichtig =</span> <span class="fu">cor</span>(total_pr, wheels, <span class="at">use =</span> <span class="st">"complete.obs"</span>))</span>
<span id="cb11-662"><a href="#cb11-662" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-663"><a href="#cb11-663" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-664"><a href="#cb11-664" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-665"><a href="#cb11-665" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-666"><a href="#cb11-666" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;   🧑‍🎓 Immer so viele Zahlen! Ich brauch Bilder.</span></span>
<span id="cb11-667"><a href="#cb11-667" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-668"><a href="#cb11-668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-669"><a href="#cb11-669" aria-hidden="true" tabindex="-1"></a>Mit dem Befehl <span class="in">`plot_correlation`</span> aus dem R-Paket <span class="in">`{dataExplorer}`</span> bekommt man eine ansehnliche Heatmap zur Verdeutlichung der Korrelationswerte, s. @fig-mario-corr.</span>
<span id="cb11-670"><a href="#cb11-670" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-673"><a href="#cb11-673" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-674"><a href="#cb11-674" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-mario-corr</span></span>
<span id="cb11-675"><a href="#cb11-675" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: Heatmap zu den Korrelationen im Datensatz mariokart.</span></span>
<span id="cb11-676"><a href="#cb11-676" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DataExplorer)</span>
<span id="cb11-677"><a href="#cb11-677" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-678"><a href="#cb11-678" aria-hidden="true" tabindex="-1"></a>mariokart <span class="sc">%&gt;%</span> </span>
<span id="cb11-679"><a href="#cb11-679" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(duration, n_bids, start_pr, ship_pr, total_pr, seller_rate, wheels) <span class="sc">%&gt;%</span> </span>
<span id="cb11-680"><a href="#cb11-680" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_correlation</span>()</span>
<span id="cb11-681"><a href="#cb11-681" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb11-682"><a href="#cb11-682" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-683"><a href="#cb11-683" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-684"><a href="#cb11-684" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-685"><a href="#cb11-685" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-686"><a href="#cb11-686" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-687"><a href="#cb11-687" aria-hidden="true" tabindex="-1"></a><span class="fu">## Vertiefung</span></span>
<span id="cb11-688"><a href="#cb11-688" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-689"><a href="#cb11-689" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">TED-Vortrag</span><span class="co">](https://www.youtube.com/watch?v=8B271L3NtAw)</span> zum Thema Scheinkorrelation.</span>
<span id="cb11-690"><a href="#cb11-690" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-691"><a href="#cb11-691" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">Hier</span><span class="co">](https://scheinkorrelation.jimdofree.com/)</span> finden Sie weitere Beispiele für Scheinkorrelationen.</span>
<span id="cb11-692"><a href="#cb11-692" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-693"><a href="#cb11-693" aria-hidden="true" tabindex="-1"></a><span class="fu">## Aufgaben</span></span>
<span id="cb11-694"><a href="#cb11-694" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-695"><a href="#cb11-695" aria-hidden="true" tabindex="-1"></a>Schauen Sie sich auch mal auf <span class="co">[</span><span class="ot">Datenwerk</span><span class="co">](https://datenwerk.netlify.app/)</span> die Aufgaben zu  dem Tag <span class="co">[</span><span class="ot">association</span><span class="co">](https://datenwerk.netlify.app/#category=association)</span> an.</span>
<span id="cb11-696"><a href="#cb11-696" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-697"><a href="#cb11-697" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-698"><a href="#cb11-698" aria-hidden="true" tabindex="-1"></a><span class="fu">## Fallstudien</span></span>
<span id="cb11-699"><a href="#cb11-699" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-700"><a href="#cb11-700" aria-hidden="true" tabindex="-1"></a>:::{.callout-note}</span>
<span id="cb11-701"><a href="#cb11-701" aria-hidden="true" tabindex="-1"></a>Einige der Fallstudien oder Übungsaufgaben können theoretische Inhalte (Konzepte der Statistik) oder praktische Inhalte (R-Befehle) enthalten, die Sie (noch) nicht kennen.</span>
<span id="cb11-702"><a href="#cb11-702" aria-hidden="true" tabindex="-1"></a>In dem Fall: Einfach ignorieren. </span>
<span id="cb11-703"><a href="#cb11-703" aria-hidden="true" tabindex="-1"></a>Oder Sie suchen nach einer Lösung anhand von Konzepten bzw. R-Befehlen, die Sie kennen.$\square$</span>
<span id="cb11-704"><a href="#cb11-704" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-705"><a href="#cb11-705" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-706"><a href="#cb11-706" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-707"><a href="#cb11-707" aria-hidden="true" tabindex="-1"></a>:::{.callout-note}</span>
<span id="cb11-708"><a href="#cb11-708" aria-hidden="true" tabindex="-1"></a>Bitte verstehen Sie die folgende Auswahl an Fallstudien als Auswahl.</span>
<span id="cb11-709"><a href="#cb11-709" aria-hidden="true" tabindex="-1"></a>Es ist nicht nötig, dass Sie alle Fallstudien bearbeiten.</span>
<span id="cb11-710"><a href="#cb11-710" aria-hidden="true" tabindex="-1"></a>Sehen Sie die Fallstudien eher als Angebot zur selektiven Vertiefung und Übung, dort, wo Sie es nötig haben.$\square$</span>
<span id="cb11-711"><a href="#cb11-711" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb11-712"><a href="#cb11-712" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-713"><a href="#cb11-713" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-714"><a href="#cb11-714" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span><span class="co">[</span><span class="ot">EDA zu Flugverspätungen</span><span class="co">](https://data-se.netlify.app/2021/03/08/eda-zu-flugversp%C3%A4tungen/)</span></span>
<span id="cb11-715"><a href="#cb11-715" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span><span class="co">[</span><span class="ot">YACSDA: Topgear</span><span class="co">](https://data-se.netlify.app/2021/02/11/yacda-topgear/)</span></span>
<span id="cb11-716"><a href="#cb11-716" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span><span class="co">[</span><span class="ot">Explorative Datenanalyse zum Datensatz "OECD Wellbeing"</span><span class="co">](https://data-se.netlify.app/2021/02/11/explorative-datenanalyse-zum-datensatz-oecd-wellbeing/)</span></span>
<span id="cb11-717"><a href="#cb11-717" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span><span class="co">[</span><span class="ot">Datensatz flights: Finde den Tag mit den meisten Abflügen</span><span class="co">](https://data-se.netlify.app/2021/05/27/datensatz-flights-finde-den-tag-mit-den-meisten-abfl%C3%BCgen/)</span></span>
<span id="cb11-718"><a href="#cb11-718" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span><span class="co">[</span><span class="ot">Tidyverse Case Study: Exploring the Billboard Charts</span><span class="co">](https://www.njtierney.com/post/2017/11/07/tidyverse-billboard/)</span></span>
<span id="cb11-719"><a href="#cb11-719" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-720"><a href="#cb11-720" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-721"><a href="#cb11-721" aria-hidden="true" tabindex="-1"></a><span class="fu">## Literatur</span></span>
<span id="cb11-722"><a href="#cb11-722" aria-hidden="true" tabindex="-1"></a></span>
</code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>