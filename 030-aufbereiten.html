<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="keywords" content="Statistik, Prognose, Modellierung, R, Datenanalyse, Regression">
<meta name="description" content="Einf√ºhrung in die Statistik mit einem Schwerpunkt auf Prognose-Modellierung">
<title>4&nbsp; Daten umformen ‚Äì Statistik1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./040-verbildlichen.html" rel="next">
<link href="./020-R.html" rel="prev">
<link href="./img/statistik1_icon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-4d9afe2b8d18ee9fa5d0d57b5ed4214d.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-cfa408634a1d24e6e0b787a3a7260859.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-1724a6097eea06b88b87879f5d7ee85f.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/bootstrap/bootstrap-cfa408634a1d24e6e0b787a3a7260859.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zus√§tzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zur√ºcksetzen",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken",
    "search-label": "Suchen"
  }
}</script><script type="module" src="site_libs/quarto-ojs/quarto-ojs-runtime.js"></script><link href="site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">
<meta name="mermaid-theme" content="default">
<script src="site_libs/quarto-diagram/mermaid.min.js"></script><script src="site_libs/quarto-diagram/mermaid-init.js"></script><link href="site_libs/quarto-diagram/mermaid.css" rel="stylesheet">
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script><script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script><link rel="stylesheet" href="webex.css">
</head>
<body class="nav-sidebar floating quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./010-rahmen.html">Vorbereiten</a></li><li class="breadcrumb-item"><a href="./030-aufbereiten.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Daten umformen</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Suchen" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      <img src="./img/statistik1_icon.png" alt="" class="sidebar-logo light-content py-0 d-lg-inline d-none"><img src="./img/statistik1_icon.png" alt="" class="sidebar-logo dark-content py-0 d-lg-inline d-none"></a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Statistik1</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/sebastiansauer/statistik1" title="Quellcode" class="quarto-navigation-tool px-1" aria-label="Quellcode"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Dunkelmodus umschalten"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Lesemodus umschalten">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Suchen"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Vorwort</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./005-orga.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Organisatorisches</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Vorbereiten</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./010-rahmen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Rahmen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./020-R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Daten einlesen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./030-aufbereiten.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Daten umformen</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Grundlagen des Modellierens</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./040-verbildlichen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Daten verbildlichen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./050-zusammenfassen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Punktmodelle 1</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./060-modellguete.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Modellg√ºte</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./070-zusammenhaenge.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Punktmodelle 2</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Geradenmodelle</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./080-regression1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Geradenmodelle 1</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./090-regression2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Geradenmodelle 2</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Literatur</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Anhang</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./110-definitions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Definitionen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./120-mariokart.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Data-Dictionary f√ºr Mariokart</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./125-probeklausur.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Probeklausur</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./130-autor.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Zum Autor</span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
<li>
<a href="#einstieg" id="toc-einstieg" class="nav-link active" data-scroll-target="#einstieg"><span class="header-section-number">4.1</span> Einstieg</a>
  <ul class="collapse">
<li><a href="#lernziele" id="toc-lernziele" class="nav-link" data-scroll-target="#lernziele"><span class="header-section-number">4.1.1</span> Lernziele</a></li>
  <li><a href="#r-code-zum-copy-pasten" id="toc-r-code-zum-copy-pasten" class="nav-link" data-scroll-target="#r-code-zum-copy-pasten"><span class="header-section-number">4.1.2</span> R-Code zum Copy-Pasten</a></li>
  <li><a href="#frag-den-bot" id="toc-frag-den-bot" class="nav-link" data-scroll-target="#frag-den-bot"><span class="header-section-number">4.1.3</span> Frag den Bot</a></li>
  <li><a href="#quiz-zum-einstieg" id="toc-quiz-zum-einstieg" class="nav-link" data-scroll-target="#quiz-zum-einstieg"><span class="header-section-number">4.1.4</span> Quiz zum Einstieg</a></li>
  <li><a href="#praxisbezug-aus-dem-alltag-des-datenwissenschaftlers" id="toc-praxisbezug-aus-dem-alltag-des-datenwissenschaftlers" class="nav-link" data-scroll-target="#praxisbezug-aus-dem-alltag-des-datenwissenschaftlers"><span class="header-section-number">4.1.5</span> Praxisbezug: Aus dem Alltag des Datenwissenschaftlers</a></li>
  <li><a href="#machs-einfach" id="toc-machs-einfach" class="nav-link" data-scroll-target="#machs-einfach"><span class="header-section-number">4.1.6</span> Mach‚Äôs einfach</a></li>
  </ul>
</li>
  <li>
<a href="#die-verben-des-datenjudos" id="toc-die-verben-des-datenjudos" class="nav-link" data-scroll-target="#die-verben-des-datenjudos"><span class="header-section-number">4.2</span> Die Verben des Datenjudos</a>
  <ul class="collapse">
<li><a href="#tabelle-sortieren-arrange" id="toc-tabelle-sortieren-arrange" class="nav-link" data-scroll-target="#tabelle-sortieren-arrange"><span class="header-section-number">4.2.1</span> Tabelle sortieren: <code>arrange</code></a></li>
  <li><a href="#zeilen-filtern-filter" id="toc-zeilen-filtern-filter" class="nav-link" data-scroll-target="#zeilen-filtern-filter"><span class="header-section-number">4.2.2</span> Zeilen filtern: <code>filter</code></a></li>
  <li><a href="#spalten-ausw%C3%A4hlen-mit-select" id="toc-spalten-ausw√§hlen-mit-select" class="nav-link" data-scroll-target="#spalten-ausw%C3%A4hlen-mit-select"><span class="header-section-number">4.2.3</span> Spalten ausw√§hlen mit <code>select</code></a></li>
  <li><a href="#spalten-zu-einer-zahl-zusammenfassen-mit-summarise" id="toc-spalten-zu-einer-zahl-zusammenfassen-mit-summarise" class="nav-link" data-scroll-target="#spalten-zu-einer-zahl-zusammenfassen-mit-summarise"><span class="header-section-number">4.2.4</span> Spalten zu einer Zahl zusammenfassen mit <code>summarise</code></a></li>
  <li><a href="#tabelle-gruppieren" id="toc-tabelle-gruppieren" class="nav-link" data-scroll-target="#tabelle-gruppieren"><span class="header-section-number">4.2.5</span> Tabelle gruppieren</a></li>
  <li><a href="#spalten-ver%C3%A4ndern-mit-mutate" id="toc-spalten-ver√§ndern-mit-mutate" class="nav-link" data-scroll-target="#spalten-ver%C3%A4ndern-mit-mutate"><span class="header-section-number">4.2.6</span> Spalten ver√§ndern mit <code>mutate</code></a></li>
  <li><a href="#zeilen-z%C3%A4hlen-mit-count" id="toc-zeilen-z√§hlen-mit-count" class="nav-link" data-scroll-target="#zeilen-z%C3%A4hlen-mit-count"><span class="header-section-number">4.2.7</span> Zeilen z√§hlen mit <code>count</code></a></li>
  <li><a href="#verben-am-flie%C3%9Fband" id="toc-verben-am-flie√üband" class="nav-link" data-scroll-target="#verben-am-flie%C3%9Fband"><span class="header-section-number">4.2.8</span> Verben am Flie√üband</a></li>
  </ul>
</li>
  <li>
<a href="#sec-pipe" id="toc-sec-pipe" class="nav-link" data-scroll-target="#sec-pipe"><span class="header-section-number">4.3</span> Die Pfeife</a>
  <ul class="collapse">
<li><a href="#russische-puppen" id="toc-russische-puppen" class="nav-link" data-scroll-target="#russische-puppen"><span class="header-section-number">4.3.1</span> Russische Puppen</a></li>
  <li><a href="#die-pfeife-zur-rettung" id="toc-die-pfeife-zur-rettung" class="nav-link" data-scroll-target="#die-pfeife-zur-rettung"><span class="header-section-number">4.3.2</span> Die Pfeife zur Rettung</a></li>
  </ul>
</li>
  <li><a href="#beispiele-f%C3%BCr-forschungsfragen" id="toc-beispiele-f√ºr-forschungsfragen" class="nav-link" data-scroll-target="#beispiele-f%C3%BCr-forschungsfragen"><span class="header-section-number">4.4</span> Beispiele f√ºr Forschungsfragen</a></li>
  <li><a href="#praxisbezug" id="toc-praxisbezug" class="nav-link" data-scroll-target="#praxisbezug"><span class="header-section-number">4.5</span> Praxisbezug</a></li>
  <li><a href="#wie-man-mit-statistik-l%C3%BCgt" id="toc-wie-man-mit-statistik-l√ºgt" class="nav-link" data-scroll-target="#wie-man-mit-statistik-l%C3%BCgt"><span class="header-section-number">4.6</span> Wie man mit Statistik l√ºgt</a></li>
  <li>
<a href="#fallstudien" id="toc-fallstudien" class="nav-link" data-scroll-target="#fallstudien"><span class="header-section-number">4.7</span> Fallstudien</a>
  <ul class="collapse">
<li><a href="#die-pinguine" id="toc-die-pinguine" class="nav-link" data-scroll-target="#die-pinguine"><span class="header-section-number">4.7.1</span> Die Pinguine</a></li>
  <li><a href="#fallstudie-covidistress" id="toc-fallstudie-covidistress" class="nav-link" data-scroll-target="#fallstudie-covidistress"><span class="header-section-number">4.7.2</span> Fallstudie COVIDiSTRESS</a></li>
  </ul>
</li>
  <li><a href="#quiz" id="toc-quiz" class="nav-link" data-scroll-target="#quiz"><span class="header-section-number">4.8</span> Quiz</a></li>
  <li><a href="#aufgaben" id="toc-aufgaben" class="nav-link" data-scroll-target="#aufgaben"><span class="header-section-number">4.9</span> Aufgaben</a></li>
  <li>
<a href="#vertiefung" id="toc-vertiefung" class="nav-link" data-scroll-target="#vertiefung"><span class="header-section-number">4.10</span> Vertiefung</a>
  <ul class="collapse">
<li><a href="#fortgeschrittenes-r" id="toc-fortgeschrittenes-r" class="nav-link" data-scroll-target="#fortgeschrittenes-r"><span class="header-section-number">4.10.1</span> Fortgeschrittenes R</a></li>
  <li><a href="#sec-erbie" id="toc-sec-erbie" class="nav-link" data-scroll-target="#sec-erbie"><span class="header-section-number">4.10.2</span> Hilfe?! Erbie!</a></li>
  <li><a href="#zertifikate-und-online-kurse" id="toc-zertifikate-und-online-kurse" class="nav-link" data-scroll-target="#zertifikate-und-online-kurse"><span class="header-section-number">4.10.3</span> Zertifikate und Online-Kurse</a></li>
  </ul>
</li>
  <li><a href="#exkurs" id="toc-exkurs" class="nav-link" data-scroll-target="#exkurs"><span class="header-section-number">4.11</span> Exkurs</a></li>
  <li><a href="#literaturhinweise" id="toc-literaturhinweise" class="nav-link" data-scroll-target="#literaturhinweise"><span class="header-section-number">4.12</span> Literaturhinweise</a></li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/sebastiansauer/statistik1/issues/new" class="toc-action"><i class="bi bi-github"></i>Problem melden</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./010-rahmen.html">Vorbereiten</a></li><li class="breadcrumb-item"><a href="./030-aufbereiten.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Daten umformen</span></a></li></ol></nav><div class="quarto-title">
<h1 class="title">
<span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Daten umformen</span>
</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

<div>
  <div class="keywords">
    <div class="block-title">Schl√ºsselw√∂rter</div>
    <p>Statistik, Prognose, Modellierung, R, Datenanalyse, Regression</p>
  </div>
</div>

</header><!-- <style> --><!-- q { --><!--   quotes: '‚Äû' '‚Äú'; --><!-- } --><!-- </style> --><p><span class="math display">\[
\definecolor{ycol}{RGB}{230,159,0}
\definecolor{modelcol}{RGB}{86,180,233}
\definecolor{errorcol}{RGB}{0,158,115}
\definecolor{beta0col}{RGB}{213,94,0}
\definecolor{beta1col}{RGB}{0,114,178}
\definecolor{xcol}{RGB}{204,121,167}
\]</span></p>
<section id="einstieg" class="level2" data-number="4.1"><h2 data-number="4.1" class="anchored" data-anchor-id="einstieg">
<span class="header-section-number">4.1</span> Einstieg</h2>
<section id="lernziele" class="level3" data-number="4.1.1"><h3 data-number="4.1.1" class="anchored" data-anchor-id="lernziele">
<span class="header-section-number">4.1.1</span> Lernziele</h3>
<ul>
<li>Sie k√∂nnen folgende Verben des Datenjudo anwenden: <code>arrange</code>, <code>filter</code>, <code>select</code>, <code>summarise</code>, <code>group_by</code>, <code>mutate</code>.</li>
<li>Sie k√∂nnen R-Befehle mit der ‚ÄúPfeife‚Äù verketten.</li>
</ul>
<div id="exr-los" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 4.1 (Mariokart importieren)</strong></span> Importieren Sie den Datensatz <code>mariokart</code>, s. <a href="020-R.html#sec-import-mariokart" class="quarto-xref"><span>Kapitel 3.7.3</span></a>. Probieren Sie alle in diesem Kapitel vorgestellten Verben des Datenjudos aus, zun√§chst, indem Sie einfach den R-Code kopieren und selber ausf√ºhren. Danach √ºberlegen Sie sich Varianten. <span class="math inline">\(\square\)</span></p>
</div>
</section><section id="r-code-zum-copy-pasten" class="level3" data-number="4.1.2"><h3 data-number="4.1.2" class="anchored" data-anchor-id="r-code-zum-copy-pasten">
<span class="header-section-number">4.1.2</span> R-Code zum Copy-Pasten</h3>
<p>Sie finden den R-Code f√ºr jedes Kapitel <a href="https://github.com/sebastiansauer/statistik1/tree/main/R-code-for-all-chapters">hier</a>. <span class="math inline">\(\square\)</span></p>
</section><section id="frag-den-bot" class="level3" data-number="4.1.3"><h3 data-number="4.1.3" class="anchored" data-anchor-id="frag-den-bot">
<span class="header-section-number">4.1.3</span> Frag den Bot</h3>
<blockquote class="blockquote">
<p><span>üßë‚Äçüéì</span> Erkl√§re einem F√ºnfj√§hrigen, warum Statistik n√ºtzlich ist.</p>
</blockquote>
<blockquote class="blockquote">
<p><span>ü§ñ</span> Okay, h√∂r zu. Stell dir vor, du hast viele Spielzeugautos und du willst herausfinden, welches Auto am meisten bespielt wird. Du kannst jeden Tag z√§hlen, wie oft du jedes Auto benutzt hast. Aber das w√§re sehr m√ºhsam und k√∂nnte schnell durcheinander gebracht werden. Stattdessen kannst du mit Statistik eine einfachere Methode finden. Du kannst zum Beispiel eine Liste machen und jedes Auto mit einer bestimmten Farbe markieren. Dann kannst du jeden Tag einfach z√§hlen, wie oft du jede Farbe verwendet hast. Am Ende kannst du herausfinden, welches Auto am meisten bespielt wurde, indem du siehst, welche Farbe am meisten verwendet wurde. Das ist ein Beispiel daf√ºr, wie Statistik uns dabei helfen kann, Muster in gro√üen Datens√§tzen zu finden und Entscheidungen zu treffen, ohne alles einzeln zu z√§hlen.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
</blockquote>
</section><section id="quiz-zum-einstieg" class="level3" data-number="4.1.4"><h3 data-number="4.1.4" class="anchored" data-anchor-id="quiz-zum-einstieg">
<span class="header-section-number">4.1.4</span> Quiz zum Einstieg</h3>
<p>Vielleicht fordert Sie die Lehrkraft zu einem Einstiegsquiz auf, etwa mittels der Plattform <a href="https://antworte.jetzt/">antworte.jetzt</a>. Alternativ √ºberlegen Sie sich selber 10 Quiz-Aufgaben zum Stoff des letzten Kapitels.</p>
<div id="def-datenjudo" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 4.1 (Datenjudo)</strong></span> Mit <em>Datenjudo</em> meint man den Prozess der Aufbereitens, Umformens oder Zusammenfassen von Daten, sowohl f√ºr einzelne Beobachtungen (Zeilen einer Datentabelle) oder Variablen (Spalten einer Datentabelle) oder einer ganzen Datentabelle. <span class="math inline">\(\square\)</span></p>
</div>
</section><section id="praxisbezug-aus-dem-alltag-des-datenwissenschaftlers" class="level3 exm-datenjudo1" data-number="4.1.5"><h3 data-number="4.1.5" class="anchored" data-anchor-id="praxisbezug-aus-dem-alltag-des-datenwissenschaftlers">
<span class="header-section-number">4.1.5</span> Praxisbezug: Aus dem Alltag des Datenwissenschaftlers</h3>
<p>Denkt man an Data Science, stellt man sich coole Leute vor (in San Francisco oder Berlin), die an abgefahrenen Berechnungen mit hoch komplexen statistischen Modellen f√ºr gigantische Datenmengen basteln. Laut dem <em>Harvard Business Review</em>, verbringen Data Scientisten allerdings ‚Äú80<span class="math inline">\(\,\)</span>%‚Äù ihrer Zeit mit dem <em>Aufbereiten</em> von Daten <span class="citation" data-cites="bowne-anderson_what_2018">(<a href="references.html#ref-bowne-anderson_what_2018" role="doc-biblioref">Bowne-Anderson, 2018</a>)</span>. Ja: mit uncoolen T√§tigkeiten wie Tippfehler aus Datens√§tzen entfernen oder die Daten √ºberhaupt nutzbar und verst√§ndlich zu machen.</p>
<p>Das zeigt zumindest, dass das Aufbereiten von Daten a) wichtig ist und b) dass man allein damit schon weit kommen kann. Eine gute Nachricht ist (vielleicht), dass das Aufbereiten von Daten keine aufw√§ndige Mathematik verlangt, stattdessen muss man ein paar Handgriffe und Kniffe kennen. Daher passt der Begriff <em>Datenjudo</em> vielleicht ganz gut. K√ºmmern wir uns also um das Aufbereiten bzw. Umformen von Daten, um das Datenjudo. <span>üî¢ü§π</span> <span class="math inline">\(\square\)</span></p>
</section><div id="exm-datenjudo" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 4.1 (Beispiel f√ºr Datenjudo)</strong></span> Beispiele f√ºr typische T√§tigkeiten des Datenjudos sind:</p>
<ul>
<li>Zeilen <em>filtern</em> (z.<span class="math inline">\(\,\)</span>B. nur Studierenden des Studiengangs X)</li>
<li>Zeilen <em>sortieren</em> (z.<span class="math inline">\(\,\)</span>B. Studierenden mit guten Noten in den oberen Zeilen)</li>
<li>Spalten <em>w√§hlen</em> (z.<span class="math inline">\(\,\)</span>B. 100 langweilige Spalten ausblenden)</li>
<li>Spalten in eine Zahl <em>zusammenfassen</em> (z.<span class="math inline">\(\,\)</span>B. Notenschnitt der 1. Klausur)</li>
<li>Tabelle <em>gruppieren</em> (z.<span class="math inline">\(\,\)</span>B. Analyse getrennt nach Standorten)</li>
<li>Werte aus einer Spalte <em>ver√§ndern</em> oder <em>neue Spalte</em> bilden (z.<span class="math inline">\(\,\)</span>B. Punkte in Prozent-Richtige umrechnen).</li>
<li>‚Ä¶ <span class="math inline">\(\square\)</span>
</li>
</ul>
</div>
<section id="machs-einfach" class="level3" data-number="4.1.6"><h3 data-number="4.1.6" class="anchored" data-anchor-id="machs-einfach">
<span class="header-section-number">4.1.6</span> Mach‚Äôs einfach</h3>
<p>Klingt fast zu sch√∂n, um wahr zu sein (s. <a href="#fig-that-would-be-great" class="quarto-xref">Abbildung&nbsp;<span>4.1</span></a>).</p>
<div id="fig-that-would-be-great" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-that-would-be-great-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="img/thatwouldbegreat.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Abbildung&nbsp;4.1: Mach‚Äôs einfach [@imgflip_simply]"><img src="img/thatwouldbegreat.jpg" class="img-fluid figure-img" style="width:50.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-that-would-be-great-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;4.1: Mach‚Äôs einfach <span class="citation" data-cites="imgflip_simply">(<a href="references.html#ref-imgflip_simply" role="doc-biblioref">imgflip, 2024a</a>)</span>
</figcaption></figure>
</div>
<p>Es gibt einen (einfachen) Trick, wie man umfangreiche Datenaufbereitung elegant geregelt kriegt. Der Trick besteht darin, komplexe Operationen in mehrere einfache Teilschritte zu zergliedern. (In gewisser Weise besteht das Wesen einer Analyse eben darin: die Zerlegung eines Gegenstands in seine Bestandteile.) Man k√∂nnte vom ‚ÄúLego-Prinzip‚Äù sprechen, s. <a href="#fig-lego" class="quarto-xref">Abbildung&nbsp;<span>4.2</span></a>. Im linken Teil von <a href="#fig-lego" class="quarto-xref">Abbildung&nbsp;<span>4.2</span></a> sieht man ein (recht) komplexes Gebilde. Zerlegt man es aber in seine Einzelteile, so sind es deutlich einfachere geometrische Objekte wie Dreiecke oder Kreise (rechter Teil des Diagramms). Damit Sie es selber einfach machen k√∂nnen, m√ºssen Sie selber Hand anlegen. Importieren Sie daher den Datensatz <code>mariokart</code>, s. <a href="020-R.html#sec-import-mariokart" class="quarto-xref"><span>Kapitel 3.7.3</span></a>.</p>
<div id="fig-lego" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-lego-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="img/Bausteine_dplyr_crop.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Abbildung&nbsp;4.2: Das Lego-Prinzip [@sauer_moderne_2019]"><img src="img/Bausteine_dplyr_crop.png" class="img-fluid figure-img" style="width:75.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-lego-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;4.2: Das Lego-Prinzip <span class="citation" data-cites="sauer_moderne_2019">(<a href="references.html#ref-sauer_moderne_2019" role="doc-biblioref">Sauer, 2019</a>)</span>
</figcaption></figure>
</div>
<p>Werfen wir einen Blick hinein (to glimpse):</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">glimpse</span><span class="op">(</span><span class="va">mariokart</span><span class="op">)</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="exm-datenjudo" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 4.2 (Der Datenguru in Aktion)</strong></span> Sie arbeiten immer noch bei dem gro√üen Online-Auktionshaus. Mittlerweile haben Sie sich den Ruf des ‚ÄúDatenguru‚Äù erworben. Vielleicht, weil Sie behauptet haben, Data Science sei zu 80% Datenjudo, das hat irgendwie Eindruck geschindet ‚Ä¶ Naja, jedenfalls m√ºssen Sie jetzt mal zeigen, dass Sie nicht nur schlaue Spr√ºche draufhaben, sondern auch die Daten ordentlich abb√ºrsten k√∂nnen. Sie analysieren daf√ºr im Folgenden den Datensatz <code>mariokart</code>. Na, dann los. <span class="math inline">\(\square\)</span></p>
</div>
</section></section><section id="die-verben-des-datenjudos" class="level2" data-number="4.2"><h2 data-number="4.2" class="anchored" data-anchor-id="die-verben-des-datenjudos">
<span class="header-section-number">4.2</span> Die Verben des Datenjudos</h2>
<p>Im R-Paket <code>dplyr</code>, das wiederum Teil des R-Pakets <code>tidyverse</code> ist, gibt es eine Reihe von R-Befehlen, die das Datenjudo in eine Handvoll einfacher Verben herunterbrechen. (Falls Sie das R-Paket <code>tidyverse</code> noch nicht installiert haben sollten, w√§re jetzt ein guter Zeitpunkt daf√ºr.) Die wichtigsten Verben des Datenjudos schauen wir uns im Folgenden an. Wir betrachten dazu im Folgenden einen einfachen (Spielzeug-)Datensatz, an dem wir zun√§chst die Verben des Datenjudos vorstellen, s. <a href="#tbl-datenjudo" class="quarto-xref">Tabelle&nbsp;<span>4.1</span></a>.</p>
<div class="cell" data-layout-align="center">
<div id="tbl-datenjudo" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-datenjudo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;4.1: Ein einfacher Datensatz von schlichtem Gem√ºt
</figcaption><div aria-describedby="tbl-datenjudo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: right;">id</th>
<th style="text-align: left;">name</th>
<th style="text-align: left;">gruppe</th>
<th style="text-align: right;">note</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">Anni</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">2.7</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">Berti</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">2.7</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: left;">Charli</td>
<td style="text-align: left;">B</td>
<td style="text-align: right;">1.7</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>Die Verben des Datenjudos wohnen im Paket <code>dplyr</code>, welches gestartet wird, wenn Sie <code><a href="https://tidyverse.tidyverse.org">library(tidyverse)</a></code> eingeben. Falls Sie vergessen, das Paket <code>tidyverse</code> zu starten, dann funktionieren diese Befehle nicht.</p>
<!-- :::{.callout-note} -->
<!-- Zur Erinnerung: In RStudio k√∂nnen Sie per Klick auf das kleine Tabellen-Icon im Bereich *Environment* die Tabellenansicht einer Tabelle √∂ffnen, s. @sec-viewtab. $\square$ -->
<!-- ::: -->
<section id="tabelle-sortieren-arrange" class="level3" data-number="4.2.1"><h3 data-number="4.2.1" class="anchored" data-anchor-id="tabelle-sortieren-arrange">
<span class="header-section-number">4.2.1</span> Tabelle sortieren: <code>arrange</code>
</h3>
<p><em>Sortieren</em> der Zeilen ist eine einfache, aber h√§ufige T√§tigkeit des Datenjudos, s. <a href="#fig-arrange" class="quarto-xref">Abbildung&nbsp;<span>4.3</span></a>.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-arrange" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-arrange-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="030-aufbereiten_files/figure-html/fig-arrange-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="Abbildung&nbsp;4.3: Sinnbild f√ºr das Sortieren einer Tabelle mit arrange: Hier wurden die Noten aufsteigend sortiert."><img src="030-aufbereiten_files/figure-html/fig-arrange-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-arrange-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;4.3: Sinnbild f√ºr das Sortieren einer Tabelle mit <code>arrange</code>: Hier wurden die Noten aufsteigend sortiert.
</figcaption></figure>
</div>
</div>
</div>
<div id="exm-arrange1" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 4.3 (Was sind die h√∂chsten Preise?)</strong></span> Sie wollen mal locker anfangen. Daher stellen Sie sich folgende Frage: Was sind denn eigentlich die h√∂chsten Preise, f√ºr die das Spiel <em>Mariokart</em> √ºber den Online-Ladentisch geht? Die Spalte f√ºr den Verkaufsprei hei√üt offenbar <code>total_pr</code> (s. Datensatz <code>mariokart</code>). In Excel kann die Spalte, nach der man die Tabelle sortieren m√∂chte, einfach anklicken. Ob das in R auch so einfach geht?</p>
<p>Die Funktion <code>arrange</code> macht es uns ziemlich einfach, s. <a href="#tbl-arrange" class="quarto-xref">Tabelle&nbsp;<span>4.2</span></a>.</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">arrange</span><span class="op">(</span><span class="va">mariokart</span>, <span class="va">total_pr</span><span class="op">)</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
<div id="tbl-arrange" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-layout-align="center">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-arrange-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;4.2: Die Datentabelle, (aufsteigend) sortiert nach <code>total_pr</code>
</figcaption><div aria-describedby="tbl-arrange-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["id"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["duration"],"name":[2],"type":["int"],"align":["right"]},{"label":["n_bids"],"name":[3],"type":["int"],"align":["right"]},{"label":["cond"],"name":[4],"type":["fct"],"align":["left"]},{"label":["start_pr"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["ship_pr"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["total_pr"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["ship_sp"],"name":[8],"type":["fct"],"align":["left"]},{"label":["seller_rate"],"name":[9],"type":["int"],"align":["right"]},{"label":["stock_photo"],"name":[10],"type":["fct"],"align":["left"]},{"label":["wheels"],"name":[11],"type":["int"],"align":["right"]}],"data":[{"1":"2.6e+11","2":"1","3":"17","4":"used","5":"0.99","6":"0.0","7":"29","8":"standard","9":"4982","10":"yes","11":"0"},{"1":"1.2e+11","2":"1","3":"12","4":"used","5":"0.01","6":"0.0","7":"30","8":"standard","9":"7284","10":"yes","11":"0"},{"1":"2.6e+11","2":"1","3":"7","4":"used","5":"0.99","6":"0.0","7":"31","8":"standard","9":"4982","10":"yes","11":"0"},{"1":"3.2e+11","2":"7","3":"14","4":"used","5":"1.99","6":"0.0","7":"31","8":"media","9":"166","10":"yes","11":"0"},{"1":"1.8e+11","2":"10","3":"3","4":"used","5":"30.00","6":"0.0","7":"31","8":"priority","9":"19","10":"no","11":"0"},{"1":"1.1e+11","2":"1","3":"16","4":"used","5":"0.01","6":"0.0","7":"31","8":"standard","9":"7284","10":"yes","11":"0"},{"1":"2.5e+11","2":"1","3":"14","4":"used","5":"0.99","6":"0.0","7":"32","8":"standard","9":"206","10":"yes","11":"0"},{"1":"2.9e+11","2":"7","3":"9","4":"used","5":"0.01","6":"3.0","7":"33","8":"media","9":"381","10":"yes","11":"1"},{"1":"1.4e+11","2":"3","3":"5","4":"used","5":"15.00","6":"3.5","7":"34","8":"firstClass","9":"37","10":"yes","11":"0"},{"1":"2.3e+11","2":"7","3":"10","4":"used","5":"0.99","6":"4.0","7":"35","8":"firstClass","9":"462","10":"yes","11":"1"},{"1":"1.4e+11","2":"5","3":"10","4":"used","5":"9.99","6":"2.0","7":"36","8":"upsGround","9":"19","10":"yes","11":"0"},{"1":"3.0e+11","2":"3","3":"5","4":"used","5":"0.99","6":"0.0","7":"36","8":"upsGround","9":"15","10":"yes","11":"0"},{"1":"1.8e+11","2":"3","3":"16","4":"used","5":"0.99","6":"0.0","7":"36","8":"standard","9":"2046","10":"no","11":"1"},{"1":"2.3e+11","2":"7","3":"16","4":"used","5":"0.99","6":"4.0","7":"36","8":"parcel","9":"355","10":"no","11":"0"},{"1":"2.7e+11","2":"7","3":"7","4":"used","5":"0.99","6":"3.0","7":"36","8":"priority","9":"0","10":"yes","11":"0"},{"1":"3.9e+11","2":"7","3":"14","4":"used","5":"9.95","6":"4.0","7":"37","8":"media","9":"2290","10":"no","11":"0"},{"1":"2.3e+11","2":"7","3":"11","4":"used","5":"9.99","6":"3.0","7":"37","8":"priority","9":"297","10":"no","11":"0"},{"1":"1.2e+11","2":"1","3":"13","4":"used","5":"0.01","6":"0.0","7":"37","8":"standard","9":"7284","10":"yes","11":"0"},{"1":"2.6e+11","2":"7","3":"13","4":"used","5":"0.99","6":"4.0","7":"37","8":"firstClass","9":"365","10":"yes","11":"1"},{"1":"1.7e+11","2":"5","3":"21","4":"used","5":"0.99","6":"4.0","7":"38","8":"firstClass","9":"14504","10":"no","11":"0"},{"1":"3.8e+11","2":"7","3":"21","4":"used","5":"0.99","6":"3.0","7":"38","8":"firstClass","9":"8625","10":"yes","11":"0"},{"1":"1.3e+11","2":"5","3":"18","4":"used","5":"9.99","6":"3.6","7":"38","8":"firstClass","9":"861","10":"no","11":"0"},{"1":"2.5e+11","2":"5","3":"14","4":"used","5":"10.00","6":"9.3","7":"38","8":"upsGround","9":"35","10":"no","11":"1"},{"1":"3.0e+11","2":"7","3":"13","4":"used","5":"1.00","6":"4.9","7":"39","8":"parcel","9":"41","10":"no","11":"0"},{"1":"1.9e+11","2":"7","3":"20","4":"used","5":"15.00","6":"0.0","7":"39","8":"firstClass","9":"422","10":"yes","11":"0"},{"1":"3.5e+11","2":"5","3":"20","4":"used","5":"0.99","6":"4.0","7":"39","8":"firstClass","9":"14503","10":"yes","11":"0"},{"1":"1.1e+11","2":"1","3":"20","4":"used","5":"0.01","6":"0.0","7":"40","8":"standard","9":"7284","10":"yes","11":"0"},{"1":"1.4e+11","2":"1","3":"13","4":"used","5":"0.99","6":"4.0","7":"40","8":"standard","9":"4200","10":"no","11":"0"},{"1":"1.6e+11","2":"7","3":"14","4":"used","5":"0.99","6":"3.0","7":"40","8":"media","9":"88","10":"yes","11":"1"},{"1":"3.5e+11","2":"7","3":"10","4":"used","5":"0.99","6":"4.0","7":"40","8":"standard","9":"877","10":"yes","11":"1"},{"1":"2.3e+11","2":"7","3":"10","4":"used","5":"0.99","6":"4.0","7":"40","8":"firstClass","9":"4473","10":"no","11":"1"},{"1":"1.6e+11","2":"3","3":"17","4":"used","5":"0.99","6":"0.0","7":"40","8":"standard","9":"2046","10":"no","11":"1"},{"1":"1.1e+11","2":"3","3":"23","4":"new","5":"0.99","6":"4.0","7":"40","8":"standard","9":"270144","10":"yes","11":"0"},{"1":"1.2e+11","2":"7","3":"6","4":"used","5":"24.99","6":"8.7","7":"41","8":"priority","9":"3085","10":"no","11":"1"},{"1":"1.9e+11","2":"3","3":"10","4":"used","5":"0.99","6":"0.0","7":"41","8":"priority","9":"42241","10":"yes","11":"1"},{"1":"3.2e+11","2":"1","3":"11","4":"used","5":"1.00","6":"0.0","7":"41","8":"priority","9":"30","10":"no","11":"1"},{"1":"3.5e+11","2":"5","3":"17","4":"used","5":"0.99","6":"10.3","7":"41","8":"priority","9":"14503","10":"yes","11":"1"},{"1":"3.2e+11","2":"7","3":"16","4":"new","5":"0.99","6":"3.5","7":"42","8":"firstClass","9":"998","10":"no","11":"1"},{"1":"2.0e+11","2":"5","3":"18","4":"used","5":"19.99","6":"3.0","7":"42","8":"parcel","9":"194","10":"yes","11":"0"},{"1":"3.9e+11","2":"5","3":"13","4":"used","5":"0.99","6":"4.0","7":"42","8":"standard","9":"16041","10":"yes","11":"1"},{"1":"1.8e+11","2":"3","3":"8","4":"used","5":"9.99","6":"4.0","7":"42","8":"firstClass","9":"69","10":"yes","11":"1"},{"1":"3.5e+11","2":"5","3":"7","4":"used","5":"0.99","6":"4.0","7":"42","8":"firstClass","9":"14503","10":"no","11":"0"},{"1":"3.6e+11","2":"3","3":"13","4":"used","5":"0.99","6":"0.0","7":"42","8":"priority","9":"42241","10":"no","11":"1"},{"1":"1.7e+11","2":"3","3":"5","4":"used","5":"35.00","6":"0.0","7":"43","8":"priority","9":"10","10":"yes","11":"1"},{"1":"1.7e+11","2":"1","3":"11","4":"used","5":"10.00","6":"4.0","7":"43","8":"priority","9":"18","10":"yes","11":"0"},{"1":"2.5e+11","2":"7","3":"13","4":"used","5":"10.00","6":"0.0","7":"43","8":"standard","9":"21","10":"no","11":"1"},{"1":"3.6e+11","2":"3","3":"16","4":"used","5":"0.99","6":"4.0","7":"43","8":"standard","9":"270143","10":"yes","11":"0"},{"1":"2.5e+11","2":"7","3":"6","4":"used","5":"24.99","6":"4.0","7":"43","8":"standard","9":"154","10":"yes","11":"1"},{"1":"3.2e+11","2":"10","3":"15","4":"used","5":"9.99","6":"6.0","7":"43","8":"parcel","9":"2399","10":"yes","11":"1"},{"1":"3.0e+11","2":"7","3":"16","4":"used","5":"0.99","6":"3.0","7":"44","8":"firstClass","9":"943","10":"yes","11":"0"},{"1":"2.8e+11","2":"3","3":"18","4":"new","5":"0.99","6":"0.0","7":"44","8":"standard","9":"7","10":"yes","11":"1"},{"1":"1.4e+11","2":"7","3":"17","4":"used","5":"15.00","6":"4.0","7":"44","8":"priority","9":"2131","10":"no","11":"1"},{"1":"1.8e+11","2":"7","3":"9","4":"used","5":"10.00","6":"4.0","7":"44","8":"other","9":"103","10":"no","11":"2"},{"1":"2.8e+11","2":"7","3":"14","4":"used","5":"16.00","6":"4.0","7":"44","8":"priority","9":"37","10":"yes","11":"1"},{"1":"1.5e+11","2":"3","3":"15","4":"used","5":"0.99","6":"8.7","7":"45","8":"priority","9":"88","10":"yes","11":"1"},{"1":"3.6e+11","2":"3","3":"19","4":"new","5":"0.99","6":"4.0","7":"45","8":"standard","9":"270144","10":"yes","11":"0"},{"1":"2.7e+11","2":"3","3":"14","4":"used","5":"0.99","6":"4.0","7":"45","8":"standard","9":"270144","10":"yes","11":"0"},{"1":"1.7e+11","2":"1","3":"13","4":"new","5":"0.01","6":"0.0","7":"45","8":"other","9":"556","10":"yes","11":"1"},{"1":"2.8e+11","2":"3","3":"19","4":"used","5":"12.00","6":"4.0","7":"45","8":"standard","9":"64","10":"yes","11":"1"},{"1":"3.2e+11","2":"3","3":"16","4":"new","5":"0.99","6":"3.5","7":"46","8":"firstClass","9":"998","10":"no","11":"1"},{"1":"1.1e+11","2":"7","3":"14","4":"used","5":"10.00","6":"3.8","7":"46","8":"upsGround","9":"0","10":"yes","11":"1"},{"1":"1.6e+11","2":"7","3":"18","4":"new","5":"9.99","6":"4.0","7":"46","8":"firstClass","9":"1154","10":"yes","11":"1"},{"1":"1.2e+11","2":"7","3":"22","4":"used","5":"0.99","6":"4.0","7":"46","8":"media","9":"309","10":"yes","11":"0"},{"1":"2.8e+11","2":"3","3":"23","4":"new","5":"0.99","6":"0.0","7":"46","8":"standard","9":"7","10":"yes","11":"1"},{"1":"3.2e+11","2":"1","3":"14","4":"used","5":"0.99","6":"4.0","7":"46","8":"priority","9":"34","10":"no","11":"2"},{"1":"1.6e+11","2":"7","3":"16","4":"used","5":"0.99","6":"0.0","7":"46","8":"priority","9":"90","10":"no","11":"1"},{"1":"2.3e+11","2":"7","3":"15","4":"used","5":"12.00","6":"0.0","7":"46","8":"priority","9":"15","10":"yes","11":"1"},{"1":"3.2e+11","2":"5","3":"20","4":"new","5":"0.01","6":"0.0","7":"46","8":"media","9":"8224","10":"yes","11":"1"},{"1":"1.2e+11","2":"3","3":"9","4":"new","5":"0.01","6":"0.0","7":"46","8":"firstClass","9":"1144","10":"no","11":"1"},{"1":"2.7e+11","2":"3","3":"11","4":"new","5":"0.99","6":"4.0","7":"46","8":"firstClass","9":"299","10":"yes","11":"1"},{"1":"2.6e+11","2":"7","3":"5","4":"new","5":"30.00","6":"0.0","7":"46","8":"firstClass","9":"555","10":"no","11":"1"},{"1":"1.1e+11","2":"3","3":"12","4":"used","5":"0.01","6":"4.0","7":"46","8":"firstClass","9":"172","10":"yes","11":"1"},{"1":"1.4e+11","2":"3","3":"14","4":"new","5":"0.99","6":"8.7","7":"47","8":"priority","9":"251","10":"yes","11":"1"},{"1":"2.0e+11","2":"3","3":"29","4":"used","5":"0.99","6":"4.0","7":"47","8":"priority","9":"27","10":"yes","11":"1"},{"1":"3.2e+11","2":"7","3":"15","4":"new","5":"9.99","6":"4.0","7":"47","8":"parcel","9":"62","10":"yes","11":"1"},{"1":"1.1e+11","2":"3","3":"16","4":"used","5":"0.99","6":"4.0","7":"47","8":"firstClass","9":"1270","10":"no","11":"0"},{"1":"1.1e+11","2":"3","3":"9","4":"new","5":"25.00","6":"4.0","7":"47","8":"ups3Day","9":"627","10":"yes","11":"1"},{"1":"2.2e+11","2":"3","3":"16","4":"used","5":"0.99","6":"4.0","7":"47","8":"parcel","9":"231","10":"yes","11":"0"},{"1":"2.3e+11","2":"7","3":"18","4":"new","5":"18.00","6":"4.0","7":"47","8":"standard","9":"389","10":"yes","11":"1"},{"1":"3.7e+11","2":"7","3":"3","4":"used","5":"38.00","6":"4.0","7":"47","8":"parcel","9":"508","10":"no","11":"1"},{"1":"1.4e+11","2":"3","3":"14","4":"new","5":"0.99","6":"8.7","7":"48","8":"priority","9":"251","10":"yes","11":"1"},{"1":"3.0e+11","2":"1","3":"13","4":"new","5":"1.00","6":"3.0","7":"48","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"2.9e+11","2":"5","3":"7","4":"used","5":"25.00","6":"3.0","7":"48","8":"priority","9":"239","10":"no","11":"1"},{"1":"1.4e+11","2":"3","3":"4","4":"used","5":"34.99","6":"4.0","7":"48","8":"standard","9":"85","10":"yes","11":"1"},{"1":"1.5e+11","2":"7","3":"7","4":"used","5":"25.00","6":"11.4","7":"49","8":"parcel","9":"11","10":"yes","11":"1"},{"1":"2.9e+11","2":"1","3":"13","4":"new","5":"1.00","6":"3.0","7":"49","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.1e+11","2":"1","3":"13","4":"used","5":"0.99","6":"8.0","7":"49","8":"parcel","9":"350","10":"no","11":"2"},{"1":"3.2e+11","2":"1","3":"23","4":"used","5":"0.99","6":"0.0","7":"49","8":"parcel","9":"280","10":"yes","11":"2"},{"1":"1.2e+11","2":"7","3":"16","4":"used","5":"5.00","6":"4.0","7":"49","8":"upsGround","9":"285","10":"no","11":"2"},{"1":"1.7e+11","2":"5","3":"24","4":"used","5":"0.99","6":"4.0","7":"49","8":"upsGround","9":"27","10":"yes","11":"2"},{"1":"2.5e+11","2":"7","3":"16","4":"new","5":"9.99","6":"9.7","7":"50","8":"priority","9":"94","10":"yes","11":"0"},{"1":"1.2e+11","2":"5","3":"5","4":"new","5":"35.00","6":"4.0","7":"50","8":"parcel","9":"127","10":"yes","11":"1"},{"1":"3.3e+11","2":"7","3":"8","4":"used","5":"19.99","6":"4.0","7":"50","8":"firstClass","9":"201","10":"no","11":"1"},{"1":"1.4e+11","2":"3","3":"8","4":"used","5":"20.00","6":"4.0","7":"50","8":"parcel","9":"63","10":"yes","11":"2"},{"1":"1.1e+11","2":"1","3":"18","4":"new","5":"1.00","6":"3.0","7":"50","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.1e+11","2":"5","3":"11","4":"used","5":"19.99","6":"4.0","7":"51","8":"priority","9":"36","10":"no","11":"2"},{"1":"1.5e+11","2":"3","3":"20","4":"new","5":"0.99","6":"4.0","7":"52","8":"standard","9":"1580","10":"yes","11":"1"},{"1":"1.1e+11","2":"1","3":"29","4":"new","5":"1.00","6":"3.0","7":"52","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"3.3e+11","2":"3","3":"2","4":"new","5":"51.99","6":"0.0","7":"52","8":"other","9":"223861","10":"yes","11":"0"},{"1":"1.5e+11","2":"7","3":"9","4":"used","5":"17.99","6":"0.0","7":"52","8":"parcel","9":"121","10":"no","11":"2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[5],"max":[5]},"pages":{}}}
  </script>
</div>
</div>
</div>
</figure>
</div>
</div>
<p>√úbersetzen wir die R-Syntax ins Deutsche:</p>
<pre><code>Hey R,
arrangiere (sortiere) `mariokart` 
nach der Spalte `total_pr` (aufsteigend).</code></pre>
<p>Gar nicht so schwer. <span class="math inline">\(\square\)</span></p>
</div>
<p>√úbrigens wird in <code>arrange</code> per Voreinstellung aufsteigend sortiert. Setzt man ein Minus vor der zu sortierenden Spalte, wird umgekehrt, also <em>absteigend</em> sortiert:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mario_sortiert</span> <span class="op">&lt;-</span> <span class="fu">arrange</span><span class="op">(</span><span class="va">mariokart</span>, <span class="op">-</span><span class="va">total_pr</span><span class="op">)</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="exr-arrange2" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 4.2</strong></span> Sortieren Sie die Mariokart-Daten absteigend nach der Anzahl der beigelegten Lenkr√§der. <span class="math inline">\(\square\)</span></p>
</div>
</section><section id="zeilen-filtern-filter" class="level3" data-number="4.2.2"><h3 data-number="4.2.2" class="anchored" data-anchor-id="zeilen-filtern-filter">
<span class="header-section-number">4.2.2</span> Zeilen filtern: <code>filter</code>
</h3>
<p>Zeilen <em>filtern</em> bedeutet, dass man nur <em>bestimmte</em> <em>Zeilen</em> (Beobachtungen) <em>behalten</em> m√∂chte, die restlichen Zeilen brauchen wir nicht, weg mit ihnen. Wir haben also ein Filterkriterium im Kopf, anhand dessen wir die Tabelle filern, s. <a href="#fig-filter" class="quarto-xref">Abbildung&nbsp;<span>4.4</span></a>.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-filter" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-filter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="030-aufbereiten_files/figure-html/fig-filter-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4" title="Abbildung&nbsp;4.4: Sinnbild f√ºr das Filtern einer Tabelle mit filter: Gruppe B wurde entfernt, also wurde nach Gruppe A gefiltert."><img src="030-aufbereiten_files/figure-html/fig-filter-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-filter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;4.4: Sinnbild f√ºr das Filtern einer Tabelle mit <code>filter</code>: Gruppe <em>B</em> wurde entfernt, also wurde nach Gruppe <em>A</em> gefiltert.
</figcaption></figure>
</div>
</div>
</div>
<div id="exm-filter" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 4.4 (Ob ein Foto f√ºr den Verkaufspreis n√ºtzlich ist?)</strong></span> Als n√§chstes kommt Ihnen die Idee, mal zu schauen, ob Auktionen mit ‚ÄúStock-Photo‚Äù Ware einen h√∂heren Verkaufspreis erzielen als Auktionen ohne solche Totos.</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariokart_neu</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">mariokart</span>, <span class="va">stock_photo</span> <span class="op">==</span> <span class="st">"yes"</span><span class="op">)</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariokart_neu</span> </span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["id"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["duration"],"name":[2],"type":["int"],"align":["right"]},{"label":["n_bids"],"name":[3],"type":["int"],"align":["right"]},{"label":["cond"],"name":[4],"type":["fct"],"align":["left"]},{"label":["start_pr"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["ship_pr"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["total_pr"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["ship_sp"],"name":[8],"type":["fct"],"align":["left"]},{"label":["seller_rate"],"name":[9],"type":["int"],"align":["right"]},{"label":["stock_photo"],"name":[10],"type":["fct"],"align":["left"]},{"label":["wheels"],"name":[11],"type":["int"],"align":["right"]}],"data":[{"1":"1.5e+11","2":"3","3":"20","4":"new","5":"0.99","6":"4.0","7":"52","8":"standard","9":"1580","10":"yes","11":"1"},{"1":"2.6e+11","2":"7","3":"13","4":"used","5":"0.99","6":"4.0","7":"37","8":"firstClass","9":"365","10":"yes","11":"1"},{"1":"2.8e+11","2":"3","3":"18","4":"new","5":"0.99","6":"0.0","7":"44","8":"standard","9":"7","10":"yes","11":"1"},{"1":"1.7e+11","2":"1","3":"20","4":"new","5":"0.01","6":"0.0","7":"71","8":"media","9":"820","10":"yes","11":"2"},{"1":"3.6e+11","2":"3","3":"19","4":"new","5":"0.99","6":"4.0","7":"45","8":"standard","9":"270144","10":"yes","11":"0"},{"1":"1.2e+11","2":"1","3":"13","4":"used","5":"0.01","6":"0.0","7":"37","8":"standard","9":"7284","10":"yes","11":"0"},{"1":"3.0e+11","2":"1","3":"15","4":"new","5":"1.00","6":"3.0","7":"54","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"2.0e+11","2":"3","3":"29","4":"used","5":"0.99","6":"4.0","7":"47","8":"priority","9":"27","10":"yes","11":"1"},{"1":"2.9e+11","2":"1","3":"15","4":"new","5":"1.00","6":"3.0","7":"55","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.8e+11","2":"1","3":"15","4":"new","5":"0.01","6":"0.0","7":"56","8":"media","9":"820","10":"yes","11":"2"},{"1":"3.0e+11","2":"1","3":"13","4":"new","5":"1.00","6":"3.0","7":"48","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.8e+11","2":"1","3":"16","4":"new","5":"0.01","6":"0.0","7":"56","8":"media","9":"820","10":"yes","11":"2"},{"1":"2.5e+11","2":"7","3":"6","4":"used","5":"24.99","6":"4.0","7":"43","8":"standard","9":"154","10":"yes","11":"1"},{"1":"1.2e+11","2":"7","3":"22","4":"used","5":"0.99","6":"4.0","7":"46","8":"media","9":"309","10":"yes","11":"0"},{"1":"1.4e+11","2":"3","3":"14","4":"new","5":"0.99","6":"8.7","7":"47","8":"priority","9":"251","10":"yes","11":"1"},{"1":"2.8e+11","2":"3","3":"23","4":"new","5":"0.99","6":"0.0","7":"46","8":"standard","9":"7","10":"yes","11":"1"},{"1":"2.9e+11","2":"1","3":"10","4":"new","5":"1.00","6":"3.0","7":"56","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"2.6e+11","2":"1","3":"7","4":"used","5":"0.99","6":"0.0","7":"31","8":"standard","9":"4982","10":"yes","11":"0"},{"1":"2.9e+11","2":"1","3":"16","4":"new","5":"1.00","6":"3.0","7":"54","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"3.5e+11","2":"1","3":"1","4":"new","5":"64.95","6":"0.0","7":"65","8":"standard","9":"118345","10":"yes","11":"2"},{"1":"1.1e+11","2":"1","3":"18","4":"new","5":"1.00","6":"3.0","7":"50","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.1e+11","2":"3","3":"12","4":"used","5":"0.01","6":"4.0","7":"46","8":"firstClass","9":"172","10":"yes","11":"1"},{"1":"1.8e+11","2":"1","3":"19","4":"new","5":"0.01","6":"0.0","7":"55","8":"media","9":"820","10":"yes","11":"2"},{"1":"1.4e+11","2":"3","3":"5","4":"used","5":"15.00","6":"3.5","7":"34","8":"firstClass","9":"37","10":"yes","11":"0"},{"1":"3.0e+11","2":"3","3":"5","4":"used","5":"0.99","6":"0.0","7":"36","8":"upsGround","9":"15","10":"yes","11":"0"},{"1":"3.2e+11","2":"7","3":"15","4":"new","5":"9.99","6":"4.0","7":"47","8":"parcel","9":"62","10":"yes","11":"1"},{"1":"1.7e+11","2":"1","3":"11","4":"used","5":"10.00","6":"4.0","7":"43","8":"priority","9":"18","10":"yes","11":"0"},{"1":"3.2e+11","2":"7","3":"14","4":"used","5":"1.99","6":"0.0","7":"31","8":"media","9":"166","10":"yes","11":"0"},{"1":"3.9e+11","2":"5","3":"13","4":"used","5":"0.99","6":"4.0","7":"42","8":"standard","9":"16041","10":"yes","11":"1"},{"1":"1.7e+11","2":"5","3":"24","4":"used","5":"0.99","6":"4.0","7":"49","8":"upsGround","9":"27","10":"yes","11":"2"},{"1":"1.9e+11","2":"3","3":"10","4":"used","5":"0.99","6":"0.0","7":"41","8":"priority","9":"42241","10":"yes","11":"1"},{"1":"1.5e+11","2":"3","3":"15","4":"used","5":"0.99","6":"8.7","7":"45","8":"priority","9":"88","10":"yes","11":"1"},{"1":"2.9e+11","2":"1","3":"9","4":"new","5":"1.00","6":"3.0","7":"64","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"2.9e+11","2":"1","3":"14","4":"new","5":"1.00","6":"3.0","7":"54","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.1e+11","2":"1","3":"29","4":"new","5":"1.00","6":"3.0","7":"52","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.1e+11","2":"1","3":"17","4":"new","5":"1.00","6":"3.0","7":"56","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.8e+11","2":"3","3":"8","4":"used","5":"9.99","6":"4.0","7":"42","8":"firstClass","9":"69","10":"yes","11":"1"},{"1":"2.9e+11","2":"1","3":"12","4":"new","5":"1.00","6":"3.0","7":"54","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.9e+11","2":"7","3":"20","4":"used","5":"15.00","6":"0.0","7":"39","8":"firstClass","9":"422","10":"yes","11":"0"},{"1":"3.8e+11","2":"7","3":"21","4":"used","5":"0.99","6":"3.0","7":"38","8":"firstClass","9":"8625","10":"yes","11":"0"},{"1":"1.1e+11","2":"1","3":"10","4":"new","5":"1.00","6":"3.0","7":"60","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"2.6e+11","2":"1","3":"17","4":"used","5":"0.99","6":"0.0","7":"29","8":"standard","9":"4982","10":"yes","11":"0"},{"1":"3.3e+11","2":"3","3":"2","4":"new","5":"51.99","6":"0.0","7":"52","8":"other","9":"223861","10":"yes","11":"0"},{"1":"3.0e+11","2":"7","3":"16","4":"used","5":"0.99","6":"3.0","7":"44","8":"firstClass","9":"943","10":"yes","11":"0"},{"1":"2.5e+11","2":"1","3":"14","4":"used","5":"0.99","6":"0.0","7":"32","8":"standard","9":"206","10":"yes","11":"0"},{"1":"2.9e+11","2":"1","3":"23","4":"new","5":"1.00","6":"3.0","7":"54","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.2e+11","2":"1","3":"12","4":"used","5":"0.01","6":"0.0","7":"30","8":"standard","9":"7284","10":"yes","11":"0"},{"1":"3.0e+11","2":"1","3":"9","4":"new","5":"1.00","6":"3.0","7":"58","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.1e+11","2":"7","3":"12","4":"used","5":"30.00","6":"0.0","7":"62","8":"standard","9":"27","10":"yes","11":"2"},{"1":"1.1e+11","2":"1","3":"13","4":"new","5":"1.00","6":"3.0","7":"54","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.6e+11","2":"7","3":"14","4":"used","5":"0.99","6":"3.0","7":"40","8":"media","9":"88","10":"yes","11":"1"},{"1":"1.1e+11","2":"3","3":"9","4":"new","5":"25.00","6":"4.0","7":"47","8":"ups3Day","9":"627","10":"yes","11":"1"},{"1":"1.8e+11","2":"1","3":"20","4":"new","5":"0.01","6":"0.0","7":"56","8":"media","9":"820","10":"yes","11":"2"},{"1":"4.0e+11","2":"1","3":"1","4":"new","5":"64.95","6":"0.0","7":"65","8":"standard","9":"118345","10":"yes","11":"2"},{"1":"1.4e+11","2":"3","3":"4","4":"used","5":"34.99","6":"4.0","7":"48","8":"standard","9":"85","10":"yes","11":"1"},{"1":"2.7e+11","2":"3","3":"14","4":"used","5":"0.99","6":"4.0","7":"45","8":"standard","9":"270144","10":"yes","11":"0"},{"1":"2.0e+11","2":"5","3":"18","4":"used","5":"19.99","6":"3.0","7":"42","8":"parcel","9":"194","10":"yes","11":"0"},{"1":"3.2e+11","2":"10","3":"15","4":"used","5":"9.99","6":"6.0","7":"43","8":"parcel","9":"2399","10":"yes","11":"1"},{"1":"1.1e+11","2":"1","3":"8","4":"new","5":"1.00","6":"3.0","7":"55","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"2.8e+11","2":"3","3":"19","4":"used","5":"12.00","6":"4.0","7":"45","8":"standard","9":"64","10":"yes","11":"1"},{"1":"1.1e+11","2":"7","3":"14","4":"used","5":"10.00","6":"3.8","7":"46","8":"upsGround","9":"0","10":"yes","11":"1"},{"1":"1.6e+11","2":"3","3":"14","4":"new","5":"0.99","6":"4.0","7":"64","8":"standard","9":"127","10":"yes","11":"2"},{"1":"2.7e+11","2":"7","3":"7","4":"used","5":"0.99","6":"3.0","7":"36","8":"priority","9":"0","10":"yes","11":"0"},{"1":"2.8e+11","2":"7","3":"7","4":"new","5":"29.95","6":"8.7","7":"55","8":"priority","9":"208","10":"yes","11":"1"},{"1":"1.2e+11","2":"5","3":"5","4":"new","5":"35.00","6":"4.0","7":"50","8":"parcel","9":"127","10":"yes","11":"1"},{"1":"2.2e+11","2":"3","3":"16","4":"used","5":"0.99","6":"4.0","7":"47","8":"parcel","9":"231","10":"yes","11":"0"},{"1":"1.4e+11","2":"5","3":"10","4":"used","5":"9.99","6":"2.0","7":"36","8":"upsGround","9":"19","10":"yes","11":"0"},{"1":"1.8e+11","2":"1","3":"11","4":"used","5":"9.99","6":"4.0","7":"54","8":"firstClass","9":"69","10":"yes","11":"2"},{"1":"2.3e+11","2":"7","3":"15","4":"used","5":"12.00","6":"0.0","7":"46","8":"priority","9":"15","10":"yes","11":"1"},{"1":"1.1e+11","2":"1","3":"16","4":"used","5":"0.01","6":"0.0","7":"31","8":"standard","9":"7284","10":"yes","11":"0"},{"1":"2.6e+11","2":"3","3":"15","4":"used","5":"0.99","6":"0.0","7":"56","8":"upsGround","9":"54","10":"yes","11":"2"},{"1":"1.1e+11","2":"3","3":"23","4":"new","5":"0.99","6":"4.0","7":"40","8":"standard","9":"270144","10":"yes","11":"0"},{"1":"1.1e+11","2":"1","3":"20","4":"new","5":"1.00","6":"3.0","7":"53","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"2.9e+11","2":"1","3":"13","4":"new","5":"1.00","6":"3.0","7":"49","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"4.0e+11","2":"1","3":"1","4":"new","5":"54.99","6":"11.4","7":"66","8":"upsGround","9":"118345","10":"yes","11":"2"},{"1":"1.7e+11","2":"1","3":"22","4":"new","5":"0.01","6":"0.0","7":"64","8":"media","9":"820","10":"yes","11":"2"},{"1":"2.3e+11","2":"7","3":"18","4":"new","5":"18.00","6":"4.0","7":"47","8":"standard","9":"389","10":"yes","11":"1"},{"1":"2.9e+11","2":"7","3":"9","4":"used","5":"0.01","6":"3.0","7":"33","8":"media","9":"381","10":"yes","11":"1"},{"1":"3.0e+11","2":"1","3":"16","4":"new","5":"1.00","6":"3.0","7":"54","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"3.2e+11","2":"5","3":"20","4":"new","5":"0.01","6":"0.0","7":"46","8":"media","9":"8224","10":"yes","11":"1"},{"1":"3.6e+11","2":"3","3":"16","4":"used","5":"0.99","6":"4.0","7":"43","8":"standard","9":"270143","10":"yes","11":"0"},{"1":"1.7e+11","2":"3","3":"5","4":"used","5":"35.00","6":"0.0","7":"43","8":"priority","9":"10","10":"yes","11":"1"},{"1":"1.9e+11","2":"7","3":"5","4":"used","5":"1.00","6":"0.0","7":"52","8":"standard","9":"116","10":"yes","11":"2"},{"1":"1.1e+11","2":"1","3":"25","4":"new","5":"1.00","6":"3.0","7":"58","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"3.5e+11","2":"1","3":"3","4":"new","5":"69.95","6":"0.0","7":"75","8":"standard","9":"118345","10":"yes","11":"3"},{"1":"1.5e+11","2":"7","3":"7","4":"used","5":"25.00","6":"11.4","7":"49","8":"parcel","9":"11","10":"yes","11":"1"},{"1":"1.6e+11","2":"7","3":"18","4":"new","5":"9.99","6":"4.0","7":"46","8":"firstClass","9":"1154","10":"yes","11":"1"},{"1":"3.5e+11","2":"7","3":"10","4":"used","5":"0.99","6":"4.0","7":"40","8":"standard","9":"877","10":"yes","11":"1"},{"1":"1.7e+11","2":"1","3":"13","4":"new","5":"0.01","6":"0.0","7":"45","8":"other","9":"556","10":"yes","11":"1"},{"1":"1.4e+11","2":"3","3":"8","4":"used","5":"20.00","6":"4.0","7":"50","8":"parcel","9":"63","10":"yes","11":"2"},{"1":"2.5e+11","2":"7","3":"16","4":"new","5":"9.99","6":"9.7","7":"50","8":"priority","9":"94","10":"yes","11":"0"},{"1":"1.1e+11","2":"1","3":"17","4":"new","5":"1.00","6":"3.0","7":"56","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"2.3e+11","2":"7","3":"10","4":"used","5":"0.99","6":"4.0","7":"35","8":"firstClass","9":"462","10":"yes","11":"1"},{"1":"3.2e+11","2":"1","3":"23","4":"used","5":"0.99","6":"0.0","7":"49","8":"parcel","9":"280","10":"yes","11":"2"},{"1":"1.7e+11","2":"1","3":"19","4":"new","5":"0.01","6":"0.0","7":"61","8":"media","9":"820","10":"yes","11":"2"},{"1":"1.8e+11","2":"1","3":"14","4":"new","5":"0.01","6":"0.0","7":"63","8":"media","9":"820","10":"yes","11":"2"},{"1":"2.7e+11","2":"3","3":"11","4":"new","5":"0.99","6":"4.0","7":"46","8":"firstClass","9":"299","10":"yes","11":"1"},{"1":"3.9e+11","2":"1","3":"1","4":"new","5":"64.95","6":"0.0","7":"65","8":"standard","9":"118345","10":"yes","11":"2"},{"1":"2.8e+11","2":"7","3":"14","4":"used","5":"16.00","6":"4.0","7":"44","8":"priority","9":"37","10":"yes","11":"1"},{"1":"3.5e+11","2":"5","3":"17","4":"used","5":"0.99","6":"10.3","7":"41","8":"priority","9":"14503","10":"yes","11":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[5],"max":[5]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Sie filtern also die Tabelle so, dass <em>nur</em> diese Auktionen im Datensatz verbleiben, welche mind. ein Foto haben, mit anderen Worten, Auktionen (Beobachtungen) bei denen gilt: <code>stock_photo == TRUE</code>. <span class="math inline">\(\square\)</span></p>
</div>
<p>Angestachelt von Ihren Erfolgen m√∂chten Sie jetzt komplexere Hypothesen pr√ºfen: Erzielen Auktionen von <em>neuen</em> Spielen und zwar <em>mit</em> Foto einen h√∂heren Preis als die √ºbrigen Auktionen? Anders gesagt haben Sie zwei Filterkriterien im Blick: Neuheit <code>cond</code> und Foto <code>stock_photo</code>. Nur diejenigen Auktionen, die <em>sowohl</em> Neuheit <em>als auch</em> Foto erf√ºllen, m√∂chten Sie n√§her untersuchen (Filtern mit dem logischen UND):</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mario_filter1</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">mariokart</span>,  <span class="co"># "&amp;" hei√üt UND:</span></span>
<span>         <span class="va">stock_photo</span> <span class="op">==</span> <span class="st">"yes"</span> <span class="op">&amp;</span> <span class="va">cond</span> <span class="op">==</span> <span class="st">"new"</span><span class="op">)</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mario_filter1</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["id"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["duration"],"name":[2],"type":["int"],"align":["right"]},{"label":["n_bids"],"name":[3],"type":["int"],"align":["right"]},{"label":["cond"],"name":[4],"type":["fct"],"align":["left"]},{"label":["start_pr"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["ship_pr"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["total_pr"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["ship_sp"],"name":[8],"type":["fct"],"align":["left"]},{"label":["seller_rate"],"name":[9],"type":["int"],"align":["right"]},{"label":["stock_photo"],"name":[10],"type":["fct"],"align":["left"]},{"label":["wheels"],"name":[11],"type":["int"],"align":["right"]}],"data":[{"1":"1.5e+11","2":"3","3":"20","4":"new","5":"0.99","6":"4.0","7":"52","8":"standard","9":"1580","10":"yes","11":"1"},{"1":"2.8e+11","2":"3","3":"18","4":"new","5":"0.99","6":"0.0","7":"44","8":"standard","9":"7","10":"yes","11":"1"},{"1":"1.7e+11","2":"1","3":"20","4":"new","5":"0.01","6":"0.0","7":"71","8":"media","9":"820","10":"yes","11":"2"},{"1":"3.6e+11","2":"3","3":"19","4":"new","5":"0.99","6":"4.0","7":"45","8":"standard","9":"270144","10":"yes","11":"0"},{"1":"3.0e+11","2":"1","3":"15","4":"new","5":"1.00","6":"3.0","7":"54","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"2.9e+11","2":"1","3":"15","4":"new","5":"1.00","6":"3.0","7":"55","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.8e+11","2":"1","3":"15","4":"new","5":"0.01","6":"0.0","7":"56","8":"media","9":"820","10":"yes","11":"2"},{"1":"3.0e+11","2":"1","3":"13","4":"new","5":"1.00","6":"3.0","7":"48","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.8e+11","2":"1","3":"16","4":"new","5":"0.01","6":"0.0","7":"56","8":"media","9":"820","10":"yes","11":"2"},{"1":"1.4e+11","2":"3","3":"14","4":"new","5":"0.99","6":"8.7","7":"47","8":"priority","9":"251","10":"yes","11":"1"},{"1":"2.8e+11","2":"3","3":"23","4":"new","5":"0.99","6":"0.0","7":"46","8":"standard","9":"7","10":"yes","11":"1"},{"1":"2.9e+11","2":"1","3":"10","4":"new","5":"1.00","6":"3.0","7":"56","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"2.9e+11","2":"1","3":"16","4":"new","5":"1.00","6":"3.0","7":"54","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"3.5e+11","2":"1","3":"1","4":"new","5":"64.95","6":"0.0","7":"65","8":"standard","9":"118345","10":"yes","11":"2"},{"1":"1.1e+11","2":"1","3":"18","4":"new","5":"1.00","6":"3.0","7":"50","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.8e+11","2":"1","3":"19","4":"new","5":"0.01","6":"0.0","7":"55","8":"media","9":"820","10":"yes","11":"2"},{"1":"3.2e+11","2":"7","3":"15","4":"new","5":"9.99","6":"4.0","7":"47","8":"parcel","9":"62","10":"yes","11":"1"},{"1":"2.9e+11","2":"1","3":"9","4":"new","5":"1.00","6":"3.0","7":"64","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"2.9e+11","2":"1","3":"14","4":"new","5":"1.00","6":"3.0","7":"54","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.1e+11","2":"1","3":"29","4":"new","5":"1.00","6":"3.0","7":"52","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.1e+11","2":"1","3":"17","4":"new","5":"1.00","6":"3.0","7":"56","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"2.9e+11","2":"1","3":"12","4":"new","5":"1.00","6":"3.0","7":"54","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.1e+11","2":"1","3":"10","4":"new","5":"1.00","6":"3.0","7":"60","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"3.3e+11","2":"3","3":"2","4":"new","5":"51.99","6":"0.0","7":"52","8":"other","9":"223861","10":"yes","11":"0"},{"1":"2.9e+11","2":"1","3":"23","4":"new","5":"1.00","6":"3.0","7":"54","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"3.0e+11","2":"1","3":"9","4":"new","5":"1.00","6":"3.0","7":"58","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.1e+11","2":"1","3":"13","4":"new","5":"1.00","6":"3.0","7":"54","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.1e+11","2":"3","3":"9","4":"new","5":"25.00","6":"4.0","7":"47","8":"ups3Day","9":"627","10":"yes","11":"1"},{"1":"1.8e+11","2":"1","3":"20","4":"new","5":"0.01","6":"0.0","7":"56","8":"media","9":"820","10":"yes","11":"2"},{"1":"4.0e+11","2":"1","3":"1","4":"new","5":"64.95","6":"0.0","7":"65","8":"standard","9":"118345","10":"yes","11":"2"},{"1":"1.1e+11","2":"1","3":"8","4":"new","5":"1.00","6":"3.0","7":"55","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.6e+11","2":"3","3":"14","4":"new","5":"0.99","6":"4.0","7":"64","8":"standard","9":"127","10":"yes","11":"2"},{"1":"2.8e+11","2":"7","3":"7","4":"new","5":"29.95","6":"8.7","7":"55","8":"priority","9":"208","10":"yes","11":"1"},{"1":"1.2e+11","2":"5","3":"5","4":"new","5":"35.00","6":"4.0","7":"50","8":"parcel","9":"127","10":"yes","11":"1"},{"1":"1.1e+11","2":"3","3":"23","4":"new","5":"0.99","6":"4.0","7":"40","8":"standard","9":"270144","10":"yes","11":"0"},{"1":"1.1e+11","2":"1","3":"20","4":"new","5":"1.00","6":"3.0","7":"53","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"2.9e+11","2":"1","3":"13","4":"new","5":"1.00","6":"3.0","7":"49","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"4.0e+11","2":"1","3":"1","4":"new","5":"54.99","6":"11.4","7":"66","8":"upsGround","9":"118345","10":"yes","11":"2"},{"1":"1.7e+11","2":"1","3":"22","4":"new","5":"0.01","6":"0.0","7":"64","8":"media","9":"820","10":"yes","11":"2"},{"1":"2.3e+11","2":"7","3":"18","4":"new","5":"18.00","6":"4.0","7":"47","8":"standard","9":"389","10":"yes","11":"1"},{"1":"3.0e+11","2":"1","3":"16","4":"new","5":"1.00","6":"3.0","7":"54","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"3.2e+11","2":"5","3":"20","4":"new","5":"0.01","6":"0.0","7":"46","8":"media","9":"8224","10":"yes","11":"1"},{"1":"1.1e+11","2":"1","3":"25","4":"new","5":"1.00","6":"3.0","7":"58","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"3.5e+11","2":"1","3":"3","4":"new","5":"69.95","6":"0.0","7":"75","8":"standard","9":"118345","10":"yes","11":"3"},{"1":"1.6e+11","2":"7","3":"18","4":"new","5":"9.99","6":"4.0","7":"46","8":"firstClass","9":"1154","10":"yes","11":"1"},{"1":"1.7e+11","2":"1","3":"13","4":"new","5":"0.01","6":"0.0","7":"45","8":"other","9":"556","10":"yes","11":"1"},{"1":"2.5e+11","2":"7","3":"16","4":"new","5":"9.99","6":"9.7","7":"50","8":"priority","9":"94","10":"yes","11":"0"},{"1":"1.1e+11","2":"1","3":"17","4":"new","5":"1.00","6":"3.0","7":"56","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.7e+11","2":"1","3":"19","4":"new","5":"0.01","6":"0.0","7":"61","8":"media","9":"820","10":"yes","11":"2"},{"1":"1.8e+11","2":"1","3":"14","4":"new","5":"0.01","6":"0.0","7":"63","8":"media","9":"820","10":"yes","11":"2"},{"1":"2.7e+11","2":"3","3":"11","4":"new","5":"0.99","6":"4.0","7":"46","8":"firstClass","9":"299","10":"yes","11":"1"},{"1":"3.9e+11","2":"1","3":"1","4":"new","5":"64.95","6":"0.0","7":"65","8":"standard","9":"118345","10":"yes","11":"2"},{"1":"3.0e+11","2":"1","3":"18","4":"new","5":"1.00","6":"3.0","7":"59","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.4e+11","2":"3","3":"14","4":"new","5":"0.99","6":"8.7","7":"48","8":"priority","9":"251","10":"yes","11":"1"},{"1":"1.1e+11","2":"1","3":"13","4":"new","5":"1.00","6":"3.0","7":"55","8":"upsGround","9":"4858","10":"yes","11":"2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[5],"max":[5]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Hm. Was ist mit den Auktionen, die <em>entweder</em> √ºber (mind.) ein Foto verf√ºgen <em>oder auch</em> neu sind, oder beides (Filtern mit dem logischen ODER)?</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mario_filter2</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">mariokart</span>,  <span class="co"># "|" hei√üt ODER:</span></span>
<span>         <span class="va">stock_photo</span> <span class="op">==</span> <span class="st">"yes"</span> <span class="op">|</span> <span class="va">cond</span> <span class="op">==</span> <span class="st">"new"</span><span class="op">)</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mario_filter2</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["id"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["duration"],"name":[2],"type":["int"],"align":["right"]},{"label":["n_bids"],"name":[3],"type":["int"],"align":["right"]},{"label":["cond"],"name":[4],"type":["fct"],"align":["left"]},{"label":["start_pr"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["ship_pr"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["total_pr"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["ship_sp"],"name":[8],"type":["fct"],"align":["left"]},{"label":["seller_rate"],"name":[9],"type":["int"],"align":["right"]},{"label":["stock_photo"],"name":[10],"type":["fct"],"align":["left"]},{"label":["wheels"],"name":[11],"type":["int"],"align":["right"]}],"data":[{"1":"1.5e+11","2":"3","3":"20","4":"new","5":"0.99","6":"4.0","7":"52","8":"standard","9":"1580","10":"yes","11":"1"},{"1":"2.6e+11","2":"7","3":"13","4":"used","5":"0.99","6":"4.0","7":"37","8":"firstClass","9":"365","10":"yes","11":"1"},{"1":"3.2e+11","2":"3","3":"16","4":"new","5":"0.99","6":"3.5","7":"46","8":"firstClass","9":"998","10":"no","11":"1"},{"1":"2.8e+11","2":"3","3":"18","4":"new","5":"0.99","6":"0.0","7":"44","8":"standard","9":"7","10":"yes","11":"1"},{"1":"1.7e+11","2":"1","3":"20","4":"new","5":"0.01","6":"0.0","7":"71","8":"media","9":"820","10":"yes","11":"2"},{"1":"3.6e+11","2":"3","3":"19","4":"new","5":"0.99","6":"4.0","7":"45","8":"standard","9":"270144","10":"yes","11":"0"},{"1":"1.2e+11","2":"1","3":"13","4":"used","5":"0.01","6":"0.0","7":"37","8":"standard","9":"7284","10":"yes","11":"0"},{"1":"3.0e+11","2":"1","3":"15","4":"new","5":"1.00","6":"3.0","7":"54","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"2.0e+11","2":"3","3":"29","4":"used","5":"0.99","6":"4.0","7":"47","8":"priority","9":"27","10":"yes","11":"1"},{"1":"2.9e+11","2":"1","3":"15","4":"new","5":"1.00","6":"3.0","7":"55","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.8e+11","2":"1","3":"15","4":"new","5":"0.01","6":"0.0","7":"56","8":"media","9":"820","10":"yes","11":"2"},{"1":"3.0e+11","2":"1","3":"13","4":"new","5":"1.00","6":"3.0","7":"48","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.8e+11","2":"1","3":"16","4":"new","5":"0.01","6":"0.0","7":"56","8":"media","9":"820","10":"yes","11":"2"},{"1":"2.5e+11","2":"7","3":"6","4":"used","5":"24.99","6":"4.0","7":"43","8":"standard","9":"154","10":"yes","11":"1"},{"1":"1.2e+11","2":"7","3":"22","4":"used","5":"0.99","6":"4.0","7":"46","8":"media","9":"309","10":"yes","11":"0"},{"1":"1.4e+11","2":"3","3":"14","4":"new","5":"0.99","6":"8.7","7":"47","8":"priority","9":"251","10":"yes","11":"1"},{"1":"2.8e+11","2":"3","3":"23","4":"new","5":"0.99","6":"0.0","7":"46","8":"standard","9":"7","10":"yes","11":"1"},{"1":"2.9e+11","2":"1","3":"10","4":"new","5":"1.00","6":"3.0","7":"56","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"2.6e+11","2":"1","3":"7","4":"used","5":"0.99","6":"0.0","7":"31","8":"standard","9":"4982","10":"yes","11":"0"},{"1":"2.9e+11","2":"1","3":"16","4":"new","5":"1.00","6":"3.0","7":"54","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"3.5e+11","2":"1","3":"1","4":"new","5":"64.95","6":"0.0","7":"65","8":"standard","9":"118345","10":"yes","11":"2"},{"1":"1.1e+11","2":"1","3":"18","4":"new","5":"1.00","6":"3.0","7":"50","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.1e+11","2":"3","3":"12","4":"used","5":"0.01","6":"4.0","7":"46","8":"firstClass","9":"172","10":"yes","11":"1"},{"1":"1.8e+11","2":"1","3":"19","4":"new","5":"0.01","6":"0.0","7":"55","8":"media","9":"820","10":"yes","11":"2"},{"1":"1.4e+11","2":"3","3":"5","4":"used","5":"15.00","6":"3.5","7":"34","8":"firstClass","9":"37","10":"yes","11":"0"},{"1":"3.0e+11","2":"3","3":"5","4":"used","5":"0.99","6":"0.0","7":"36","8":"upsGround","9":"15","10":"yes","11":"0"},{"1":"3.2e+11","2":"7","3":"15","4":"new","5":"9.99","6":"4.0","7":"47","8":"parcel","9":"62","10":"yes","11":"1"},{"1":"1.7e+11","2":"1","3":"11","4":"used","5":"10.00","6":"4.0","7":"43","8":"priority","9":"18","10":"yes","11":"0"},{"1":"3.2e+11","2":"7","3":"14","4":"used","5":"1.99","6":"0.0","7":"31","8":"media","9":"166","10":"yes","11":"0"},{"1":"3.9e+11","2":"5","3":"13","4":"used","5":"0.99","6":"4.0","7":"42","8":"standard","9":"16041","10":"yes","11":"1"},{"1":"1.7e+11","2":"5","3":"24","4":"used","5":"0.99","6":"4.0","7":"49","8":"upsGround","9":"27","10":"yes","11":"2"},{"1":"1.9e+11","2":"3","3":"10","4":"used","5":"0.99","6":"0.0","7":"41","8":"priority","9":"42241","10":"yes","11":"1"},{"1":"1.5e+11","2":"3","3":"15","4":"used","5":"0.99","6":"8.7","7":"45","8":"priority","9":"88","10":"yes","11":"1"},{"1":"2.9e+11","2":"1","3":"9","4":"new","5":"1.00","6":"3.0","7":"64","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"2.9e+11","2":"1","3":"14","4":"new","5":"1.00","6":"3.0","7":"54","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"2.6e+11","2":"7","3":"5","4":"new","5":"30.00","6":"0.0","7":"46","8":"firstClass","9":"555","10":"no","11":"1"},{"1":"1.1e+11","2":"1","3":"29","4":"new","5":"1.00","6":"3.0","7":"52","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.1e+11","2":"1","3":"17","4":"new","5":"1.00","6":"3.0","7":"56","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.8e+11","2":"3","3":"8","4":"used","5":"9.99","6":"4.0","7":"42","8":"firstClass","9":"69","10":"yes","11":"1"},{"1":"2.9e+11","2":"1","3":"12","4":"new","5":"1.00","6":"3.0","7":"54","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.9e+11","2":"7","3":"20","4":"used","5":"15.00","6":"0.0","7":"39","8":"firstClass","9":"422","10":"yes","11":"0"},{"1":"3.8e+11","2":"7","3":"21","4":"used","5":"0.99","6":"3.0","7":"38","8":"firstClass","9":"8625","10":"yes","11":"0"},{"1":"1.1e+11","2":"1","3":"10","4":"new","5":"1.00","6":"3.0","7":"60","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"2.6e+11","2":"1","3":"17","4":"used","5":"0.99","6":"0.0","7":"29","8":"standard","9":"4982","10":"yes","11":"0"},{"1":"3.3e+11","2":"3","3":"2","4":"new","5":"51.99","6":"0.0","7":"52","8":"other","9":"223861","10":"yes","11":"0"},{"1":"3.0e+11","2":"7","3":"16","4":"used","5":"0.99","6":"3.0","7":"44","8":"firstClass","9":"943","10":"yes","11":"0"},{"1":"2.5e+11","2":"1","3":"14","4":"used","5":"0.99","6":"0.0","7":"32","8":"standard","9":"206","10":"yes","11":"0"},{"1":"2.9e+11","2":"1","3":"23","4":"new","5":"1.00","6":"3.0","7":"54","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.2e+11","2":"1","3":"12","4":"used","5":"0.01","6":"0.0","7":"30","8":"standard","9":"7284","10":"yes","11":"0"},{"1":"3.0e+11","2":"1","3":"9","4":"new","5":"1.00","6":"3.0","7":"58","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.1e+11","2":"7","3":"12","4":"used","5":"30.00","6":"0.0","7":"62","8":"standard","9":"27","10":"yes","11":"2"},{"1":"1.1e+11","2":"1","3":"13","4":"new","5":"1.00","6":"3.0","7":"54","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.6e+11","2":"7","3":"14","4":"used","5":"0.99","6":"3.0","7":"40","8":"media","9":"88","10":"yes","11":"1"},{"1":"1.1e+11","2":"3","3":"9","4":"new","5":"25.00","6":"4.0","7":"47","8":"ups3Day","9":"627","10":"yes","11":"1"},{"1":"3.2e+11","2":"7","3":"16","4":"new","5":"0.99","6":"3.5","7":"42","8":"firstClass","9":"998","10":"no","11":"1"},{"1":"1.8e+11","2":"1","3":"20","4":"new","5":"0.01","6":"0.0","7":"56","8":"media","9":"820","10":"yes","11":"2"},{"1":"4.0e+11","2":"1","3":"1","4":"new","5":"64.95","6":"0.0","7":"65","8":"standard","9":"118345","10":"yes","11":"2"},{"1":"1.4e+11","2":"3","3":"4","4":"used","5":"34.99","6":"4.0","7":"48","8":"standard","9":"85","10":"yes","11":"1"},{"1":"2.7e+11","2":"3","3":"14","4":"used","5":"0.99","6":"4.0","7":"45","8":"standard","9":"270144","10":"yes","11":"0"},{"1":"2.0e+11","2":"5","3":"18","4":"used","5":"19.99","6":"3.0","7":"42","8":"parcel","9":"194","10":"yes","11":"0"},{"1":"3.2e+11","2":"10","3":"15","4":"used","5":"9.99","6":"6.0","7":"43","8":"parcel","9":"2399","10":"yes","11":"1"},{"1":"1.1e+11","2":"1","3":"8","4":"new","5":"1.00","6":"3.0","7":"55","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"2.8e+11","2":"3","3":"19","4":"used","5":"12.00","6":"4.0","7":"45","8":"standard","9":"64","10":"yes","11":"1"},{"1":"1.1e+11","2":"7","3":"14","4":"used","5":"10.00","6":"3.8","7":"46","8":"upsGround","9":"0","10":"yes","11":"1"},{"1":"1.6e+11","2":"3","3":"14","4":"new","5":"0.99","6":"4.0","7":"64","8":"standard","9":"127","10":"yes","11":"2"},{"1":"2.7e+11","2":"7","3":"7","4":"used","5":"0.99","6":"3.0","7":"36","8":"priority","9":"0","10":"yes","11":"0"},{"1":"2.8e+11","2":"7","3":"7","4":"new","5":"29.95","6":"8.7","7":"55","8":"priority","9":"208","10":"yes","11":"1"},{"1":"1.2e+11","2":"5","3":"5","4":"new","5":"35.00","6":"4.0","7":"50","8":"parcel","9":"127","10":"yes","11":"1"},{"1":"2.2e+11","2":"3","3":"16","4":"used","5":"0.99","6":"4.0","7":"47","8":"parcel","9":"231","10":"yes","11":"0"},{"1":"1.4e+11","2":"5","3":"10","4":"used","5":"9.99","6":"2.0","7":"36","8":"upsGround","9":"19","10":"yes","11":"0"},{"1":"1.8e+11","2":"1","3":"11","4":"used","5":"9.99","6":"4.0","7":"54","8":"firstClass","9":"69","10":"yes","11":"2"},{"1":"2.3e+11","2":"7","3":"15","4":"used","5":"12.00","6":"0.0","7":"46","8":"priority","9":"15","10":"yes","11":"1"},{"1":"1.1e+11","2":"1","3":"16","4":"used","5":"0.01","6":"0.0","7":"31","8":"standard","9":"7284","10":"yes","11":"0"},{"1":"2.6e+11","2":"3","3":"15","4":"used","5":"0.99","6":"0.0","7":"56","8":"upsGround","9":"54","10":"yes","11":"2"},{"1":"1.1e+11","2":"3","3":"23","4":"new","5":"0.99","6":"4.0","7":"40","8":"standard","9":"270144","10":"yes","11":"0"},{"1":"1.1e+11","2":"1","3":"20","4":"new","5":"1.00","6":"3.0","7":"53","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"2.9e+11","2":"1","3":"13","4":"new","5":"1.00","6":"3.0","7":"49","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"4.0e+11","2":"1","3":"1","4":"new","5":"54.99","6":"11.4","7":"66","8":"upsGround","9":"118345","10":"yes","11":"2"},{"1":"1.7e+11","2":"1","3":"22","4":"new","5":"0.01","6":"0.0","7":"64","8":"media","9":"820","10":"yes","11":"2"},{"1":"2.3e+11","2":"7","3":"18","4":"new","5":"18.00","6":"4.0","7":"47","8":"standard","9":"389","10":"yes","11":"1"},{"1":"2.9e+11","2":"7","3":"9","4":"used","5":"0.01","6":"3.0","7":"33","8":"media","9":"381","10":"yes","11":"1"},{"1":"3.0e+11","2":"1","3":"16","4":"new","5":"1.00","6":"3.0","7":"54","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"3.2e+11","2":"5","3":"20","4":"new","5":"0.01","6":"0.0","7":"46","8":"media","9":"8224","10":"yes","11":"1"},{"1":"3.6e+11","2":"3","3":"16","4":"used","5":"0.99","6":"4.0","7":"43","8":"standard","9":"270143","10":"yes","11":"0"},{"1":"1.7e+11","2":"3","3":"5","4":"used","5":"35.00","6":"0.0","7":"43","8":"priority","9":"10","10":"yes","11":"1"},{"1":"1.9e+11","2":"7","3":"5","4":"used","5":"1.00","6":"0.0","7":"52","8":"standard","9":"116","10":"yes","11":"2"},{"1":"1.1e+11","2":"1","3":"25","4":"new","5":"1.00","6":"3.0","7":"58","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"3.5e+11","2":"1","3":"3","4":"new","5":"69.95","6":"0.0","7":"75","8":"standard","9":"118345","10":"yes","11":"3"},{"1":"1.5e+11","2":"7","3":"7","4":"used","5":"25.00","6":"11.4","7":"49","8":"parcel","9":"11","10":"yes","11":"1"},{"1":"1.6e+11","2":"7","3":"18","4":"new","5":"9.99","6":"4.0","7":"46","8":"firstClass","9":"1154","10":"yes","11":"1"},{"1":"3.5e+11","2":"7","3":"10","4":"used","5":"0.99","6":"4.0","7":"40","8":"standard","9":"877","10":"yes","11":"1"},{"1":"1.7e+11","2":"1","3":"13","4":"new","5":"0.01","6":"0.0","7":"45","8":"other","9":"556","10":"yes","11":"1"},{"1":"1.4e+11","2":"3","3":"8","4":"used","5":"20.00","6":"4.0","7":"50","8":"parcel","9":"63","10":"yes","11":"2"},{"1":"2.5e+11","2":"7","3":"16","4":"new","5":"9.99","6":"9.7","7":"50","8":"priority","9":"94","10":"yes","11":"0"},{"1":"1.1e+11","2":"1","3":"17","4":"new","5":"1.00","6":"3.0","7":"56","8":"upsGround","9":"4858","10":"yes","11":"2"},{"1":"1.2e+11","2":"3","3":"9","4":"new","5":"0.01","6":"0.0","7":"46","8":"firstClass","9":"1144","10":"no","11":"1"},{"1":"2.3e+11","2":"7","3":"10","4":"used","5":"0.99","6":"4.0","7":"35","8":"firstClass","9":"462","10":"yes","11":"1"},{"1":"3.2e+11","2":"1","3":"23","4":"used","5":"0.99","6":"0.0","7":"49","8":"parcel","9":"280","10":"yes","11":"2"},{"1":"1.7e+11","2":"1","3":"19","4":"new","5":"0.01","6":"0.0","7":"61","8":"media","9":"820","10":"yes","11":"2"},{"1":"1.8e+11","2":"1","3":"14","4":"new","5":"0.01","6":"0.0","7":"63","8":"media","9":"820","10":"yes","11":"2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[5],"max":[5]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Zur Erinnerung: Logische Operatoren sind in <a href="020-R.html#sec-logic" class="quarto-xref"><span>Kapitel 3.8</span></a> erl√§utert.</p>
<div id="exr-hyps-filter" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 4.3</strong></span> Hier k√∂nnte man noch viele interessante Hypothesen pr√ºfen, denken Sie sich und tun das auch. <span class="math inline">\(\square\)</span></p>
</div>
<div id="exr-filter2" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 4.4</strong></span> Filtern Sie die Spiele mit nur einem Lenkrad und ohne Versandkosten. <span class="math inline">\(\square\)</span></p>
</div>
<div id="exr-filter3" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 4.5</strong></span> Filtern Sie die Spiele mit nur einem Lenkrad, die einen √ºberdurchschnittlichen Verkaufspreis erzielen. Tipp: Nutzen Sie die Funktion <code>describe_distribution</code>, um den Mittelwert einer Variable des Datensatzes zu erfahren (diese Funktion wohnt im R-Paket <code>easystats</code>). <span class="math inline">\(\square\)</span></p>
</div>
</section><section id="spalten-ausw√§hlen-mit-select" class="level3" data-number="4.2.3"><h3 data-number="4.2.3" class="anchored" data-anchor-id="spalten-ausw√§hlen-mit-select">
<span class="header-section-number">4.2.3</span> Spalten ausw√§hlen mit <code>select</code>
</h3>
<p>Eine Tabelle mit vielen Spalten kann schnell un√ºbersichtlich werden. Da lohnt es sich, eine goldene Regel zu beachten: Mache die Dinge so einfach wie m√∂glich, aber nicht einfacher. W√§hlen wir also <em>nur</em> die Spalten aus, die uns interessieren und entfernen wir die restlichen, s. <a href="#fig-select" class="quarto-xref">Abbildung&nbsp;<span>4.5</span></a> als Beispiel.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-select" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-select-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="030-aufbereiten_files/figure-html/fig-select-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5" title="Abbildung&nbsp;4.5: Sinnbild f√ºr das Ausw√§hlen von Spalten mit select"><img src="030-aufbereiten_files/figure-html/fig-select-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-select-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;4.5: Sinnbild f√ºr das Ausw√§hlen von Spalten mit <code>select</code>
</figcaption></figure>
</div>
</div>
</div>
<div id="exm-select" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 4.5 (Fokus auf nur zwei Spalten)</strong></span> Ob wohl gebrauchte Spiele deutlich geringere Preise erzielen im Vergleich zu neuwertigen Spielen? Sie entschlie√üen sich, mal ein St√ºndchen auf die relevanten Daten zu starren. Daf√ºr w√§hlen Sie mit <code>select</code> die relevanten Spalten aus. <span class="math inline">\(\square\)</span></p>
</div>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mario_select1</span> <span class="op">&lt;-</span> <span class="fu">select</span><span class="op">(</span><span class="va">mariokart</span>, <span class="va">cond</span>, <span class="va">total_pr</span><span class="op">)</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Der Befehl <code>select</code> erwartet als Input eine Tabelle und gibt (als Output) eine Tabelle zur√ºck ‚Äì genau wie die meisten anderen Befehle des Datenjudos. Auch wenn Sie nur eine Spalte ausw√§hlen, bleibt es eine Tabelle, eben eine Tabelle mit nur einer Spalte.</p>
<p><code>select</code> erlaubt Komfort; Sie k√∂nnen Spalten auf mehrere Arten ausw√§hlen:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">select</span><span class="op">(</span><span class="va">mariokart</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>  <span class="co"># Spalten 1 und 2</span></span>
<span><span class="fu">select</span><span class="op">(</span><span class="va">mariokart</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>  <span class="co">#  Spalten 2 *bis* 5 </span></span>
<span><span class="fu">select</span><span class="op">(</span><span class="va">mariokart</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span>  <span class="co"># Alle Spalte *au√üer* Spalte 1</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="exr-select" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 4.6</strong></span> W√§hlen Sie die Spalten <code>total_pr</code>, <code>cond</code> sowie die zweite Spalte der Tabelle <code>mariokart</code> aus!<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> <span class="math inline">\(\square\)</span></p>
</div>
<p>Vertiefte Informationen zum Ausw√§hlen von Spalten mit <code>select</code> finden sich <a href="https://tidyr.tidyverse.org/reference/tidyr_tidy_select.html">auf der Hilfeseite der Funktion</a>.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
</section><section id="spalten-zu-einer-zahl-zusammenfassen-mit-summarise" class="level3" data-number="4.2.4"><h3 data-number="4.2.4" class="anchored" data-anchor-id="spalten-zu-einer-zahl-zusammenfassen-mit-summarise">
<span class="header-section-number">4.2.4</span> Spalten zu einer Zahl zusammenfassen mit <code>summarise</code>
</h3>
<div id="exm-summarise" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 4.6 (Was ist der mittlere Verkaufspreis?)</strong></span> Mit <code>summarise</code>, s. <a href="#lst-summarise" class="quarto-xref">Listing&nbsp;<span>4.1</span></a>, k√∂nnen wir den mittleren Verkaufspreis der Mariokart-Spiele berechnen (50). <span class="math inline">\(\square\)</span></p>
</div>
<p>So eine lange Spalte mit Zahlen ‚Äì mal ehrlich: Wer blickt da schon durch? Machen wir uns das Leben leichter, indem wir eine lange Spalte mit Zahlen zu einer einzigen Zahl zusammenfassen. Sagen wir, drei Studierende ‚Äì Anni, Berti, Charli ‚Äì haben eine Statistikklausur geschrieben. Die Noten waren 2.7, 2.7 und 1.7. Damit lag der Notenschnitt (der Mittelwert) bei 2.4; s. <a href="#fig-summarise" class="quarto-xref">Abbildung&nbsp;<span>4.6</span></a>.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-summarise" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-summarise-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="030-aufbereiten_files/figure-html/fig-summarise-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6" title="Abbildung&nbsp;4.6: Spalten zu einer einzelnen Zahl zusammenfassen mit summarise: Hier wurden die Noten anhand des Mittelwerts zusammengefasst."><img src="030-aufbereiten_files/figure-html/fig-summarise-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-summarise-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;4.6: Spalten zu einer einzelnen Zahl zusammenfassen mit <code>summarise</code>: Hier wurden die Noten anhand des Mittelwerts zusammengefasst.
</figcaption></figure>
</div>
</div>
</div>
<p>Fassen wir als N√§chstes die Spalte <code>total_pr</code> zu einer Zahl zusammen, und zwar zum Mittelwert. Dann wissen wir, f√ºr welchen Preis ein Spiel im Durchschnitt verkauft wird, s. <a href="#lst-summarise" class="quarto-xref">Listing&nbsp;<span>4.1</span></a>.</p>
<div class="cell" data-layout-align="center">
<div id="lst-summarise" class="r cell-code listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-summarise-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;4.1: Die R-Funktion summarise fasst einen Vektor zu einer einzelnen Zahl zusammen.
</figcaption><div aria-describedby="lst-summarise-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariokart_mittelwert</span> <span class="op">&lt;-</span> <span class="fu">summarise</span><span class="op">(</span><span class="va">mariokart</span>,</span>
<span>                                  preis_mw <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">total_pr</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">mariokart_mittelwert</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</figure>
</div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["preis_mw"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"50"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[5],"max":[5]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Aha! Etwa 50 Dollar erzielte so eine Auktion im Durchschnitt. Ein bisschen abstrakter gesprochen fasst <code>summarise</code> eine <em>Spalte</em> zu einer (einzelnen) <em>Zahl</em> zusammen, s. <a href="#lst-summarise" class="quarto-xref">Listing&nbsp;<span>4.1</span></a>.</p>
<p>Eine Alternative, um eine Spalte zu einer Zahl zusammenzufassen, bietet der ‚ÄúDollar-Operator‚Äù (<code>$</code>): <code>mean(mariokart$total_pr)</code>. Der Dollar-Operator trennt hier die Tabelle von der Spalte: <code>tibble$spalte</code>. Im Gegensatz zu den Verben des Tidyverse (die immer einer Tabelle zur√ºckliefern), liefert der Dollar-Operator einen Vektor (Spalte) zur√ºck. (Diese wird von <code>mean</code> dann zu einer einzelnen Zahl zusammengefasst.)</p>
<p><em>Auf welche Art</em> zusammengefasst werden soll, z.<span class="math inline">\(\,\)</span>B. anhand des Mittelwerts oder Maximalwerts, muss noch zus√§tzlich innerhalb von <code>summarise</code> angegeben werden.</p>
<!-- $$\begin{array}{|c|} \hline \\ \hline \\  \\  \\ \\ \hline \end{array} \qquad \rightarrow  \qquad \begin{array}{|c|} \hline \\  \hline \end{array}$$ {#eq-desk-summ} -->
<div id="exr-summarise" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 4.7</strong></span> Identifizieren Sie den h√∂chsten Kaufpreis eines Mariokart-Spiels!<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> <span class="math inline">\(\square\)</span></p>
</div>
<div id="exr-summarise2" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 4.8</strong></span> Identifizieren Sie den Mittelwert der Versandkostenpauschale!<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a> <span class="math inline">\(\square\)</span></p>
</div>
</section><section id="tabelle-gruppieren" class="level3" data-number="4.2.5"><h3 data-number="4.2.5" class="anchored" data-anchor-id="tabelle-gruppieren">
<span class="header-section-number">4.2.5</span> Tabelle gruppieren</h3>
<p>Es ist ja gut und sch√∂n, zu wissen, was so ein Spiel im Schnitt kostet. Aber viel interessanter w√§re es doch, denken Sie sich, zu wissen, ob die neuen Spiele im Schnitt mehr kosten als die alten? Ob R Ihnen so etwas ausrechnen kann?</p>
<blockquote class="blockquote">
<p><span>üßë‚Äçüéì</span> Hallo R, kannst du mir die mittleren Verkaufspreise von alten und neuen Spielen ausrechnen?</p>
</blockquote>
<blockquote class="blockquote">
<p><span>ü§ñ</span> Ich tue fast alles f√ºr dich. <span>üß°</span></p>
</blockquote>
<p>Also gut, R, dann gruppiere die Tabelle, s. <a href="#fig-group" class="quarto-xref">Abbildung&nbsp;<span>4.7</span></a>.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-group" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-group-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="030-aufbereiten_files/figure-html/fig-group-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7" title="Abbildung&nbsp;4.7: Gruppieren von Datens√§tzen mit group_by: Hier wurde anhand der Variable gruppe gruppiert."><img src="030-aufbereiten_files/figure-html/fig-group-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-group-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;4.7: Gruppieren von Datens√§tzen mit <code>group_by</code>: Hier wurde anhand der Variable <code>gruppe</code> gruppiert.
</figcaption></figure>
</div>
</div>
</div>
<p>Durch das Gruppieren wird die Tabelle in ‚ÄúTeiltabellen‚Äù ‚Äì entsprechend der Gruppen ‚Äì aufgeteilt. Das sieht man der R-Tabelle aber nicht wirklich an. Aber alle nachfolgenden Berechnungen werden <em>f√ºr jede Teiltabelle</em> einzeln ausgef√ºhrt.</p>
<div id="exm-groupby" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 4.7 (Mittlerer Preis pro Gruppe)</strong></span> Gruppieren alleine liefert Ihnen zwei (oder mehrere) Teiltabellen, etwa neue Spiele (Gruppe 1, <code>new</code>) vs.&nbsp;gebrauchte Spiele (Gruppe 2, <code>used</code>). Mit anderen Worten: Wir gruppieren anhand der Variable <code>cond</code>.</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariokart_gruppiert</span> <span class="op">&lt;-</span> <span class="fu">group_by</span><span class="op">(</span><span class="va">mariokart</span>, <span class="va">cond</span><span class="op">)</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Wenn Sie die neue Tabelle betrachte, sehen Sie wenig Aufregendes, nur einen Hinweis, dass die Tabelle gruppiert ist. Jetzt k√∂nnen Sie an jeder Teiltabelle Ihre weiteren Berechnungen vornehmen, etwa die Berechnung des mittleren Verkaufspreises.</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">summarise</span><span class="op">(</span><span class="va">mariokart_gruppiert</span>, preis_mw <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">total_pr</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cond"],"name":[1],"type":["fct"],"align":["left"]},{"label":["preis_mw"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"new","2":"54"},{"1":"used","2":"47"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[5],"max":[5]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Ah, die neuen Spiele sind teuerer, wer h√§tt‚Äôs gedacht! Langsam f√ºhlen Sie sich wie ein Datenchecker ‚Ä¶ <span>ü•∑ ü¶π‚Äç‚ôÄ</span><span class="math inline">\(\square\)</span></p>
</div>
<div id="exr-groupby" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 4.9</strong></span> &nbsp;</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="" aria-current="page">Aufgabe</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">L√∂sung</a></li>
</ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>Berechnen Sie den mittleren und maximalen Verkaufspreis getrennt f√ºr Spiele mit und ohne Foto!</p>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariokart_gruppiert_foto</span> <span class="op">&lt;-</span> <span class="fu">group_by</span><span class="op">(</span><span class="va">mariokart</span>, <span class="va">stock_photo</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mariokart_verkaufspreis_foto</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span><span class="va">mariokart_gruppiert_foto</span>,</span>
<span>            total_pr_avg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">total_pr</span><span class="op">)</span>,</span>
<span>            total_pr_max <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">total_pr</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mariokart_verkaufspreis_foto</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["stock_photo"],"name":[1],"type":["fct"],"align":["left"]},{"label":["total_pr_avg"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["total_pr_max"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"no","2":"54","3":"327"},{"1":"yes","2":"48","3":"75"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[5],"max":[5]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
</div>
</div>
<p>Bei Auktionen mit Foto wird im Schnitt ein h√∂herer Preis erzielt als ohne Foto. <span class="math inline">\(\square\)</span></p>
</div>
</section><section id="spalten-ver√§ndern-mit-mutate" class="level3" data-number="4.2.6"><h3 data-number="4.2.6" class="anchored" data-anchor-id="spalten-ver√§ndern-mit-mutate">
<span class="header-section-number">4.2.6</span> Spalten ver√§ndern mit <code>mutate</code>
</h3>
<p>Immer mal wieder m√∂chte man <em>Spalten ver√§ndern</em>, bzw. deren Werte umrechnen, s. <a href="#fig-mutate" class="quarto-xref">Abbildung&nbsp;<span>4.8</span></a>.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-mutate" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-mutate-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="030-aufbereiten_files/figure-html/fig-mutate-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8" title="Abbildung&nbsp;4.8: Spalten ver√§ndern/neu berechnen mit mutate"><img src="030-aufbereiten_files/figure-html/fig-mutate-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-mutate-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;4.8: Spalten ver√§ndern/neu berechnen mit <code>mutate</code>
</figcaption></figure>
</div>
</div>
</div>
<div id="exm-mutate" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 4.8</strong></span> Der Hersteller des Computerspiels <em>Mariokart</em> kommt aus Japan; daher erscheint es Ihnen opportun f√ºr ein anstehendes Meeting mit dem Hersteller die Verkaufspreise von Dollar in japanische Yen umzurechnen. Nach etwas Googeln finden Sie einen Umrechnungskurs von 1:133.</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariokart_yen</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span><span class="va">mariokart</span>, total_pr_yen <span class="op">=</span> <span class="va">total_pr</span> <span class="op">*</span> <span class="fl">133</span><span class="op">)</span></span>
<span><span class="va">mariokart_yen</span> <span class="op">&lt;-</span> <span class="fu">select</span><span class="op">(</span><span class="va">mariokart_yen</span>, <span class="va">total_pr_yen</span>, <span class="va">total_pr</span><span class="op">)</span></span>
<span><span class="va">mariokart_yen</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># nur die ersten paar Zeilen</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["total_pr_yen"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["total_pr"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"6856","2":"52"},{"1":"4926","2":"37"},{"1":"6052","2":"46"},{"1":"5852","2":"44"},{"1":"9443","2":"71"},{"1":"5985","2":"45"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[5],"max":[5]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Sicherlich werden Sie Ihre Gespr√§chspartner beeindrucken. <span class="math inline">\(\square\)</span></p>
</div>
<p>Mit <code>mutate</code> berechnen Sie eine Spalte <code>x</code> (in einer Tabelle) neu. Die Funktion, die Sie in <code>mutate</code> benennen wird f√ºr jede Zeile der Spalte <code>x</code> angewendet.</p>
<div id="exm-mutate2" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 4.9 (Beispiele f√ºr Funktionen f√ºr <code>mutate</code>)</strong></span> <code>mutate</code> eignet sich, z.<span class="math inline">\(\,\)</span>B. um Spalten zu addieren, zu multiplizieren oder sonst wie zu transformieren (z.<span class="math inline">\(\,\)</span>B. den Logarithmus anwenden oder den Mittelwert der Spalte von jeder Zeile abziehen). <span class="math inline">\(\square\)</span></p>
</div>
<div id="exr-mutate" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 4.10</strong></span> &nbsp;</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true" href="">Aufgabe</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false" href="">L√∂sung</a></li>
</ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>Rechnen Sie die Dauer der Auktionen von Tagen in Wochen um.</p>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariokart_duration_wochen</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span><span class="va">mariokart</span>, duration_week <span class="op">=</span> <span class="va">duration</span> <span class="op">/</span> <span class="fl">7</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mariokart_duration_wochen</span> <span class="op">&lt;-</span></span>
<span>   <span class="fu">select</span><span class="op">(</span><span class="va">mariokart_duration_wochen</span>, <span class="va">duration</span>, <span class="va">duration_week</span><span class="op">)</span></span>
<span><span class="va">mariokart_duration_wochen</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># nur die ersten paar Zeilen</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["duration"],"name":[1],"type":["int"],"align":["right"]},{"label":["duration_week"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"3","2":"0.43"},{"1":"7","2":"1.00"},{"1":"3","2":"0.43"},{"1":"3","2":"0.43"},{"1":"1","2":"0.14"},{"1":"3","2":"0.43"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[5],"max":[5]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="exr-mutate2" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 4.11</strong></span> &nbsp;</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true" href="">Aufgabe</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false" href="">L√∂sung</a></li>
</ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<p>Rechnen Sie wieder die Dauer der Auktionen von Tagen in Wochen um, aber runden Sie die Wochen auf ganze Wochen.</p>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariokart_duration_wochen</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span><span class="va">mariokart</span>, duration_week <span class="op">=</span> <span class="va">duration</span> <span class="op">/</span> <span class="fl">7</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mariokart_duration_wochen_gerundet</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span><span class="va">mariokart_duration_wochen</span>, duration_week_gerundet <span class="op">=</span></span>
<span>           <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">duration_week</span>, digits <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mariokart_duration_wochen_schmal</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">mariokart_duration_wochen_gerundet</span>, <span class="va">duration</span>, </span>
<span>         <span class="va">duration_week</span>, <span class="va">duration_week_gerundet</span><span class="op">)</span></span>
<span><span class="va">mariokart_duration_wochen_schmal</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["duration"],"name":[1],"type":["int"],"align":["right"]},{"label":["duration_week"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["duration_week_gerundet"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"3","2":"0.43","3":"0"},{"1":"7","2":"1.00","3":"1"},{"1":"3","2":"0.43","3":"0"},{"1":"3","2":"0.43","3":"0"},{"1":"1","2":"0.14","3":"0"},{"1":"3","2":"0.43","3":"0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[5],"max":[5]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<blockquote class="blockquote">
<p><span>üßü‚Äç‚ôÄÔ∏è</span>Ô∏è Statist ‚Äì wann braucht man schon sowas!?</p>
</blockquote>
<blockquote class="blockquote">
<p><span>ü§ñ</span> Eigentlich nur dann, wenn man die Fakten gut verstehen will, sonst nicht.</p>
</blockquote>
</section><section id="zeilen-z√§hlen-mit-count" class="level3" data-number="4.2.7"><h3 data-number="4.2.7" class="anchored" data-anchor-id="zeilen-z√§hlen-mit-count">
<span class="header-section-number">4.2.7</span> Zeilen z√§hlen mit <code>count</code>
</h3>
<p>Arbeitet man mit nominalskalierten Daten, ist (fast) alles, was man mit den Daten tun kann, die entsprechenden Zeilen der Tabelle zu z√§hlen: Man k√∂nnte z.<span class="math inline">\(\,\)</span>B. fragen, wie viele neue und wie viele alte Spiele in der Tabelle (Dataframe) <code>mariokart</code> vorhanden sind.</p>
<div id="exm-count" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 4.10</strong></span> Nach der letzten Pr√§sentation Ihrer Analyse hat Ihre Chefin gest√∂hnt: ‚ÄúOh nein, alles so kompliziert. Statistik! Himmel hilf! Kann man das nicht einfacher machen?‚Äù Anstelle von irgendwelchen komplizierten Berechnungen (Mittelwert?) m√∂chten Sie ihr beim n√§chsten Treffen nur zeigen, wie viele Computerspiele neu und wie viele gebraucht sind (in Ihrem Datensatz). Schlichte H√§ufigkeiten also. Hoffentlich ist Ihre Chefin nicht wieder √ºberfordert ‚Ä¶</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariocart_counted</span> <span class="op">&lt;-</span> <span class="fu">count</span><span class="op">(</span><span class="va">mariokart</span>, <span class="va">cond</span><span class="op">)</span></span>
<span><span class="va">mariocart_counted</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cond"],"name":[1],"type":["fct"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"new","2":"59"},{"1":"used","2":"84"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[5],"max":[5]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Aha! Es gibt mehr gebrauchte als neue Spiele. <span class="math inline">\(\square\)</span></p>
</div>
<p>Jetzt k√∂nnte man noch den <em>Anteil</em> (engl. <em>proportion</em>) erg√§nzen: Welcher <em>Anteil</em> (der 143 Spiele in <code>mariokart</code>) ist neu, welcher gebraucht?</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">mutate</span><span class="op">(</span><span class="va">mariocart_counted</span>, Anteil <span class="op">=</span> <span class="va">n</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cond"],"name":[1],"type":["fct"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]},{"label":["Anteil"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"new","2":"59","3":"0.41"},{"1":"used","2":"84","3":"0.59"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[5],"max":[5]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div id="exr-count" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 4.12</strong></span> Z√§hlen Sie, wie viele der Auktionen ein Stock-Foto enthalten.<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a> <span class="math inline">\(\square\)</span></p>
</div>
<div id="exr-count2" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 4.13</strong></span> Z√§hlen Sie Sie, wie viele Auktionen ein Foto enthalten ‚Äì innerhalb der gebrauchten Spiele und innerhalb der neuen Spiele. Anders gesagt: Teilen Sie den Datensatz sowohl nach Zustand als auch nach Foto auf und z√§hlen Sie jeweils, wie viele Spiele/Auktionen in die jeweilige Gruppe geh√∂ren.<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a> <span class="math inline">\(\square\)</span></p>
</div>
</section><section id="verben-am-flie√üband" class="level3" data-number="4.2.8"><h3 data-number="4.2.8" class="anchored" data-anchor-id="verben-am-flie√üband">
<span class="header-section-number">4.2.8</span> Verben am Flie√üband</h3>
<p>Die Befehle (‚ÄúVerben‚Äù) des Tidyverse sind jeweils f√ºr einzelne, typische Aufgaben des Datenaufbereitens (‚ÄúDatenjudo‚Äù) zust√§ndig. Typischerweise erwarten diese Befehle eine Tabelle (<i class="fa-solid fa-table" aria-label="table"></i>) als Input und liefern eine Tabelle aus Output zur√ºck, s. <a href="#fig-tbl-in-out" class="quarto-xref">Abbildung&nbsp;<span>4.9</span></a>. Die Verben des Datenjudos werden beim <a href="https://tidydatatutor.com/">‚ÄúTidydatatutor‚Äù</a> anschaulich illustriert.<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a></p>
<div class="cell" data-fig-width="4" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-tbl-in-out" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-tbl-in-out-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>
<pre class="mermaid mermaid-js" data-label="fig-tbl-in-out">flowchart LR
  A["‚ñ•"] --&gt; B[tidyverse-Befehl] --&gt; C["‚ñ•"] 
</pre>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-tbl-in-out-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;4.9: Tidyverse-Befehle erwarten normalerweise eine Tabelle (‚ÄúTibble‚Äù) als Input und geben auch eine Tabelle zur√ºck als Output
</figcaption></figure>
</div>
</div>
</div>
</section></section><section id="sec-pipe" class="level2" data-number="4.3"><h2 data-number="4.3" class="anchored" data-anchor-id="sec-pipe">
<span class="header-section-number">4.3</span> Die Pfeife</h2>
<p><span>üö¨ üëà</span><a href="https://en.wikipedia.org/wiki/The_Treachery_of_Images">Das ist keine Pfeife</a>, wie Ren√© Magritte 1929 in seinem <a href="https://en.wikipedia.org/wiki/File:MagrittePipe.jpg">ber√ºhmten Bild</a> schrieb, s. <a href="#fig-pfeifen" class="quarto-xref">Abbildung&nbsp;<span>4.10</span></a>.</p>
<div id="fig-pfeifen" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-pfeifen-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-panel" data-layout-ncol="4">
<div class="quarto-layout-row">
<div class="column quarto-layout-cell" style="flex-basis: 41.7%;justify-content: center;">
<p><a href="img/800px-Pipa_savinelli.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-9" title="Abbildung&nbsp;4.10: So sieht die Pfeife in R aus (Jaja, das ist keine Pfeife, sondern ein Symbol einer Pfeife ‚Ä¶). Links: Ein Bild einer Pfeife [@m72004]. Mitte und Rechts: Die zwei R-Symbole f√ºr eine ‚ÄúPfeife‚Äù (pipe)."><img src="img/800px-Pipa_savinelli.jpg" class="img-fluid figure-img"></a></p>
</div>
<div class="column quarto-layout-cell" style="flex-basis: 8.3%;justify-content: flex-start;">
<!-- Empty col -->
</div>
<div class="column quarto-layout-cell" style="flex-basis: 25.0%;justify-content: flex-start;">
<div class="xlarge">
<p>%&gt;%</p>
</div>
</div>
<div class="column quarto-layout-cell" style="flex-basis: 25.0%;justify-content: flex-start;">
<div class="xlarge">
<p>|&gt;</p>
</div>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pfeifen-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;4.10: So sieht die Pfeife in R aus (Jaja, das ist keine Pfeife, sondern ein Symbol einer Pfeife ‚Ä¶). Links: Ein <em>Bild</em> einer Pfeife <span class="citation" data-cites="m72004">(<a href="references.html#ref-m72004" role="doc-biblioref">M7, 2004</a>)</span>. Mitte und Rechts: Die zwei R-Symbole f√ºr eine ‚ÄúPfeife‚Äù (pipe).
</figcaption></figure>
</div>
<section id="russische-puppen" class="level3" data-number="4.3.1"><h3 data-number="4.3.1" class="anchored" data-anchor-id="russische-puppen">
<span class="header-section-number">4.3.1</span> Russische Puppen</h3>
<p>Computerbefehle, und im Speziellen R-Befehle, kann man ‚Äúaufeinander‚Äù ‚Äì oder vielmehr: ineinander ‚Äì stapeln, so √§hnlich wie eine russische Puppe (vgl. <a href="020-R.html#sec-first-fun" class="quarto-xref"><span>Kapitel 3.6.3</span></a>). Schauen wir uns das in einem Beispiel an. Dazu definieren wir zuerst einen Vektor <code>x</code> aus drei Zahlen:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Und dann kommt unser verschachtelter Befehl:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">x</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## [1] 0</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Wie schon erw√§hnt, arbeitet R so einen ‚Äúverschachtelten‚Äù Befehl <em>von innen nach au√üen</em> ab:</p>
<p>Start: <code>sum(x - mean(x))</code></p>
<p><span>‚¨áÔ∏è</span> </p>
<p>Schritt 1: <code>sum(x - 2)</code></p>
<p><span>‚¨áÔ∏è</span> </p>
<p>Schritt 2: <code>sum(-1, 0, 1)</code></p>
<p><span>‚¨áÔ∏è</span> </p>
<p>Schritt 3: <code>0</code>. Fertig. Ganz sch√∂n kompliziert!</p>
<p>Soweit kann man noch einigerma√üen folgen. Aber das Verschachteln kann man noch extremer machen, dann wird‚Äôs wild. Schauen Sie sich mal folgende (Pseudo-)Syntax an:</p>
<div id="lst-schachtel" class="r listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-schachtel-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;4.2: Eine wild verschachtelte Sequenz von Pseudo-Befehlen
</figcaption><div aria-describedby="lst-schachtel-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">fasse_zusammen</span><span class="op">(</span></span>
<span>  <span class="fu">gruppiere</span><span class="op">(</span></span>
<span>    <span class="fu">w√§hle_spalten</span><span class="op">(</span></span>
<span>      <span class="fu">filter_zeilen</span><span class="op">(</span><span class="va">meine_daten</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</figure>
</div>
<p>Ein beliebter Fehler ist es √ºbrigens, nicht die richtige Zahl an schlie√üenden Klammern hinzuschreiben, z.<span class="math inline">\(\,\)</span>B. <code>d(c(b(a(meine_daten))</code>. Falsche Zahl an Klammern!</p>
</section><section id="die-pfeife-zur-rettung" class="level3" data-number="4.3.2"><h3 data-number="4.3.2" class="anchored" data-anchor-id="die-pfeife-zur-rettung">
<span class="header-section-number">4.3.2</span> Die Pfeife zur Rettung</h3>
<p><a href="#lst-schachtel" class="quarto-xref">Listing&nbsp;<span>4.2</span></a> ist schon harter Tobak, was f√ºr echte Fans. W√§re es nicht einfacher, man k√∂nnte <a href="#lst-schachtel" class="quarto-xref">Listing&nbsp;<span>4.2</span></a> wie folgt schreiben:</p>
<pre><code>Nimm "meine_daten" *und dann*
  filter die gew√ºnschte Zeilen *und dann*
  w√§hle die gew√ºnschte Spalten *und dann*
  teile in Subgruppen *und dann*
  fasse diese zusammen.</code></pre>
<div id="def-pipe" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 4.2 (Pfeife)</strong></span> ‚ÄúUnd dann‚Äù hei√üt auf Errisch <code>%&gt;%</code> oder (synonym) <code>|&gt;</code>. Man nennt diesen Befehl ‚ÄúPfeife‚Äù (engl. <em>pipe</em>). <span class="math inline">\(\square\)</span></p>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Der Befehl <code>%&gt;%</code> <em>verkn√ºpft</em> Befehle. Der Shortcut f√ºr diesen Befehl ist Strg-Shift-M. Die Pfeife <code>%&gt;%</code> ‚Äúwohnt‚Äù im Paket <code>tidyverse</code>.<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a></p>
</div>
</div>
<p>Mittlerweile (Seit R 4.1) ist auch im Standard-R eine Pfeife eingebaut. Die sieht so aus: <code>|&gt;</code>. Die eingebaute Pfeife funktioniert praktisch gleich zur anderen Pfeife, <code>%&gt;%</code>, hat aber den Vorteil, dass Sie nicht <code>tidyverse</code> starten m√ºssen. Da wir <code>tidyverse</code> aber sowieso praktisch immer starten werden, bringt es uns keinen Vorteil, die neuere Pfeife des Standard-R <code>|&gt;</code> zu verwenden. Aber auch keinen Nachteil. Unter <em>Tools &gt; Global Options ‚Ä¶</em> k√∂nnen Sie einstellen, welche der beiden Pfeifen-Varianten der Shortcut <em>Strg-Shift-M</em> verwenden soll.</p>
<div class="cell" data-fig-height="0.4" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-pfeife" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-pfeife-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>
<pre class="mermaid mermaid-js" data-label="fig-pfeife">flowchart LR
  A["‚ñ•"] --filter&lt;br&gt;zeilen--&gt;B["‚ñ•"] 
  B --w√§hle&lt;br&gt;spalten--&gt; C["‚ñ•"]
  C --gruppiere--&gt; D["‚ñ•"]
  D --fasse&lt;br&gt;zusammen--&gt; E["‚ñ•"]
</pre>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pfeife-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;4.11: Illustration f√ºr eine Pfeifensequenz, es geht vorw√§rts wie am Flie√üband.
</figcaption></figure>
</div>
</div>
</div>
<div id="lst-pfeife" class="r listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-pfeife-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;4.3: Eine Pfeifen-Befehlssequenz (Pseudo-Syntax)
</figcaption><div aria-describedby="lst-pfeife-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb26"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">meine_daten</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">filter_gew√ºnschte_zeilen</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">w√§hle_gew√ºnschte_spalten</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">gruppiere</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">fasse_zusammen</span><span class="op">(</span><span class="op">)</span> </span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</figure>
</div>
<p>Und jetzt kommt‚Äôs: So eine Art von Befehls-Verkettung gibt es in R. Schauen Sie sich mal <a href="#lst-pfeife" class="quarto-xref">Listing&nbsp;<span>4.3</span></a> an im Vergleich zu <a href="#lst-schachtel" class="quarto-xref">Listing&nbsp;<span>4.2</span></a>. So eine Pfeifen-Befehlsequenz ist ein wie ein Flie√üband, an dem es mehrere Arbeitsstationen gibt, s. <a href="#fig-pfeife" class="quarto-xref">Abbildung&nbsp;<span>4.11</span></a>. Unser Datensatz wird am Flie√üband von Station zu Station weitergereicht und an jeder Stelle weiterverarbeitet. So k√∂nnte Ihre ‚ÄúPfeifen-Sequenz‚Äù f√ºr den Mariokart-Datensatz aussehen, s. <a href="#lst-ihre-pfeife" class="quarto-xref">Listing&nbsp;<span>4.4</span></a>.</p>
<div class="cell" data-layout-align="center" data-tbl-cap="Endprodukt einer Pfeifen-Syntax">
<div id="lst-ihre-pfeife" class="r cell-code listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-ihre-pfeife-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Listing&nbsp;4.4: Mariokart am Flie√üband: Die ‚ÄòPfeifen-Syntax‚Äô
</figcaption><div aria-describedby="lst-ihre-pfeife-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Hey R, nimm die Tabelle "mariokart":</span></span>
<span><span class="va">mariokart</span> <span class="op">%&gt;%</span>  </span>
<span>   <span class="co"># filter nur die g√ºnstigen Spiele:</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">total_pr</span> <span class="op">&lt;</span> <span class="fl">100</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="co"># w√§hle die zwei Spalten:</span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">cond</span>, <span class="va">total_pr</span><span class="op">)</span> <span class="op">%&gt;%</span>  </span>
<span>  <span class="co"># gruppiere die Tabelle nach Zustand des Spiels:</span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">cond</span><span class="op">)</span> <span class="op">%&gt;%</span>  </span>
<span>  <span class="co"># fasse beide Gruppen nach dem mittleren Preis zusammen:</span></span>
<span>  <span class="fu">summarise</span><span class="op">(</span>total_pr_mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">total_pr</span><span class="op">)</span><span class="op">)</span>  </span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</figure>
</div>
<div class="cell-output-display">
<div data-pagedtable="false"> <div class="table-caption"><p>Endprodukt einer Pfeifen-Syntax</p></div>
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cond"],"name":[1],"type":["fct"],"align":["left"]},{"label":["total_pr_mean"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"new","2":"54"},{"1":"used","2":"43"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[5],"max":[5]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Die Syntax <code>filter(mariokart, total_pr &lt; 100)</code> und die Syntax <code>mariokart |&gt; filter(total_pr &lt; 100)</code> sind identisch. Allgemeiner: <code>d |&gt; f(x)</code> = <code>f(d, x)</code>.</p>
<!-- TODO  -->
<!-- ## Praxisprobleme des Datenaufbereitens -->
<!-- ### Fehlende Werte  -->
<!-- ### Spalten umbenennen -->
<!-- ### Werte umkodieren -->
</section></section><section id="beispiele-f√ºr-forschungsfragen" class="level2" data-number="4.4"><h2 data-number="4.4" class="anchored" data-anchor-id="beispiele-f√ºr-forschungsfragen">
<span class="header-section-number">4.4</span> Beispiele f√ºr Forschungsfragen</h2>
<p>Bevor Sie die L√∂sungen der folgenden Fallbeispiele lesen, versuchen Sie die Aufgaben selbst zu l√∂sen. Ja, ich wei√ü, es ist hart, nicht gleich auf die L√∂sungen zu schauen!</p>
<div id="exr-fofrage1" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 4.14 (Das teuerste Spiel?)</strong></span> Sie arbeiten als strategischer Assistent der Gesch√§ftsf√ºhrerin und sind f√ºr Faktenchecks und andere Daten-Aufgaben zust√§ndig. Heute sollen Sie zeigen, was Sie k√∂nnen (Schluck).</p>
<blockquote class="blockquote">
<p><span>üë©</span> Ich w√ºrde von Ihnen gerne wissen, was das teuerste Spiel ist, aber jeweils f√ºr neue und gebrauchte Spiele. Aber nur f√ºr Spiele, die mit Foto verkauft wurden!</p>
</blockquote>
<p><strong>L√∂sung</strong></p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb28"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariokart</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">stock_photo</span> <span class="op">==</span> <span class="st">"yes"</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">cond</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>total_pr_max <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">total_pr</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["cond"],"name":[1],"type":["fct"],"align":["left"]},{"label":["total_pr_max"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"new","2":"75"},{"1":"used","2":"62"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[5],"max":[5]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Die Funktion <code>max</code> liefert den gr√∂√üten Wert eines Vektors zur√ºck:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">## [1] 10</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Das teuerste Spiel mit Foto kostet <code>75</code> Dollar, wenn es neu ist und <code>62</code>, wenn es gebraucht ist. <span class="math inline">\(\square\)</span></p>
</div>
<div id="exr-Forschungsfrage2" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 4.15 (Die mittlere Versandpauschale?)</strong></span> &nbsp;</p>
<blockquote class="blockquote">
<p><span>üë©</span> Ich w√ºrde gerne die mittlere Versandpauschale wissen, aber getrennt nach Anzahl der Lenkr√§der, die dem Spiel beigelegt sind. Und ich will nur Gruppen ber√ºcksichtigen, die aus mindestens 10 Spielen bestehen!</p>
</blockquote>
<p><strong>L√∂sung</strong></p>
<p>Wenn wir die Anzahl der Spiele z√§hlen in Abh√§ngigkeit der beigelegten Lenkr√§der (<code>wheels</code>), bekommen wir eine Tabelle mit zwei Spalten: <code>wheels</code> und <code>n</code>. <code>n</code> z√§hlt, wie viele Spiele (Zeilen) in der jeweiligen Gruppe (‚ÄúTeiltabelle‚Äù) von <code>wheels</code> sind.</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb30"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariokart</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">count</span><span class="op">(</span><span class="va">wheels</span><span class="op">)</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["wheels"],"name":[1],"type":["int"],"align":["right"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"0","2":"37"},{"1":"1","2":"52"},{"1":"2","2":"51"},{"1":"3","2":"2"},{"1":"4","2":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[5],"max":[5]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Aus dieser Tabelle sehen wir, dass 3 oder 4 Lenkr√§der nur selten (2 bzw. 1 Mal) beigelegt wurden und wir solche Spiele herausfiltern sollten, bevor wir den Mittelwert der Versandkosten ausrechnen:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb31"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariokart</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">wheels</span> <span class="op">&lt;</span> <span class="fl">3</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">wheels</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>mittlere_versandkosten <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">ship_pr</span><span class="op">)</span>,</span>
<span>            anzahl_spiele <span class="op">=</span> <span class="fu">n</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["wheels"],"name":[1],"type":["int"],"align":["right"]},{"label":["mittlere_versandkosten"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["anzahl_spiele"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"0","2":"2.7","3":"37"},{"1":"1","2":"3.6","3":"52"},{"1":"2","2":"2.9","3":"51"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[5],"max":[5]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Die Funktion <code>n</code> gibt die Anzahl der Zeilen pro Teiltabelle zur√ºck.</p>
<p>Die mittleren Versandkosten bewegen sich also zwischen 2.7 Dollar und 3.6 Dollar, je nach Anzahl der beigelegten Lenkr√§der. <span class="math inline">\(\square\)</span></p>
</div>
<div id="exr-Forschungsfrage3" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 4.16 (Verkaufspreis in Yen?)</strong></span> &nbsp;</p>
<blockquote class="blockquote">
<p><span>üë©</span> Ich w√ºrde gerne den Verkaufspreis in Yen wissen, nicht in Euro. Dann rechne mal den mittleren Verkaufspreis aus und ziehe 10 % ab, die wir als Provision unseren Verk√§ufern zahlen m√ºssen.</p>
</blockquote>
<p><strong>L√∂sung</strong></p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb32"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariokart</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">total_pr</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>total_pr_yen <span class="op">=</span> <span class="va">total_pr</span> <span class="op">*</span> <span class="fl">133</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span></span>
<span>    preis_yen_mw <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">total_pr_yen</span><span class="op">)</span>,</span>
<span>    preis_yen_mw_minus_10proz <span class="op">=</span> <span class="va">preis_yen_mw</span> <span class="op">-</span> <span class="fl">0.1</span><span class="op">*</span><span class="va">preis_yen_mw</span><span class="op">)</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["preis_yen_mw"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["preis_yen_mw_minus_10proz"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"6634","2":"5971"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[5],"max":[5]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Wie man sieht kann man in <code>summarise</code> auch mehr als eine Berechnung einstellen. In diesem Fall haben wir zwei Berechnungen angestellt: Einmal den Mittelwert und einmal den Mittelwert minus 10% (des Mittelwerts).</p>
</div>
<div id="exr-diy" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 4.17 (Do It Yourself)</strong></span> Denken Sie sich selber √§hnliche Forschungsfragen aus. Stellen Sie diese einer vertrauensw√ºrdigen Kommilitonen bzw. einem vertrauensw√ºrdigen Kommilitonen. DIY! Schauen Sie, ob Ihre Aufgabe richtig gel√∂st wird. Pr√ºfen Sie streng ‚Ä¶ <span class="math inline">\(\square\)</span></p>
</div>
</section><section id="praxisbezug" class="level2" data-number="4.5"><h2 data-number="4.5" class="anchored" data-anchor-id="praxisbezug">
<span class="header-section-number">4.5</span> Praxisbezug</h2>
<p>Die Covid19-Epidemie hatte weltweit massive Auswirkungen; auch psychologischer Art wie Vereinsamung, Angst oder Depression. <span class="citation" data-cites="mulukom_psychological_2020">Mulukom et al. (<a href="references.html#ref-mulukom_psychological_2020" role="doc-biblioref">2020</a>)</span> berichten eine Studie, die die psychologischen Auswirkungen untersucht; die Studie ist <a href="https://osf.io/tsjnb/">unter der Projekt-ID <em>tsjnb</em> bei der Open Science Foundation (OSF), &lt;https://osf.io/tsjnb/&gt;, angemeldet</a>. Die Daten wurden mit R ausgewertet. Beispielhaft ist unter <a href="https://osf.io/4b9p2" class="uri">https://osf.io/4b9p2</a> die R-Syntax zu sehen, die die Autoren zur Datenaufbereitung verwendet haben. Einen guten Teil dieser Syntax kennen Sie aus diesem Kapitel. Diese Studie ist, neben einigen vergleichbaren, ein sch√∂nes Beispiel, wie Forschung und Praxis ineinander greifen k√∂nnen: Angewandte Forschung als Beitrag zur L√∂sung eines akuten Problems, der Corona-Pandemie.</p>
</section><section id="wie-man-mit-statistik-l√ºgt" class="level2" data-number="4.6"><h2 data-number="4.6" class="anchored" data-anchor-id="wie-man-mit-statistik-l√ºgt">
<span class="header-section-number">4.6</span> Wie man mit Statistik l√ºgt</h2>
<p>Ein (leider) immer mal wieder zu beobachtender ‚ÄúTrick‚Äù, um Daten zu frisieren ist, nur die Daten zu berichten, die einem in den Kram passen.</p>
<div id="exm-luege-filter" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 4.11</strong></span> Eine Analystin <span>üë©</span> m√∂chte zeigen, dass der Verkaufspreis von Mariokart-Spielen ‚Äúviel zu niedrig‚Äù ist. Es muss ein h√∂herer Wert rauskommen, findet die Analystin. Der mittlere Verkaufspreis (im Datensatz <code>mariokart</code>) liegt bei 50 Euro.</p>
<blockquote class="blockquote">
<p><span>üë©</span> Kann man den Wert nicht ‚Ä¶ ‚Äúkreativ verbessern‚Äù? Ein paar Statistik-Tricks anwenden?</p>
</blockquote>
<p>Um dieses Ziel zu erreichen, teilt die Analystin den Datensatz in Gruppen nach Anzahl der dem Spiel beigelegten Lenkr√§der (<code>wheels</code>). Dann wird der Mittelwert pro Gruppe berechnet.</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb33"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariokart_wheels</span> <span class="op">&lt;-</span> </span>
<span><span class="va">mariokart</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">wheels</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>pr_mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">total_pr</span><span class="op">)</span>,</span>
<span>            count_n <span class="op">=</span> <span class="fu">n</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>  <span class="co"># `n` gibt die Anzahl der Zeilen pro Gruppe an</span></span>
<span></span>
<span><span class="va">mariokart_wheels</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["wheels"],"name":[1],"type":["int"],"align":["right"]},{"label":["pr_mean"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["count_n"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"0","2":"41","3":"37"},{"1":"1","2":"44","3":"52"},{"1":"2","2":"61","3":"51"},{"1":"3","2":"70","3":"2"},{"1":"4","2":"65","3":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[5],"max":[5]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Schlie√ülich berechnet unsere Analystin den <em>ungewichteten</em> Mittelwert √ºber diese 5 Gruppen:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb34"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariokart_wheels</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">pr_mean</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["mean(pr_mean)"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"56"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[5],"max":[5]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Und das Ergebnis lautet: 56 Euro! Das ist doch schon etwas ‚Äúbesser‚Äù als 50 Euro.</p>
<p>Nat√ºrlich ist es <em>falsch</em> und irref√ºhrend, hier einen ungewichteten Mittelwert zu berechnen. Der gewichtete Mittelwert w√ºrde wiederum zum korrekten Ergebnis, 50 Euro, f√ºhren. <span class="math inline">\(\square\)</span></p>
</div>
</section><section id="fallstudien" class="level2" data-number="4.7"><h2 data-number="4.7" class="anchored" data-anchor-id="fallstudien">
<span class="header-section-number">4.7</span> Fallstudien</h2>
<section id="die-pinguine" class="level3" data-number="4.7.1"><h3 data-number="4.7.1" class="anchored" data-anchor-id="die-pinguine">
<span class="header-section-number">4.7.1</span> Die Pinguine</h3>
<div id="fig-penguins" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-penguins-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="img/penguins.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10" title="Abbildung&nbsp;4.12: Possierlich: Die Pinguine [@horst_statistics_2024]"><img src="img/penguins.png" class="img-fluid figure-img" style="width:50.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-penguins-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;4.12: Possierlich: Die Pinguine <span class="citation" data-cites="horst_statistics_2024">(<a href="references.html#ref-horst_statistics_2024" role="doc-biblioref">Horst, 2024</a>)</span>
</figcaption></figure>
</div>
<div id="exr-peng-start" class="theorem exercise">
<p><span class="theorem-title"><strong>√úbungsaufgabe 4.18</strong></span> Machen Sie sich zun√§chst mit dem Pinguin-Datensatz vertraut. Sie finden den Datensatz <code>penguins</code> im R-Paket <code>palmerpenguins</code>, das Sie auf gewohnte Art installieren k√∂nnen (vgl. <a href="020-R.html#sec-r-pckgs" class="quarto-xref"><span>Kapitel 3.4</span></a>); im Internet findet man den Datensatz auch als CSV-Datei. Fokussieren Sie Ihre Analyse auf die Zielvariable <em>Gewicht</em>. <span class="math inline">\(\square\)</span></p>
</div>
<p>Die folgende Datenapp erm√∂glicht Ihnen, die Verteilung des K√∂rpergewichts zu betrachten, wobei sie die Pinguin-Spezies filtern k√∂nnen sowie eine Mindestl√§nge des Schnabels verlangen k√∂nnen.</p>
<div class="cell panel-input card bg-light p-2">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb35" data-startfrom="1452" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1451;"><span id="cb35-1452"><a href="#cb35-1452" aria-hidden="true" tabindex="-1"></a>viewof bill_length_min <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>(</span>
<span id="cb35-1453"><a href="#cb35-1453" aria-hidden="true" tabindex="-1"></a>  [<span class="dv">32</span><span class="op">,</span> <span class="dv">50</span>]<span class="op">,</span> </span>
<span id="cb35-1454"><a href="#cb35-1454" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">value</span><span class="op">:</span> <span class="dv">35</span><span class="op">,</span> <span class="dt">step</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Bill length (min):"</span>}</span>
<span id="cb35-1455"><a href="#cb35-1455" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb35-1456"><a href="#cb35-1456" aria-hidden="true" tabindex="-1"></a>viewof islands <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">checkbox</span>(</span>
<span id="cb35-1457"><a href="#cb35-1457" aria-hidden="true" tabindex="-1"></a>  [<span class="st">"Torgersen"</span><span class="op">,</span> <span class="st">"Biscoe"</span><span class="op">,</span> <span class="st">"Dream"</span>]<span class="op">,</span> </span>
<span id="cb35-1458"><a href="#cb35-1458" aria-hidden="true" tabindex="-1"></a>  { <span class="dt">value</span><span class="op">:</span> [<span class="st">"Torgersen"</span><span class="op">,</span> <span class="st">"Biscoe"</span>]<span class="op">,</span> </span>
<span id="cb35-1459"><a href="#cb35-1459" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"Islands:"</span></span>
<span id="cb35-1460"><a href="#cb35-1460" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb35-1461"><a href="#cb35-1461" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-2" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true" href="">Plot</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false" href="">Data</a></li>
</ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb36" data-startfrom="1469" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1468;"><span id="cb36-1469"><a href="#cb36-1469" aria-hidden="true" tabindex="-1"></a>Plot<span class="op">.</span><span class="fu">rectY</span>(filtered<span class="op">,</span> </span>
<span id="cb36-1470"><a href="#cb36-1470" aria-hidden="true" tabindex="-1"></a>  Plot<span class="op">.</span><span class="fu">binX</span>(</span>
<span id="cb36-1471"><a href="#cb36-1471" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">y</span><span class="op">:</span> <span class="st">"count"</span>}<span class="op">,</span> </span>
<span id="cb36-1472"><a href="#cb36-1472" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">x</span><span class="op">:</span> <span class="st">"body_mass_g"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"species"</span><span class="op">,</span> <span class="dt">thresholds</span><span class="op">:</span> <span class="dv">20</span>}</span>
<span id="cb36-1473"><a href="#cb36-1473" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb36-1474"><a href="#cb36-1474" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb36-1475"><a href="#cb36-1475" aria-hidden="true" tabindex="-1"></a>    <span class="dt">facet</span><span class="op">:</span> {</span>
<span id="cb36-1476"><a href="#cb36-1476" aria-hidden="true" tabindex="-1"></a>      <span class="dt">data</span><span class="op">:</span> filtered<span class="op">,</span></span>
<span id="cb36-1477"><a href="#cb36-1477" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> <span class="st">"sex"</span><span class="op">,</span></span>
<span id="cb36-1478"><a href="#cb36-1478" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> <span class="st">"species"</span><span class="op">,</span></span>
<span id="cb36-1479"><a href="#cb36-1479" aria-hidden="true" tabindex="-1"></a>      <span class="dt">marginRight</span><span class="op">:</span> <span class="dv">80</span></span>
<span id="cb36-1480"><a href="#cb36-1480" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb36-1481"><a href="#cb36-1481" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb36-1482"><a href="#cb36-1482" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">frame</span>()<span class="op">,</span></span>
<span id="cb36-1483"><a href="#cb36-1483" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb36-1484"><a href="#cb36-1484" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb36-1485"><a href="#cb36-1485" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-2" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb37" data-startfrom="1492" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1491;"><span id="cb37-1492"><a href="#cb37-1492" aria-hidden="true" tabindex="-1"></a>Inputs<span class="op">.</span><span class="fu">table</span>(filtered)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-3" data-nodetype="expression">

</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb38" data-startfrom="1499" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1498;"><span id="cb38-1499"><a href="#cb38-1499" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> <span class="fu">FileAttachment</span>(<span class="st">"data/penguins.csv"</span>)<span class="op">.</span><span class="fu">csv</span>({ <span class="dt">typed</span><span class="op">:</span> <span class="kw">true</span> })</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb39" data-startfrom="1504" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1503;"><span id="cb39-1504"><a href="#cb39-1504" aria-hidden="true" tabindex="-1"></a>filtered <span class="op">=</span> data<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(penguin) {</span>
<span id="cb39-1505"><a href="#cb39-1505" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> bill_length_min <span class="op">&lt;</span> penguin<span class="op">.</span><span class="at">bill_length_mm</span> <span class="op">&amp;&amp;</span></span>
<span id="cb39-1506"><a href="#cb39-1506" aria-hidden="true" tabindex="-1"></a>         islands<span class="op">.</span><span class="fu">includes</span>(penguin<span class="op">.</span><span class="at">island</span>)<span class="op">;</span></span>
<span id="cb39-1507"><a href="#cb39-1507" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-5" data-nodetype="declaration">

</div>
</div>
</div>
<p>Bearbeiten Sie die <a href="https://allisonhorst.shinyapps.io/dplyr-learnr/#section-welcome">Fallstudie zu Pinguinen</a> von Allison Horst. Sie k√∂nnen die Teile auslassen, die Themen beinhalten, die <em>nicht</em> in diesem Kapitel vorgestellt wurden.</p>
<p>Forschungsfragen:</p>
<ol type="1">
<li>Was ist das mediane Gewicht von Pinguinen, gruppiert nach Spezies und nach Gewicht?</li>
<li>Wie viele Pinguine gibt es pro Spezies?</li>
<li>Wie viel wiegt der schwerste und der leichteste Pinguin pro Spezies?</li>
</ol></section><section id="fallstudie-covidistress" class="level3" data-number="4.7.2"><h3 data-number="4.7.2" class="anchored" data-anchor-id="fallstudie-covidistress">
<span class="header-section-number">4.7.2</span> Fallstudie COVIDiSTRESS</h3>
<!-- [Diese Fallstudie](https://sebastiansauer.github.io/Fallstudie_Flights/) hat die Analyse von Flugversp√§tungen zum Thema. -->
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="img/Covidistress1.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-11" title="Studie COVIDiSTTRESS [@lieberoth2022]"><img src="img/Covidistress1.jpg" class="img-fluid figure-img" style="width:50.0%" alt="Studie COVIDiSTTRESS (Lieberoth et al., 2022)"></a></p>
<figcaption>Studie COVIDiSTTRESS <span class="citation" data-cites="lieberoth2022">(<a href="references.html#ref-lieberoth2022" role="doc-biblioref">Lieberoth et al., 2022</a>)</span></figcaption></figure>
</div>
<p>Lesen Sie die Beschreibung der Studie COVIDiSTRESS <span class="citation" data-cites="lieberoth2022">(<a href="references.html#ref-lieberoth2022" role="doc-biblioref">Lieberoth et al., 2022</a>)</span>. Hier ist ein Abstract:</p>
<blockquote class="blockquote">
<p>The COVIDiSTRESS global survey is an international collaborative undertaking for data gathering on human experiences, behavior and attitudes during the COVID-19 pandemic. In particular, the survey focuses on psychological stress, compliance with behavioral guidelines to slow the spread of Coronavirus, and trust in governmental institutions and their preventive measures, but multiple further items and scales are included for descriptive statistics, further analysis and comparative mapping between participating countries. Round one data collection was concluded May 30. 2020. To gather comparable data swiftly from across the globe, when the Coronavirus started making a critical impact on societies and individuals, the collaboration and survey was constructed as an urgent collaborative process. Individual contributors and groups in the COVIDiSTRESS network (see below) conducted translations to each language and shared online links by their own best means in each country.</p>
</blockquote>
<p><a href="https://osf.io/z39us/files/osfstorage">Die Daten</a> stehen unter <a href="https://osf.io/z39us" class="uri">https://osf.io/z39us</a> zur freien Verf√ºgung. Sie k√∂nnen diese echten Daten eigenst√§ndig analysieren.</p>
<p><a href="https://osf.io/z39us/files/osfstorage/5f20b69732080501f5156b02">Diese Datei</a> beinhaltet die finalen, aufbereiteten Daten. Achtung: Die Datei ist recht gro√ü, ca. 90 MB.</p>
</section></section><section id="quiz" class="level2" data-number="4.8"><h2 data-number="4.8" class="anchored" data-anchor-id="quiz">
<span class="header-section-number">4.8</span> Quiz</h2>
</section><section id="aufgaben" class="level2" data-number="4.9"><h2 data-number="4.9" class="anchored" data-anchor-id="aufgaben">
<span class="header-section-number">4.9</span> Aufgaben</h2>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tipp</span>ChatGPT
</div>
</div>
<div class="callout-body-container callout-body">
<p>Nutzen Sie einen Chat-Bot wie ChatGPT, um sich Hilfe f√ºr die R-Syntax geben zu lassen.</p>
</div>
</div>
<p>Die Webseite <a href="https://datenwerk.netlify.app">datenwerk.netlify.app</a> stellt eine Reihe von einschl√§gigen √úbungsaufgaben bereit. Sie k√∂nnen die Suchfunktion der Webseite nutzen, um die Aufgaben mit den folgenden Namen zu suchen:</p>
<ol type="1">
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/wrangle3/wrangle3.html">wrangle3</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/wrangle4/wrangle4.html">wrangle4</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/wrangle5/wrangle5.html">wrangle5</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/wrangle7/wrangle7.html">wrangle7</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/wrangle9/wrangle9.html">wrangle9</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/wrangle10/wrangle10.html">wrangle10</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/tidydata1/tidydata1.html">tidydata1</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/affairs-dplyr/affairs-dplyr.html">affairs-dplyr</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/dplyr-uebersetzen/dplyr-uebersetzen.html">dplyr-uebersetzen</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/haeufigkeit01/haeufigkeit01.html">haeufigkeit01</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/mariokart-mean1/mariokart-mean1.html">mariokart-mean1</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/mariokart-mean2/mariokart-mean2.html">mariokart-mean2</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/mariokart-mean3/mariokart-mean3.html">mariokart-mean3</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/mariokart-mean4/mariokart-mean4.html">mariokart-mean4</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/mariokart-max1/mariokart-max1.html">mariokart-max1</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/mariokart-max2/mariokart-max2.html">mariokart-max2</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/filter01/filter01.html">filter01</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/affairs-dplyr/affairs-dplyr.html">affairs-dplyr</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/summarise01/summarise01.html">summarise01</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/summarise02/summarise02.html">summarise02</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/mutate01/mutate01.html">mutate01</a></li>
<li><a href="https://sebastiansauer.github.io/Datenwerk/posts/wrangle3/wrangle3">wrangle3</a></li>
</ol></section><section id="vertiefung" class="level2" data-number="4.10"><h2 data-number="4.10" class="anchored" data-anchor-id="vertiefung">
<span class="header-section-number">4.10</span> Vertiefung</h2>
<section id="fortgeschrittenes-r" class="level3" data-number="4.10.1"><h3 data-number="4.10.1" class="anchored" data-anchor-id="fortgeschrittenes-r">
<span class="header-section-number">4.10.1</span> Fortgeschrittenes R</h3>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>In weiterf√ºhrendem Material werden Sie immer wieder auf Inhalte treffen, die Sie noch nicht kennen, die etwa noch nicht im Unterricht behandelt wurden. Seien Sie unbesorgt: In der Regel k√∂nnen Sie diese Inhalte einfach auslassen, ohne den Anschluss zu verlieren. Einfach ignorieren.</p>
</div>
</div>
<p>H√§ufig ist es n√ºtzlich, die Werte einer Variablen umzukodieren, z.<span class="math inline">\(\,\)</span>B. ‚Äúweiblich‚Äù in ‚Äúw‚Äù oder in <code>0</code>. Eine gute M√∂glichkeit, dies in R umzusetzen, bietet der Befehl <code>case_when</code>; der Befehl wohnt im Tidyverse.<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a> Im Datenwerk finden Sie dazu √úbungen, etwa <a href="https://sebastiansauer.github.io/Datenwerk/posts/mutate03/mutate03.html">mutate03</a>.</p>
</section><section id="sec-erbie" class="level3" data-number="4.10.2"><h3 data-number="4.10.2" class="anchored" data-anchor-id="sec-erbie">
<span class="header-section-number">4.10.2</span> Hilfe?! Erbie!</h3>
<p>R will nicht, so wie Sie wollen? Sie haben das Gef√ºhl, R verweigert st√∂rrisch den Dienst, vermutlich rein aus Boshaftigkeit, rein um Sie zu √§rgern? Ausf√ºhrliches Googeln und ChatGPT befragen hat keine L√∂sung gebracht? Kurz, Sie brauchen die Hilfe eines kundigen Menschens? <a href="https://data-se.netlify.app/2022/01/31/erbie-einfache-reproduzierbare-beispiele-ihres-problems-mit-r-syntax/">Sie sollten Ihren Hilfeschrei so artikulieren</a>, dass er nicht nur geh√∂rt, sondern auch verstanden wird und einen anderen Menschen veranlasst und erm√∂glicht, Ihnen zu helfen.</p>
<p>Also: Sie m√ºssen Ihr Problem nachvollziehbar, aber pr√§gnant formulieren. Das nennt man auch ein <em>ERBie</em>: ein <em>einfaches, reproduzierbares Beispiel</em> Ihres Problems mit (R-)Syntax:</p>
<ul>
<li>
<em>einfach</em>: die einfachste Syntax, die Ihr Problem bzw. die Fehlermeldung produziert. Es bietet sich an, einen einfachen, allgemein bekannten Datensatz zu verwenden, etwa <code>mtcars</code>
</li>
<li>
<em>reproduzierbar</em>: Code (z.<span class="math inline">\(\,\)</span>B. als Textdatei oder in einem Post), der die Fehlermeldung entstehen l√§sst</li>
</ul>
<div id="exm-erbie" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 4.12 (Beispiel f√ºr ein Erbie)</strong></span> <em>Problem:</em> Ich verstehe nicht, warum folgende Fehlermeldung kommt.</p>
<p><em>Ziel:</em> Ich m√∂chte die Automatikautos filtern (am = 0).</p>
<p><em>Was ich schon versucht habe:</em> Ich habe folgende Posts gelesen ‚Ä¶, aber ohne Erfolg.</p>
<p><em>Erbie</em>:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb40"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>  <span class="co"># nicht "tidyverse", denn "dplyr" reicht</span></span>
<span></span>
<span><span class="va">mtcars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span>am <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>  <span class="co"># den k√ºrzesten Code, der Ihren Fehler entstehen l√§sst!</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html">sessionInfo</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># gibt Infos zur R-Version etc. aus</span></span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<pre><code>Error in `filter()`</code></pre>
<p>Mit dem Paket <code>reprex</code> kann man sich R-Syntax sch√∂n formuliert ausgeben lassen. Das ist perfekt, um den Code dann in einem Forum (oder Mail) einzustellen. Daf√ºr m√ºssen Sie nur den Code ausw√§hlen, <code>Strg-c</code> dr√ºcken und dann <code><a href="https://reprex.tidyverse.org/reference/reprex.html">reprex::reprex</a></code> ausf√ºhren. Mit <code>Strg-v</code> k√∂nnen Sie die sch√∂n formatierte Syntax (sowie die Ausgabe, auch sch√∂n formatiert) dann irgendwohin pasten.</p>
</div>
<center>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="img/help-me-help-you.gif" class="lightbox" data-gallery="quarto-lightbox-gallery-12" title="Help me help you [@imgflip_helpme]"><img src="img/help-me-help-you.gif" class="img-fluid figure-img" style="width:50.0%" alt="Help me help you (imgflip, 2024b)"></a></p>
<figcaption>Help me help you <span class="citation" data-cites="imgflip_helpme">(<a href="references.html#ref-imgflip_helpme" role="doc-biblioref">imgflip, 2024b</a>)</span></figcaption></figure>
</div>
</center>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tipp
</div>
</div>
<div class="callout-body-container callout-body">
<div class="quarto-layout-panel" data-layout="[ 80, 20 ]">
<div class="quarto-layout-row">
<div id="first-column" class="quarto-layout-cell" style="flex-basis: 80.0%;justify-content: flex-start;">
<p>Posten Sie Ihr Erbie bei <a href="https://gist.github.com/" class="uri">https://gist.github.com/</a> als ‚Äúpublic gist‚Äù. <a href="https://gist.github.com/sebastiansauer/0649a0453b5cc7c6a1d16ac760667215">Hier</a> ist ein Beispiel.</p>
</div>
<div id="second-column" class="quarto-layout-cell" style="flex-basis: 20.0%;justify-content: flex-start;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="030-aufbereiten_files/figure-html/unnamed-chunk-45-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img src="030-aufbereiten_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:75.0%"></a></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section id="zertifikate-und-online-kurse" class="level3" data-number="4.10.3"><h3 data-number="4.10.3" class="anchored" data-anchor-id="zertifikate-und-online-kurse">
<span class="header-section-number">4.10.3</span> Zertifikate und Online-Kurse</h3>
<p>Sie k√∂nnen zu den Inhalten dieses Kapitels Zertifikate erwerben (teilweise kostenlos), indem Sie einen Online-Kurs absolvieren, bei z.<span class="math inline">\(\,\)</span>B. folgenden Anbietern ‚Äì Das ist keine Werbung f√ºr spezifische Anbieter und kein umfassender √úberblick und keine Kaufempfehlung.</p>
<ul>
<li><a href="https://www.linkedin.com/learning/search?keywords=R">LinkedIn: R Courses</a></li>
<li><a href="https://www.coursera.org/learn/data-analysis-r#modules">Google/Coursera: Data Analysis with R Programming</a></li>
<li><a href="https://www.coursera.org/specializations/statistics">Duke University/Coursera: Data Analysis with R Specialization</a></li>
</ul></section></section><section id="exkurs" class="level2" data-number="4.11"><h2 data-number="4.11" class="anchored" data-anchor-id="exkurs">
<span class="header-section-number">4.11</span> Exkurs</h2>
<p><a href="https://openai.com/dall-e-2/">Dall-E 2</a> ist eine KI, die ‚Äúrealistische Bilder und Kunst aus einer Beschreibung in nat√ºrlicher Sprache‚Äù erstellt.</p>
<blockquote class="blockquote">
<p><span>üë®‚Äçüè´</span> I‚Äôd like a mixture between robot und professor, in oil painting</p>
</blockquote>
<blockquote class="blockquote">
<p><span>ü§ñ</span> ‚Ä¶ s. <a href="#fig-mix-rob-prof" class="quarto-xref">Abbildung&nbsp;<span>4.13</span></a></p>
</blockquote>
<div id="fig-mix-rob-prof" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-mix-rob-prof-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="img/mix-prof-robot.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14" title="Abbildung&nbsp;4.13: Bild erzeugt von k√ºnstlicher Intelligenz, Quelle: DALL-E 2, 2023-02-09"><img src="img/mix-prof-robot.png" class="img-fluid figure-img" style="width:50.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-mix-rob-prof-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;4.13: Bild erzeugt von k√ºnstlicher Intelligenz, Quelle: DALL-E 2, 2023-02-09
</figcaption></figure>
</div>
<p>Der Nutzen k√ºnstlicher Intelligenz f√ºr die Datenanalyse ist nat√ºrlich breiter: Wenn Sie sich z.<span class="math inline">\(\,\)</span>B. √ºber die Syntax eines bestimmten Befehls (oder allgemeiner: Vorhabens) nicht sicher sind, fragen Sie sich doch mal einen Bot wie ChatGPT.</p>
</section><section id="literaturhinweise" class="level2" data-number="4.12"><h2 data-number="4.12" class="anchored" data-anchor-id="literaturhinweise">
<span class="header-section-number">4.12</span> Literaturhinweise</h2>
<p><span class="citation" data-cites="sauer_moderne_2019">Sauer (<a href="references.html#ref-sauer_moderne_2019" role="doc-biblioref">2019</a>)</span>, Kap. 7, gibt eine Einf√ºhrung in die Datenaufbereitung (mit Hilfe von R), √§hnlich zu den Inhalten dieses Kapitels. Mehr in die Tiefe des ‚ÄúDatenjudo‚Äù f√ºhren; der Autor Hadley Wickham ist in der R-Community sehr bekannt. Er ist einer der Hauptautoren von beliebten R-Paketen wie <code>dplyr</code> und <code>ggplot2</code>. <span class="citation" data-cites="wickham_r_2018">Wickham &amp; Grolemund (<a href="references.html#ref-wickham_r_2018" role="doc-biblioref">2018</a>)</span> Kap. 5 behandeln (etwas ausf√ºhrlicher) die Themen dieses Kapitels.</p>
<p>Wer sich tiefer in das Datenjudo mit dem Tidyverse einarbeiten m√∂chte, dem sei z.<span class="math inline">\(\,\)</span>B. dieser <a href="https://www.datacamp.com/courses/introduction-to-the-tidyverse">Kurs</a> empfohlen.</p>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list" style="display: none">
<div id="ref-bowne-anderson_what_2018" class="csl-entry" role="listitem">
Bowne-Anderson, H. (2018). What <span>Data Scientists Really Do</span>, <span>According</span> to 35 <span>Data Scientists</span>. <em>Harvard Business Review</em>. <a href="https://hbr.org/2018/08/what-data-scientists-really-do-according-to-35-data-scientists">https://hbr.org/2018/08/what-data-scientists-really-do-according-to-35-data-scientists</a>
</div>
<div id="ref-horst_statistics_2024" class="csl-entry" role="listitem">
Horst, A. (2024). <em>Statistics <span>Artwork</span></em> [Artwork]. <a href="https://allisonhorst.com/">https://allisonhorst.com/</a>
</div>
<div id="ref-imgflip_simply" class="csl-entry" role="listitem">
imgflip. (2024a). <em>Imageflip <span>One does not simply</span></em> [Artwork]. <a href="https://imgflip.com">https://imgflip.com</a>
</div>
<div id="ref-imgflip_helpme" class="csl-entry" role="listitem">
imgflip. (2024b). <em>Imageflip <span>Tom Cruise Meme</span></em> [Artwork]. <a href="https://imgflip.com">https://imgflip.com</a>
</div>
<div id="ref-lieberoth2022" class="csl-entry" role="listitem">
Lieberoth, A., Rasmussen, J., Stoeckli, S., Tran, T., ƒÜepuliƒá, D.-B., Han, H., Lin, S.-Y., Tuominen, J., Travaglino, G., &amp; Vestergren, S. (2022). <em><span>COVIDiSTRESS</span> Global Survey</em>. <a href="https://doi.org/10.17605/OSF.IO/Z39US">https://doi.org/10.17605/OSF.IO/Z39US</a>
</div>
<div id="ref-m72004" class="csl-entry" role="listitem">
M7. (2004). <em>Savinelli‚Äôs <span>Italian</span> Smoking Pipe</em> [Artwork]. <a href="https://commons.wikimedia.org/wiki/File:Pipa_savinelli.jpg">https://commons.wikimedia.org/wiki/File:Pipa_savinelli.jpg</a>
</div>
<div id="ref-mulukom_psychological_2020" class="csl-entry" role="listitem">
Mulukom, V. van, Muzzulini, B., Rutjens, B., Lissa, C. J. van, &amp; Farias, M. (2020). <em>Psychological Impact of <span>COVID-19</span> Pandemic</em>. <a href="https://doi.org/10.17605/OSF.IO/TSJNB">https://doi.org/10.17605/OSF.IO/TSJNB</a>
</div>
<div id="ref-sauer_moderne_2019" class="csl-entry" role="listitem">
Sauer, S. (2019). <em>Moderne Datenanalyse mit R: Daten einlesen, aufbereiten, visualisieren und modellieren</em>. Springer. <a href="https://www.springer.com/de/book/9783658215866">https://www.springer.com/de/book/9783658215866</a>
</div>
<div id="ref-wickham_r_2018" class="csl-entry" role="listitem">
Wickham, H., &amp; Grolemund, G. (2018). <em>R f√ºr Data Science: Daten importieren, bereinigen, umformen, modellieren und visualisieren</em> (F. Langenau, √úbers.). O‚ÄôReilly. <a href="https://r4ds.had.co.nz/index.html">https://r4ds.had.co.nz/index.html</a>
</div>
</div>
</section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><hr>
<ol>
<li id="fn1"><p>Quelle: ChatGTP 3.5, 2023-02-09<a href="#fnref1" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn2"><p><code>select(mariokart, total_pr, cond, 2)</code><a href="#fnref2" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn3"><p><a href="https://tidyr.tidyverse.org/reference/tidyr_tidy_select.html" class="uri">https://tidyr.tidyverse.org/reference/tidyr_tidy_select.html</a><a href="#fnref3" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn4"><p><code>summarise(mariokart, hoechster_preis = max(total_pr))</code><a href="#fnref4" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn5"><p><code>summarise(mariokart, mw_versand = mean(total_pr))</code><a href="#fnref5" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn6"><p><code>count(mariokart, stock_photo)</code><a href="#fnref6" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn7"><p><code>count(mariokart, stock_photo, cond)</code><a href="#fnref7" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn8"><p><a href="https://tidydatatutor.com" class="uri">https://tidydatatutor.com</a><a href="#fnref8" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn9"><p>Genauer gesagt im Paket <code>magrittr</code>, welches aber von <code>tidyverse</code> geladen wird. Also nichts, um das Sie sich k√ºmmern m√ºssten.<a href="#fnref9" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn10"><p><a href="https://www.statology.org/dplyr-case_when/" class="uri">https://www.statology.org/dplyr-case_when/</a><a href="#fnref10" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
</ol></section></main><!-- /main --><script>

/* definition of content for the buttons */
const webex_buttons = {check_hidden:          "<b>&check;</b>",
                       check_hidden_alt:      "Check answer",
                       check_shown:           "<b>&lsh;</b>",
                       check_shown_alt:       "Hide check",
                       check_of_total:        "/",
                       solution:              "<b>&quest;</b>",
                       solution_alt:          "Correct solution",
                       question_next:         "<b>&#8634;</b>",
                       question_next_alt:     "Next question",
                       question_previous:     "",
                       question_previous_alt: ""}


/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  document.querySelectorAll(".webex-total_correct").forEach(total => {
    p = total.closest(".webex-box");
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;
    /* no specific class on input node, thus searching via query selector */
    var checkboxgroups = p.querySelectorAll("div[class=webex-checkboxgroup] input[type=checkbox]").length

    /* show number of correct / total number of answers */
    total.innerHTML = correct + "&nbsp;" + webex_buttons.check_of_total + "&nbsp;" + (solvemes + radiogroups + checkboxgroups + selects);
  });
}

/* check answers */
check_func = function() {
  console.log("webex: check answer");

  //var cl = elem.parentElement.classList;
  var cl = this.closest(".webex-box").classList;
  if (cl.contains("unchecked")) {
    cl.remove("unchecked");
    this.innerHTML = webex_buttons.check_shown; //"Hide check";
    if (webex_buttons.check_shown_alt.length > 0) this.setAttribute("title", webex_buttons.check_shown_alt);
  } else {
    cl.add("unchecked");
    this.innerHTML = webex_buttons.check_hidden; //"Check answer";
    if (webex_buttons.check_hidden_alt.length > 0) this.setAttribute("title", webex_buttons.check_hidden_alt);
  }
}

/* helper functions for checking the webex ID */
const id_checker = {"fmt": new RegExp("[g-zG-Z]"),
                    "load": function(e) { return e.getAttribute("id").match("(?<=(-)).*$")[0]; },
                    "eval": new TextEncoder(),
                    "dval": new TextDecoder()}

/* Show/hide correct solution */
solution_func = function() {
  console.log("webex: show/hide solution");

  var div = this.closest(".webex-question").querySelector(".webex-solution");
  var cl = div.classList;

  if (cl.contains("visible")) {
    cl.remove("visible");
  } else {
    cl.add("visible");
  }
}

/* function to check if the real answer is numeric */
convert_to_numeric = function(x) {
  if (typeof x == "string") {
    /* do nothing */
  } else if (x.length == 1) {
    /* take first element */
    x = x[0]
  } else {
    return NaN;
  }

  /* remove spaces for easier parsing */
  x = x.replace(/\s/g, "");

  /* Define patterns for different formats, note that spaces have been removed above */
  const patterns = [
    {regex: /^[+-]?\d+(\.\d{3})*,\d+$/, decimal: ",", thousand: "." },  // Format: "1.100.100.100,3"
    {regex: /^[+-]?\d+(,\d{3})*\.\d+$/, decimal: ".", thousand: "," },  // Format: "1,100,100,100.3"
    {regex: /^[+-]?\d+(\.|\.\d+)?$/, decimal: "." },                    // Format: "1100100100.5" or "1100100100."
    {regex: /^[+-]?\d+(,|,\d+)$/, decimal: "," }                        // Format: "1100100100,5" or "1100100100,"
  ];


  /* testing all regular expressions, convert to float if possible */
  for (const { regex, decimal, thousand } of patterns) {
    if (regex.test(x)) {
      let numeric = x;
      if (thousand) numeric = numeric.replace(new RegExp(`\\${thousand}`, "g"), "");
      numeric = numeric.replace(decimal, ".");
      return parseFloat(numeric);
    }
  }

  /* input of length 1 but none of the known formats, return NaN */
  return NaN;
}

/* Checking webex ID, returns formalsol */
check_id = function(e) {
  /* loading webex ID */
  var id = id_checker["load"](e);

  /* extracting answer */
  let answer = e.dataset.answer;

  /* checking unique id, prepare and return array */
  if (!id_checker["fmt"].test(id)) {
    const a = id_checker["eval"].encode(atob(answer));
    const b = id_checker["eval"].encode(id);
    const res = a.map((byte, index) => byte^b[index % b.length]);
    answer = id_checker["dval"].decode(res);
    /* Replacing &amp; with ' before parsing */
    answer = answer.replaceAll("&apos;", "'");
  }

  return JSON.parse(answer);
}

/* function for checking solveme answers */
solveme_func = function(e) {
  /* avoid that keyup and keychange twice execute this function within nms = 10
   * ms, clearing inputTimer and add timeout */
  console.log("webex: check solveme");

  /* float, precision for checking numeric answers */
  const eps = 0.00000000000001;

  /* get last checked user answer */
  const question = this.closest(".webex-question")

  /* extracting classes */
  var cl = this.classList;
  var my_answer = this.value;

  /* extracting classes */
  var cl = this.classList;

  /* empty answer? Job done */
  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
    return false;
  }

  /* Find closest (parent) webex-question */
  let formalsols = check_id(this)

  /* by default we assume the users' answer is incorrect */
  var user_answer_correct = false;

  /* check if the correct answer is numeric, i.e. if 
   * formalsols is of length 1 containing one single numeric
   * value in a known format, else, NaN is returned */
  const num_formalsol = convert_to_numeric(formalsols);
  const num_my_answer = convert_to_numeric(my_answer);

  /* if the correct answer is numeric (float), the user's answer
   * must also be numeric. If not, it is wrong. Else we can
   * compare floating point numbers */
  if (!isNaN(num_formalsol) && !isNaN(num_my_answer)) {
    /* check if the real answer and the user input are numerically the same;
     * adding 'delta' to avoid precision issues */
    var diff = Math.abs(num_formalsol - num_my_answer);
    if (diff < parseFloat(this.dataset.tol) + eps) { user_answer_correct = true; }

  /* if the question contains regex, a regular expression is used
   * to evaluate the users answer. Allows for multiple regular expressions */
  } else if (cl.contains("regex")) {
    for (let i = 0; i < formalsols.length; i++) {
        let regex = new RegExp(formalsols[i], cl.contains("ignorecase") ? "i" : "");
        if (regex.test(my_answer)) { user_answer_correct = true; break; }
    }

  /* else we evaluate on 'string level', considering the creators preferences
   * regarding set options */
  } else {
    /* modify/prepare answer */
    if (cl.contains("ignorecase")) { my_answer = my_answer.toLowerCase(); }
    if (cl.contains("nospaces"))   { my_answer = my_answer.replace(/ /g, ""); }

    /* if the real answer includes user input - correct */
    if (formalsols.includes(my_answer)) {
      user_answer_correct = true;
  
      // added regex bit
      if (cl.contains("regex")) {
        answer_regex = RegExp(formalsols.join("|"))
        if (answer_regex.test(my_answer)) {
          cl.add("webex-correct");
        }
      }
    }
  }

  if (user_answer_correct) {
      cl.add("webex-correct");
      cl.remove("webex-incorrect");
  } else {
      cl.add("webex-incorrect");
      cl.remove("webex-correct");
  }

  update_total_correct();

}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var options   = [];
  Array.from(this.querySelectorAll("option")).forEach((option, index) => {
    if (!option.hasAttribute("value") || !option.getAttribute("value") === "blank") {
      options.push(option);
    }
  });

  /* get selected option */
  function get_selected(options) { return options.findIndex(option => option.selected); }
  var option_index = get_selected(options)

  /* loading webex ID */
  var formalsol = check_id(this)

  /* add class for current selection */
  this.classList.remove("webex-incorrect");
  this.classList.remove("webex-correct");
  if (option_index >= 0) {
    this.classList.add(formalsol[option_index] === 1 ? "webex-correct" : "webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  /* get real answer (binary integer array) */
  var id = e.target.getAttribute("name");
  var group = document.querySelector(".webex-radiogroup[id='webex-" + id + "']");
  var formalsol = check_id(group)

  /* check which radiobuttion is selected (user answer) */
  function get_checked(radios) {
    return radios.findIndex(radios => radios.checked);
  }
  var radios = Array.from(group.querySelectorAll("input[type='radio']"))
  var radio_index = get_checked(radios);

  /* remove existing classes */
  radios.forEach(radio => {
    let cl = radio.closest("label").classList
    cl.remove("webex-incorrect");
    cl.remove("webex-correct");
  });

  /* add class for current selection */
  let cl = radios[radio_index].closest("label").classList
  if (formalsol[radio_index] === 1) {
      cl.add("webex-correct");
  } else {
      cl.add("webex-incorrect");
  }

  update_total_correct();
}


/* function for checking checkboxgroups answers */
checkboxgroups_func = function(e) {
  console.log("webex: check checkboxgroups");

  /* get real answer (binary integer array) */
  var group = document.querySelector(".webex-checkboxgroup[id='" + this.id + "']");
  var formalsol = check_id(group);

  /* check which checkbox is checked (user answer) */
  function get_checked(group) {
      const checkboxes = Array.from(group.querySelectorAll("input[type='checkbox']"));
      return checkboxes.reduce((indices, checkbox, index) => {
          if (checkbox.checked) indices.push(index);
          return indices;
      }, []);
  }
  var checks = Array.from(group.querySelectorAll("input[type='checkbox']"));
  var check_index = get_checked(group);

  checks.forEach((e, index) => {
    var label = e.parentNode;
    var ans = formalsol[index];
    if ((e.checked && ans === 1) || (!e.checked && ans === 0)) {
        label.setAttribute("class", "webex-correct")
    } else {
        label.setAttribute("class", "webex-incorrect")
    }
  });

  update_total_correct();
}

/* shuffling array (thanks to stack overflow)
 * If argument x is an integer we create an integer sequence
 * from 0, 1, ..., (x - 1) and return a shuffled version. If
 * the input is an array, we simply shuffle it */
shuffle_array = function(x) {
   if (Number.isInteger(x) && !isNaN(x)) {
     x = Array.from({length: x}, (v, i) => i);
   }
   let shuffled = x.map(value => ({ value, sort: Math.random() }))
        .sort((a, b) => a.sort - b.sort).map(({ value }) => value)
   return shuffled;
}

/* ---------------------------------------------------------
 * ---------------------------------------------------------
 * --------------------------------------------------------- */
window.onload = function() {
  //console.log("webex: onload");

  /* setting up buttons and actions to show/hide answers */
  document.querySelectorAll(".webex-check").forEach(section => {
    section.classList.add("unchecked");

    /* ul to take up the list items with buttons */
    let button_ul = document.createElement("ul");
    button_ul.setAttribute("class", "webex-button-list");
    section.appendChild(button_ul);

    /* button to _check_ if answers given are correct */
    let li_check = document.createElement("li");
    button_ul.appendChild(li_check); /* add list item to ul */
    let btn_check = document.createElement("button");
    btn_check.innerHTML = webex_buttons.check_hidden;  // "Check answer";
    btn_check.setAttribute("class", "webex-button webex-button-check");
    if (webex_buttons.check_hidden_alt.length > 0) btn_check.setAttribute("title", webex_buttons.check_hidden_alt);
    btn_check.onclick = check_func;
    li_check.appendChild(btn_check);

    /* span to show current number of points (when _check_ active) */
    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    li_check.appendChild(spn);

    /* button to show the _solution_ if there is one */
    var has_solution = section.parentNode.querySelectorAll(".webex-solution").length > 0;
    if (has_solution) {
      let li_solution = document.createElement("li");
      button_ul.appendChild(li_solution); /* add list item to ul */
      let btn_solution = document.createElement("button");
      btn_solution.innerHTML = webex_buttons.solution; // "Correct answer";
      btn_solution.setAttribute("class", "webex-button webex-button-solution");
      if (webex_buttons.solution_alt.length > 0) btn_solution.setAttribute("title", webex_buttons.solution_alt);
      btn_solution.onclick = solution_func;
      li_solution.appendChild(btn_solution);
    }

  });

  /* set up webex-solveme inputs */
  document.querySelectorAll(".webex-solveme").forEach(solveme => {
    solveme.setAttribute("autocomplete","off");
    solveme.setAttribute("autocorrect", "off");
    solveme.setAttribute("autocapitalize", "off");
    solveme.setAttribute("spellcheck", "false");
    solveme.value = "";

    /* adjust answer for 'no spaces' (ignore spaces) */
    if (solveme.classList.contains("nospaces")) {
      solveme.dataset.answer = solveme.dataset.answer.replace(/ /g, "");
    }

    /* attach checking function, triggered on key up, change, and when
     * elemnt is out of focus. Only evaluated once by tracking changes
     * via variable solveme_last_user_answer */
    solveme.addEventListener("keyup",  solveme_func);
    solveme.addEventListener("change", solveme_func);
    solveme.addEventListener("blur",   solveme_func);

    /* adding span to show correct/incorrect icon */
    solveme.insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  });

  /* set up radiogroups (single choice questions with display = "buttons") */
  document.querySelectorAll(".webex-radiogroup").forEach(radiogroup => {
    radiogroup.onchange = radiogroups_func;
  });

  /* set up checkboxgroups (multiple choice questions with display = "buttons") */
  document.querySelectorAll(".webex-checkboxgroup").forEach(checkboxgroup => {
    checkboxgroup.onchange = checkboxgroups_func;
  });

  /* set up selects (dropdown menus) */
  document.querySelectorAll(".webex-select").forEach(select => {
    select.onchange = select_func;
    /* append webex-icon for correct/incorrect icons */
    var elem = document.createElement("span")
    elem.classList.add("webex-icon")
    select.parentNode.appendChild(elem)
  });

  /* change to next/previous question if multiple are available */
  function handleQuestionClick(group, questions, step) {
    return async function() {
      /* get question order as integer vector */
      let questionOrder = group.dataset.questionOrder.split(",").map(str => parseInt(str));

      /* current question/position */
      let currentPosition = parseInt(group.dataset.currentPosition);

      /* Hide the current question */
      questions.forEach(question => { question.classList.remove("active"); });

      /* Move to the next question index */
      currentPosition = (currentPosition + step) % questionOrder.length;
      if (currentPosition < 0) currentPosition = currentPosition + questionOrder.length

      /* Display the new question */
      questions[questionOrder[currentPosition]].classList.add("active");

      // Update the currentPosition data attribute on the group div
      group.dataset.currentPosition = currentPosition;
    };
  }

  document.querySelectorAll(".webex-group").forEach(group => {
    const questions = Array.from(group.querySelectorAll(".webex-question"));

    /* Create vector with question order. If the webex-group does
     * not have class '.noshuffle' we will randomly shuffle the order */
    let questionOrder = Array.from({length: questions.length}, (v, i) => i);
    if (!group.classList.contains("noshuffle")) {
      questionOrder = shuffle_array(questionOrder);
    }

    /* take start position (if set) or start at 0 */
    const currentPosition = parseInt(group.getAttribute("data-start-position")) || 0;

    /* show the default question for each group */
    questions[questionOrder[currentPosition]].classList.add("active");

    /* store random order of questions as well as current position */
    group.dataset.questionOrder   = questionOrder;
    group.dataset.currentPosition = currentPosition;

    /* find all webex-questions, search for .webex-button-list and
     * populate the list with necessary <li><button>...</button></li> elements */
    questions.forEach(question => {
        let button_ul = question.querySelector("ul.webex-button-list");

        let li_next = document.createElement("li");
        let nextButton = document.createElement("button");
        nextButton.setAttribute("class", "webex-button webex-button-next");
        if (webex_buttons.question_next_alt.length > 0) nextButton.setAttribute("title", webex_buttons.question_next_alt);
        nextButton.innerHTML = webex_buttons.question_next; // "Next question";
        nextButton.addEventListener("click", handleQuestionClick(group, questions, 1));
        li_next.appendChild(nextButton);

        let li_previous = document.createElement("li");
        let previousButton = document.createElement("button");
        previousButton.setAttribute("class", "webex-button webex-button-previous");
        if (webex_buttons.question_previous_alt.length > 0) previousButton.setAttribute("title", webex_buttons.question_previous_alt);
        previousButton.innerHTML = webex_buttons.question_previous; // "Previous question";
        previousButton.addEventListener("click", handleQuestionClick(group, questions, -1));
        li_previous.appendChild(previousButton);

        if (webex_buttons.question_previous.length > 0) button_ul.appendChild(li_previous);
        if (webex_buttons.question_next.length > 0) button_ul.appendChild(li_next);
    });
  });

  /* Development options */
  document.querySelectorAll(".webex-question.check").forEach(question => {
      question.querySelector(".webex-button-check").click()
  });
  document.querySelectorAll(".webex-question.solution").forEach(question => {
      let btn = question.querySelector(".webex-button-solution");
      if (btn !== null) { btn.click(); }
  });

  /* Pre-filling <input> fields */
  document.querySelectorAll(".webex-question.prefill").forEach(question => {
      question.querySelectorAll("input.webex-solveme").forEach(solveme => {
          let x = JSON.parse(solveme.dataset.answer);
          solveme.value = x[0];
          /* Trigger the on change event */
          solveme.dispatchEvent(new Event("change"));
      });

      /* Pre-filling radiogroups, that is for schoice questions */
      question.querySelectorAll(".webex-radiogroup").forEach(radiogroup => {
          let x = JSON.parse(radiogroup.dataset.answer);
          let idx = x.indexOf(1);
          let radios = radiogroup.querySelectorAll('input[type="radio"]');
          radios[idx].checked = true;
          /* Trigger the on change event */
          radios[idx].dispatchEvent(new Event("change", { bubbles: true }));
      });

      /* Pre-filling checkboxgroups, that is for schoice questions w/ dropdown menus */
      question.querySelectorAll(".webex-select").forEach(dropdown => {
          let x = JSON.parse(dropdown.dataset.answer);
          let idx = x.indexOf(1) + 1; /* +1 to skip the first blank option */
          let options = dropdown.querySelectorAll("option");
          options[idx].selected = true;
          /* Trigger the on change event */
          options[idx].dispatchEvent(new Event("change", { bubbles: true }));
      });

      /* Pre-filling checkboxgroups, that is for mchoice questions */
      question.querySelectorAll(".webex-checkboxgroup").forEach(radiogroup => {
          let x = JSON.parse(radiogroup.dataset.answer);
          let checkboxes = radiogroup.querySelectorAll('input[type="checkbox"]');
          for (let i = 0; i < checkboxes.length; i++) {
              checkboxes[i].checked = x[i];
          }
          /* Trigger the on change event */
          checkboxes[0].dispatchEvent(new Event("change", { bubbles: true }));
      });
  });

  /* Show set tolerance (devel option) */
  function calc_width(x, txt, offset = 20) {
      /* We do the following:
       * Create a new span, insert the value we need in the .tolerance
       * input node, and calculate its offsetWidth. Then remove it
       * again; this is just used to calculate the required width. */
      var cwtmp = document.createElement("span");
      x.appendChild(cwtmp);
      cwtmp.innerHTML = txt || "";
      var w = parseInt(cwtmp.getBoundingClientRect().width) + offset;
      cwtmp.remove();
      return w;
  }

  /* If tolerance should be shown (devel option) we calculate:
   * - the width required to properly display the solution
   * - the width required to properly display the tolerance
   * - add a new element to display the tolerance
   * - reduce the width of the solution input box. */
  document.querySelectorAll(".webex-question.tolerance").forEach(question => {
      question.querySelectorAll("input[data-tol]").forEach(elem => {
          var w = null;

          /* Add new element showing the tolerance */
          let tol = document.createElement("input");
          tol.type = "text"; // <inpyt type="text">
          tol.disabled = true; // Disable input element
          tol.classList.add("tolerance"); // Appending class
          tol.value = "¬± " + elem.getAttribute("data-tol");

          /* Add new node */
          elem.parentNode.insertBefore(tol, elem)

          var body     = document.querySelector("body");
          //tol.value = "¬± " + "0.0000007";
          //tol.value = "¬± " + "0.07";
          w    = calc_width(body, tol.value);
          wold = parseInt(elem.getBoundingClientRect().width);
          wmin = calc_width(body, elem.value);

          /* Calculate required width of the 'tolerance' node, and the
           * reduction of the original 'input' node */
          let wnew = Math.max(wmin, wold - w);
          tol.style.width  = w + "px";
          elem.style.width = wnew + "px";
      });
  });

  update_total_correct();
}

</script><script type="ojs-module-contents">
eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InZpZXdvZiBiaWxsX2xlbmd0aF9taW4gPSBJbnB1dHMucmFuZ2UoXG4gIFszMiwgNTBdLCBcbiAge3ZhbHVlOiAzNSwgc3RlcDogMSwgbGFiZWw6IFwiQmlsbCBsZW5ndGggKG1pbik6XCJ9XG4pXG52aWV3b2YgaXNsYW5kcyA9IElucHV0cy5jaGVja2JveChcbiAgW1wiVG9yZ2Vyc2VuXCIsIFwiQmlzY29lXCIsIFwiRHJlYW1cIl0sIFxuICB7IHZhbHVlOiBbXCJUb3JnZXJzZW5cIiwgXCJCaXNjb2VcIl0sIFxuICAgIGxhYmVsOiBcIklzbGFuZHM6XCJcbiAgfVxuKVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiUGxvdC5yZWN0WShmaWx0ZXJlZCwgXG4gIFBsb3QuYmluWChcbiAgICB7eTogXCJjb3VudFwifSwgXG4gICAge3g6IFwiYm9keV9tYXNzX2dcIiwgZmlsbDogXCJzcGVjaWVzXCIsIHRocmVzaG9sZHM6IDIwfVxuICApKVxuICAucGxvdCh7XG4gICAgZmFjZXQ6IHtcbiAgICAgIGRhdGE6IGZpbHRlcmVkLFxuICAgICAgeDogXCJzZXhcIixcbiAgICAgIHk6IFwic3BlY2llc1wiLFxuICAgICAgbWFyZ2luUmlnaHQ6IDgwXG4gICAgfSxcbiAgICBtYXJrczogW1xuICAgICAgUGxvdC5mcmFtZSgpLFxuICAgIF1cbiAgfVxuKVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0zIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiSW5wdXRzLnRhYmxlKGZpbHRlcmVkKVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC00IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiZGF0YSA9IEZpbGVBdHRhY2htZW50KFwiZGF0YS9wZW5ndWlucy5jc3ZcIikuY3N2KHsgdHlwZWQ6IHRydWUgfSlcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImZpbHRlcmVkID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24ocGVuZ3Vpbikge1xuICByZXR1cm4gYmlsbF9sZW5ndGhfbWluIDwgcGVuZ3Vpbi5iaWxsX2xlbmd0aF9tbSAmJlxuICAgICAgICAgaXNsYW5kcy5pbmNsdWRlcyhwZW5ndWluLmlzbGFuZCk7XG59KVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdiaWxsX2xlbmd0aF9taW4nKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnaXNsYW5kcycpIn1dfQ==
</script><script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../..";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Kopiert");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Kopiert");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./020-R.html" class="pagination-link" aria-label="Daten einlesen">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Daten einlesen</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./040-verbildlichen.html" class="pagination-link" aria-label="Daten verbildlichen">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Daten verbildlichen</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>Powered by <a href="https://quarto.org">Quarto</a></p>
</div>   
    <div class="nav-footer-center">
<p><a href="./impressum.qmd">Impressum</a></p>
<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/sebastiansauer/statistik1/issues/new" class="toc-action"><i class="bi bi-github"></i>Problem melden</a></li></ul></div></div>
    <div class="nav-footer-right">
<p><a href="./datenschutz.qmd">Datenschutzhinweise</a></p>
</div>
  </div>
</footer><script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>


</body></html>