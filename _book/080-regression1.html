<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="description" content="Ein Einf√ºhrungskurs in die Statistik mit einem Schwerpunkt auf Prognosemodellierung">
<title>Statistik1 - 10&nbsp; Geradenmodelle 1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./090-regression2.html" rel="next">
<link href="./070-zusammenhaenge.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zus√§tzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zur√ºcksetzen",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken",
    "search-label": "Suchen"
  }
}</script><link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><link rel="stylesheet" href="styles.css">
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./040-verbildlichen.html">Modellieren</a></li><li class="breadcrumb-item"><a href="./080-regression1.html"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Geradenmodelle 1</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Statistik1</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Dunkelmodus umschalten"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Suchen"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Organisatorisches</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Hinweise</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./005-pruefung.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Pr√ºfung</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Vorbereiten</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./010-rahmen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Rahmen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./020-R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Daten einlesen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./030-aufbereiten.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Daten umformen</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Modellieren</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./040-verbildlichen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Daten verbildlichen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./050-zusammenfassen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Punktmodelle 1</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./060-modellguete.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Modellg√ºte</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./070-zusammenhaenge.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Punktmodelle 2</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./080-regression1.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Geradenmodelle 1</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./090-regression2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Geradenmodelle 2</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./100-abschluss.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Abschluss</span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
<li>
<a href="#lernsteuerung" id="toc-lernsteuerung" class="nav-link active" data-scroll-target="#lernsteuerung"><span class="header-section-number">10.1</span> Lernsteuerung</a>
  <ul class="collapse">
<li><a href="#standort-im-lernpfad" id="toc-standort-im-lernpfad" class="nav-link" data-scroll-target="#standort-im-lernpfad"><span class="header-section-number">10.1.1</span> Standort im Lernpfad</a></li>
  <li><a href="#lernziele" id="toc-lernziele" class="nav-link" data-scroll-target="#lernziele"><span class="header-section-number">10.1.2</span> Lernziele</a></li>
  <li><a href="#ben%C3%B6tigte-r-pakete" id="toc-ben√∂tigte-r-pakete" class="nav-link" data-scroll-target="#ben%C3%B6tigte-r-pakete"><span class="header-section-number">10.1.3</span> Ben√∂tigte R-Pakete</a></li>
  <li><a href="#ben%C3%B6tigte-daten" id="toc-ben√∂tigte-daten" class="nav-link" data-scroll-target="#ben%C3%B6tigte-daten"><span class="header-section-number">10.1.4</span> Ben√∂tigte Daten</a></li>
  </ul>
</li>
  <li>
<a href="#vorhersagen" id="toc-vorhersagen" class="nav-link" data-scroll-target="#vorhersagen"><span class="header-section-number">10.2</span> Vorhersagen</a>
  <ul class="collapse">
<li><a href="#vorhersagen-ohne-pr%C3%A4diktor" id="toc-vorhersagen-ohne-pr√§diktor" class="nav-link" data-scroll-target="#vorhersagen-ohne-pr%C3%A4diktor"><span class="header-section-number">10.2.1</span> Vorhersagen ohne Pr√§diktor</a></li>
  <li><a href="#nullmodell" id="toc-nullmodell" class="nav-link" data-scroll-target="#nullmodell"><span class="header-section-number">10.2.2</span> Nullmodell</a></li>
  <li><a href="#vorhersagen-mit-pr%C3%A4diktor" id="toc-vorhersagen-mit-pr√§diktor" class="nav-link" data-scroll-target="#vorhersagen-mit-pr%C3%A4diktor"><span class="header-section-number">10.2.3</span> Vorhersagen mit Pr√§diktor</a></li>
  </ul>
</li>
  <li>
<a href="#geradenmodelle" id="toc-geradenmodelle" class="nav-link" data-scroll-target="#geradenmodelle"><span class="header-section-number">10.3</span> Geradenmodelle</a>
  <ul class="collapse">
<li><a href="#achsenabschnitt-und-steigung-definieren-eine-gerade" id="toc-achsenabschnitt-und-steigung-definieren-eine-gerade" class="nav-link" data-scroll-target="#achsenabschnitt-und-steigung-definieren-eine-gerade"><span class="header-section-number">10.3.1</span> Achsenabschnitt und Steigung definieren eine Gerade</a></li>
  <li><a href="#spezifikation-eines-geradenmodells" id="toc-spezifikation-eines-geradenmodells" class="nav-link" data-scroll-target="#spezifikation-eines-geradenmodells"><span class="header-section-number">10.3.2</span> Spezifikation eines Geradenmodells</a></li>
  <li><a href="#vorhersagefehler" id="toc-vorhersagefehler" class="nav-link" data-scroll-target="#vorhersagefehler"><span class="header-section-number">10.3.3</span> Vorhersagefehler</a></li>
  <li><a href="#berechnung-der-modellkoeffizienten" id="toc-berechnung-der-modellkoeffizienten" class="nav-link" data-scroll-target="#berechnung-der-modellkoeffizienten"><span class="header-section-number">10.3.4</span> Berechnung der Modellkoeffizienten</a></li>
  </ul>
</li>
  <li>
<a href="#r-quadrat" id="toc-r-quadrat" class="nav-link" data-scroll-target="#r-quadrat"><span class="header-section-number">10.4</span> R-Quadrat</a>
  <ul class="collapse">
<li><a href="#r-quadrat-als-verringerung-der-fehlerstreuung" id="toc-r-quadrat-als-verringerung-der-fehlerstreuung" class="nav-link" data-scroll-target="#r-quadrat-als-verringerung-der-fehlerstreuung"><span class="header-section-number">10.4.1</span> R-Quadrat als Verringerung der Fehlerstreuung</a></li>
  </ul>
</li>
  <li>
<a href="#interpretation-eines-regressionsmodells" id="toc-interpretation-eines-regressionsmodells" class="nav-link" data-scroll-target="#interpretation-eines-regressionsmodells"><span class="header-section-number">10.5</span> Interpretation eines Regressionsmodells</a>
  <ul class="collapse">
<li><a href="#modellg%C3%BCte" id="toc-modellg√ºte" class="nav-link" data-scroll-target="#modellg%C3%BCte"><span class="header-section-number">10.5.1</span> Modellg√ºte</a></li>
  <li><a href="#koeffizienten" id="toc-koeffizienten" class="nav-link" data-scroll-target="#koeffizienten"><span class="header-section-number">10.5.2</span> Koeffizienten</a></li>
  </ul>
</li>
  <li><a href="#fallbeispiel-mariokart" id="toc-fallbeispiel-mariokart" class="nav-link" data-scroll-target="#fallbeispiel-mariokart"><span class="header-section-number">10.6</span> Fallbeispiel Mariokart</a></li>
  <li>
<a href="#fallstudie-immobilienpreise" id="toc-fallstudie-immobilienpreise" class="nav-link" data-scroll-target="#fallstudie-immobilienpreise"><span class="header-section-number">10.7</span> Fallstudie Immobilienpreise</a>
  <ul class="collapse">
<li><a href="#hintergrund" id="toc-hintergrund" class="nav-link" data-scroll-target="#hintergrund"><span class="header-section-number">10.7.1</span> Hintergrund</a></li>
  <li><a href="#ben%C3%B6tigte-r-pakete-1" id="toc-ben√∂tigte-r-pakete-1" class="nav-link" data-scroll-target="#ben%C3%B6tigte-r-pakete-1"><span class="header-section-number">10.7.2</span> Ben√∂tigte R-Pakete</a></li>
  <li><a href="#daten" id="toc-daten" class="nav-link" data-scroll-target="#daten"><span class="header-section-number">10.7.3</span> Daten</a></li>
  <li><a href="#prognosedatei" id="toc-prognosedatei" class="nav-link" data-scroll-target="#prognosedatei"><span class="header-section-number">10.7.4</span> Prognosedatei</a></li>
  <li><a href="#daten-importieren" id="toc-daten-importieren" class="nav-link" data-scroll-target="#daten-importieren"><span class="header-section-number">10.7.5</span> Daten importieren</a></li>
  <li><a href="#ein-erster-blick-in-die-daten" id="toc-ein-erster-blick-in-die-daten" class="nav-link" data-scroll-target="#ein-erster-blick-in-die-daten"><span class="header-section-number">10.7.6</span> Ein erster Blick in die Daten</a></li>
  <li><a href="#ein-erstes-vorhersagemodell" id="toc-ein-erstes-vorhersagemodell" class="nav-link" data-scroll-target="#ein-erstes-vorhersagemodell"><span class="header-section-number">10.7.7</span> Ein erstes Vorhersagemodell</a></li>
  <li><a href="#vorhersagen-im-test-datensatz" id="toc-vorhersagen-im-test-datensatz" class="nav-link" data-scroll-target="#vorhersagen-im-test-datensatz"><span class="header-section-number">10.7.8</span> Vorhersagen im Test-Datensatz</a></li>
  <li><a href="#einreichen" id="toc-einreichen" class="nav-link" data-scroll-target="#einreichen"><span class="header-section-number">10.7.9</span> Einreichen!</a></li>
  <li><a href="#debrief" id="toc-debrief" class="nav-link" data-scroll-target="#debrief"><span class="header-section-number">10.7.10</span> Debrief</a></li>
  </ul>
</li>
  <li><a href="#aufgaben" id="toc-aufgaben" class="nav-link" data-scroll-target="#aufgaben"><span class="header-section-number">10.8</span> Aufgaben</a></li>
  <li><a href="#literatur" id="toc-literatur" class="nav-link" data-scroll-target="#literatur"><span class="header-section-number">10.9</span> Literatur</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span id="sec-gerade1" class="quarto-section-identifier"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Geradenmodelle 1</span></span></h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><section id="lernsteuerung" class="level2" data-number="10.1"><h2 data-number="10.1" class="anchored" data-anchor-id="lernsteuerung">
<span class="header-section-number">10.1</span> Lernsteuerung</h2>
<section id="standort-im-lernpfad" class="level3" data-number="10.1.1"><h3 data-number="10.1.1" class="anchored" data-anchor-id="standort-im-lernpfad">
<span class="header-section-number">10.1.1</span> Standort im Lernpfad</h3>
<p>Abb. <a href="index.html#fig-ueberblick">Abbildung&nbsp;<span>1.2</span></a> zeigt den Standort dieses Kapitels im Lernpfad und gibt damit einen √úberblick √ºber das Thema dieses Kapitels im Kontext aller Kapitel.</p>
</section><section id="lernziele" class="level3" data-number="10.1.2"><h3 data-number="10.1.2" class="anchored" data-anchor-id="lernziele">
<span class="header-section-number">10.1.2</span> Lernziele</h3>
<ul>
<li>Sie k√∂nnen ein Punktmodell von einem Geradenmodell begrifflich unterscheiden.</li>
<li>Sie k√∂nnen die Bestandteile eines Geradenmodells aufz√§hlen und erl√§utern.</li>
<li>Sie k√∂nnen die G√ºte eines Geradenmodells anhand von Kennzahlen bestimmen.</li>
<li>Sie k√∂nnen Geradenmodelle sowie ihre Modellg√ºte in R berechnen.</li>
</ul></section><section id="ben√∂tigte-r-pakete" class="level3" data-number="10.1.3"><h3 data-number="10.1.3" class="anchored" data-anchor-id="ben√∂tigte-r-pakete">
<span class="header-section-number">10.1.3</span> Ben√∂tigte R-Pakete</h3>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-1_08d3fb4950536ede14d74ea8d3e8b3b7">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://easystats.github.io/easystats/">easystats</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html">theme_set</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">scale_colour_discrete</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">...</span><span class="op">)</span> </span>
<span>  <span class="fu">scale_color_okabeito</span><span class="op">(</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="ben√∂tigte-daten" class="level3" data-number="10.1.4"><h3 data-number="10.1.4" class="anchored" data-anchor-id="ben√∂tigte-daten">
<span class="header-section-number">10.1.4</span> Ben√∂tigte Daten</h3>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-2_62e32749945f4aeaed7d742104dd22c7">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariokart</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"https://vincentarelbundock.github.io/Rdatasets/csv/openintro/mariokart.csv"</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="vorhersagen" class="level2" data-number="10.2"><h2 data-number="10.2" class="anchored" data-anchor-id="vorhersagen">
<span class="header-section-number">10.2</span> Vorhersagen</h2>
<p>Vorhersagen sind eine n√ºtzlich Sache, unter (mindestens) folgenden Voraussetzungen:</p>
<ol type="1">
<li>Sie sind pr√§zise</li>
<li>Wir kennen die Pr√§zision</li>
<li>Jemand interessiert sich f√ºr die Vorhersage</li>
</ol>
<p>Die Methode des Vorhersagens, die wir hier betrachten, nennt man auch <em>lineare Regression</em>.</p>
<section id="vorhersagen-ohne-pr√§diktor" class="level3" data-number="10.2.1"><h3 data-number="10.2.1" class="anchored" data-anchor-id="vorhersagen-ohne-pr√§diktor">
<span class="header-section-number">10.2.1</span> Vorhersagen ohne Pr√§diktor</h3>
<div id="exm-noten-prognose" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 10.1 </strong></span>Nach intensiver Besch√§ftigung mit Statistik sind Sie allgemein als Checker bekannt. Viele j√ºngere Studentis fragen Sie um Rat. eines Tages kommt ei Studenti, Toni, und fragt: ‚ÄúWelche Statistiknote kann ich in der Klausur erwarten?‚Äù Sie entgegnen: ‚ÄúWie viel hast du denn gelernt?‚Äù. Die Antwort: ‚ÄúSag ich nicht.‚Äù</p>
<p>Nach kurzem √úberlegen geben sie den Notenschnitt der letzten Klausur als Prognose f√ºr dis Studenti. Dazu rechnen Sie schnell den Notenschnitt (Mittelwert aus).</p>
<p>Zuerst importieren Sie die Daten der letzten Klausur<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>:</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-4_be1f3743c92c634b0ee433b462337628">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">noten2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"daten/noten2.csv"</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Dann rechnen Sie den Mittelwert aus:</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-5_fcc63d33e2d5a5e2cb7a4b1d7c9aaa81">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">noten2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>mw <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span><span class="op">)</span>  <span class="co"># y ist der Punktwert in der Klausur</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["mw"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"71.07968"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Ihre Antwort lautet also: ‚ÄúIm Schnitt haben die Studis bei der letzten Klausur gut 50% der Punkte erzielt. Diesen Wert kannst du erwarten. Solange ich keine genaueren Infos habe, z.B. wieviel du gelernt hast, kann ich dir keine genauere Vorherage machen, sorry!‚Äù<span class="math inline">\(\square\)</span></p>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Ohne Kenntnis eines Pr√§diktors (UV) (wie z.B. Lernzeit) ist der Mittelwert ein geeigneter Vorhersagewert f√ºr jede Beobachtung, s. <a href="#fig-noten3">Abbildung&nbsp;<span>10.1</span></a>. Wir nutzen den Mittelwert als Punktmodell f√ºr den Klausurerfolg.<span class="math inline">\(\square\)</span></p>
</div>
</div>
<div class="cell" data-hash="080-regression1_cache/html/fig-noten3_b3e0c29cab7e3b3deca32a6b4b3ebec0">
<div class="cell-output-display">
<div id="fig-noten3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="080-regression1_files/figure-html/fig-noten3-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Abbildung&nbsp;10.1: Mittelwert als Vorhersagewert, bzw. Mittelwert als Punktmodell</figcaption></figure>
</div>
</div>
</div>
</section><section id="nullmodell" class="level3 {def-nullmodell}" data-number="10.2.2"><h3 data-number="10.2.2" class="anchored" data-anchor-id="nullmodell">
<span class="header-section-number">10.2.2</span> Nullmodell</h3>
<p>Modelle ohne Pr√§diktor, Punktmodelle also, kann man so bezeichnen: <code>y ~ 1</code>. Da es null Pr√§diktoren hat, nennt man es auch manchmal ‚ÄúNullmodell‚Äù.</p>
</section><p>Auf Errisch kann man dieses Nullmodell so spezifizieren:</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-7_7a5a0ac547cffce131d670e7981b2741">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">lm0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="fl">1</span>, data <span class="op">=</span> <span class="va">noten2</span><span class="op">)</span></span>
<span><span class="va">lm0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Call:</span></span>
<span><span class="co">## lm(formula = y ~ 1, data = noten2)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Coefficients:</span></span>
<span><span class="co">## (Intercept)  </span></span>
<span><span class="co">##       71.08</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>lm</code> steht f√ºr ‚Äúlineares Modell‚Äù, die <code>0</code> sagt, dass es keine Pr√§diktoren gibt. In dem Fall wird der Mittelwert als Gerade verwendet. Der zur√ºckgemeldete Koeffizient <code>(Intercept)</code> ist hier der Modell des Punktmodells. Da es ein Punktmodell ist, sagt es f√ºr alle Beobachtungen (hier Studentis) den gleichen Wert vorher.</p>
<p>Die Regressionsgleichung lautet demnach: <code>y_pred = 71.08</code>. In Worten: ‚ÄúWir sagen von jede Beobachtung einen Wert von ca. 71 vorher‚Äù.</p>
<section id="vorhersagen-mit-pr√§diktor" class="level3" data-number="10.2.3"><h3 data-number="10.2.3" class="anchored" data-anchor-id="vorhersagen-mit-pr√§diktor">
<span class="header-section-number">10.2.3</span> Vorhersagen mit Pr√§diktor</h3>
<div id="exm-noten3" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 10.2 (Toni verr√§t die Lernzeit) </strong></span>Dis Studenti, Toni, entschlie√üt sich dann doch noch, die Lernzeit zu verraten: ‚ÄúOkay, also ich hab insgesamt 42 Stunden gelernt, insgesamt.‚Äù Jetzt m√ºssen Sie erstmal nachdenken: ‚ÄúWie viele Klausurpunkte sag ich vorher, wenn Toni 42 gelernt hat?‚Äù</p>
<p>Sie visualisieren sich zur Hilfe die vorliegenden Daten, s. <a href="#fig-noten4">Abbildung&nbsp;<span>10.2</span></a>, links.</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-8_c4d0c0d443552f57df02f92f3c661823">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">noten2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="va">noten2</span>, <span class="st">"daten/noten2.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://boxuancui.github.io/DataExplorer/">DataExplorer</a></span><span class="op">)</span></span>
<span><span class="va">noten2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="http://boxuancui.github.io/DataExplorer/reference/plot_scatterplot.html">plot_scatterplot</a></span><span class="op">(</span>by <span class="op">=</span> <span class="st">"y"</span><span class="op">)</span>  <span class="co"># Y-Variable muss angegeben werden</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Auf dieser Basis antworten Sie Toni: ‚ÄúBei 42 Stunden Lernzeit solltest du so 46 Punkte bekommen. K√∂nnte mit dem Bestehen eng werden.‚Äù Toni ist nicht begeistert von Ihrer Prognose und zieht von dannen.<span class="math inline">\(\square\)</span></p>
</div>
<p>Der Trend (im Sinne eines linearen Zusammenhangs) von Lernzeiten und Klausurpunkte ist deutlich zu erkennen. Mit einem Lineal k√∂nnte man eine entsprechende Gerade in das Streudiagramm einzeichnen, s. <a href="#fig-noten4">Abbildung&nbsp;<span>10.2</span></a>.</p>
<div id="fig-noten4" class="cell quarto-layout-panel" data-hash="080-regression1_cache/html/fig-noten4_b1ce4c1947b147e2df53ffca2a0f5361">
<figure class="figure"><div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-noten4-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="080-regression1_files/figure-html/fig-noten4-1.png" class="img-fluid figure-img" data-ref-parent="fig-noten4" width="672"></p>
<figcaption class="figure-caption">(a) Gemeinsame Verteilung (Zusammenhang) von Lernzeit (X) und Noten (Y)</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-noten4-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="080-regression1_files/figure-html/fig-noten4-2.png" class="img-fluid figure-img" data-ref-parent="fig-noten4" width="672"></p>
<figcaption class="figure-caption">(b) Eine ‚ÄòTrendgerade‚Äô (blau) im Datensatz noten2. Mittelwerte sind mit gestrichelten Linien eingezeichnet. Tonis Vorhersage ist mit einem roten Punkt gekennzeichnet.</figcaption></figure>
</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;10.2: Noten und Lernzeit: Rohdaten und Modell</figcaption><p></p>
</figure>
</div>
<p>Eine Gerade eignet sich, um einen linearen Trend zusammenzufassen.</p>
</section></section><section id="geradenmodelle" class="level2" data-number="10.3"><h2 data-number="10.3" class="anchored" data-anchor-id="geradenmodelle">
<span class="header-section-number">10.3</span> Geradenmodelle</h2>
<section id="achsenabschnitt-und-steigung-definieren-eine-gerade" class="level3" data-number="10.3.1"><h3 data-number="10.3.1" class="anchored" data-anchor-id="achsenabschnitt-und-steigung-definieren-eine-gerade">
<span class="header-section-number">10.3.1</span> Achsenabschnitt und Steigung definieren eine Gerade</h3>
<p>Wir verwenden eine Gerade als Modell f√ºr die Daten, s. <a href="#fig-noten4">Abbildung&nbsp;<span>10.2</span></a>, rechts. Anders gesagt: Wir modellieren die X-Y-Daten (bzw. ihren Zusammenhang) mit einem Geradenmodell.</p>
<p>Ein Geradenmodell ist eine Verallgemeinerung des Punktmodells: Ein Punktmodell sagt f√ºr alle Beobachtungen den gleichen Wert vorher. <a href="#fig-noten3">Abbildung&nbsp;<span>10.1</span></a> und <a href="#fig-noten4">Abbildung&nbsp;<span>10.2</span></a> stellen ein Punktmodell einem Geradenmodell gegen√ºber.</p>
<p>In einem Geradenmodell wird nicht mehr (notwendig) f√ºr jede Beobachtung die gleiche Vorhersage <span class="math inline">\(\hat{y}\)</span> gemacht (wie das bei einem Punktmodell der Fall ist).</p>
<div id="def-gerade" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.1 </strong></span>Eine Gerade ist definiert durch zwei <em>Koeffizienten</em>: Achsenabschnitt (engl. intercept), und Steigung (engl. slope). H√§ufig wird (z.B. im Schulunterricht) der Achsenabschnitt mit <span class="math inline">\(t\)</span> und die Steigung mit <span class="math inline">\(m\)</span> bezeichnet: <span class="math inline">\(f(x)=y=\color{blue}[m]x + \color{red}[t]\)</span>. In der Statistik wird folgende Nomenklatur bevorzugt: <span class="math inline">\(f(x)=\hat{y} = \color{red}{b_0} + \color{blue}{b_1}x\)</span> oder <span class="math inline">\(y = \color{red}{\beta_0} + \color{blue}{\beta_1}x\)</span> .<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<p><a href="#fig-regrtex">Abbildung&nbsp;<span>10.3</span></a> skizziert die Elemente einer Regression.</p>
</div>
<div id="fig-regrtex" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="img/regr.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption class="figure-caption">Abbildung&nbsp;10.3: Achsenabschnitt und Steigung einer Regressionsgeraden</figcaption></figure>
</div>
<p><a href="https://texample.net/tikz/examples/linear-regression/">Bildquelle: Basierend auf diesem Diagramm von Henri Menke</a></p>
<p>Je nach Datenlage k√∂nnen sich Regressionsgerade in Steigung oder Achsenabschnitt unterscheiden, s. <a href="#fig-regr-div">Abbildung&nbsp;<span>10.4</span></a>.</p>
<div id="fig-regr-div" class="cell quarto-layout-panel" data-hash="080-regression1_cache/html/fig-regr-div_ae8d4d3eb79ccebfd5b16b2055bbb688">
<figure class="figure"><div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-regr-div-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="080-regression1_files/figure-html/fig-regr-div-1.png" class="img-fluid figure-img" data-ref-parent="fig-regr-div" width="672"></p>
<figcaption class="figure-caption">(a) Datensatz 1</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-regr-div-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="080-regression1_files/figure-html/fig-regr-div-2.png" class="img-fluid figure-img" data-ref-parent="fig-regr-div" width="672"></p>
<figcaption class="figure-caption">(b) Datensatz 2</figcaption></figure>
</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;10.4: Regressionsanalysen mit verschiedenen Koeffizienten, aber gleicher Modellg√ºte</figcaption><p></p>
</figure>
</div>
<div id="exm-noten5" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 10.3 (Toni will es genau wissen) </strong></span>Da Toni Sie als Statistik-Profi abgespeichert hat, werden Sie wieder konsultiert. ‚ÄúOkay, ich hab noch zwei Fragen. Erstens: Wie viele Punkte bekomme ich, wenn ich gar nicht lerne? Zweitens, wie viele Punkte bekomme ich pro gelernte Stunde? Ist immerhin meine Lebenszeit, krieg ich nicht zur√ºck!‚Äù</p>
<p>Das sind gute Fragen. Den Y-Wert (Klausurpunkte) bei <span class="math inline">\(X=0\)</span> gibt der Achsenabschnitt zur√ºck. Schnell skizzieren Sie dazu ein Diagramm, s. <a href="#fig-beta0">Abbildung&nbsp;<span>10.5</span></a>. Puh, die Antwort wird Toni nicht gefallen ‚Ä¶</p>
</div>
<div class="cell" data-hash="080-regression1_cache/html/fig-beta0_fbca084b5beb7554326f6ac5c638fb79">
<div class="cell-output-display">
<div id="fig-beta0" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="080-regression1_files/figure-html/fig-beta0-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Abbildung&nbsp;10.5: Der Achsenabschnitt: Wie viele Punkt kann Toni erwarten bei 0 Lernstunden? (roter Punkt bei x=0)</figcaption></figure>
</div>
</div>
</div>
<p>Anstelle auf <a href="#fig-beta0">Abbildung&nbsp;<span>10.5</span></a> zu schauen, k√∂nnen Sie sich auch von R Tonis Klausurerfolg vorhersagen (to predict) lassen:</p>
<blockquote class="blockquote">
<p>üßë‚Äçüéì Hey R, predicte mir mal auf Basis vom Modell ‚Äúlm1‚Äù den Lernerfolg f√ºr Toni, wenn der x=0 Stunden lernt.</p>
</blockquote>
<blockquote class="blockquote">
<p>ü§ñ Okay, ich predicte mit Modell ‚Äúlm1‚Äù und nehme als neue Datentabelle Tonis Lernzeit (x=0)!</p>
</blockquote>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-14_0391c1bd2458a2187b593556c8babde6">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">tonis_lernzeit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="va">tonis_lernzeit</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["x"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-15_af0213ab7ed9c03a9569ac59d66fda18">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">lm1</span>, newdata <span class="op">=</span> <span class="va">tonis_lernzeit</span><span class="op">)</span></span>
<span><span class="co">##          1 </span></span>
<span><span class="co">## 0.04692592</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="spezifikation-eines-geradenmodells" class="level3" data-number="10.3.2"><h3 data-number="10.3.2" class="anchored" data-anchor-id="spezifikation-eines-geradenmodells">
<span class="header-section-number">10.3.2</span> Spezifikation eines Geradenmodells</h3>
<p>Ein Geradenmodell kann man im einfachsten Fall so spezifizieren, s. <a href="#eq-mod1">Gleichung&nbsp;<span>10.1</span></a>:</p>
<p><span id="eq-mod1"><span class="math display">\[\hat{y} \sim x \tag{10.1}\]</span></span></p>
<p>Lies: ‚ÄúLaut meinem Modell ist <span class="math inline">\(\hat{y}\)</span> irgendeine Funktion von <span class="math inline">\(y\)</span>‚Äù. Wir werden als Funktion (erstmal) nur Geraden verwenden. Die genauen Werte der Gerade lassen wir uns (erstmal) vom Computer ausrechnen.</p>
<p><a href="#eq-mod1">Gleichung&nbsp;<span>10.1</span></a> k√∂nnen Sie so ins Errische √ºbersetzen:</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-16_34757e59556c531bc9f2d9c16c36978e">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x</span>, data <span class="op">=</span> <span class="va">meine_daten</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>lm</code> steht f√ºr ‚Äúlineares Modell‚Äù, also eine Gerade als Modell. Die Gerade nennt man auch <em>Regressionsgerade</em><a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>.</p>
<div id="exm-noten5" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 10.4 (Zahlen f√ºr Toni) </strong></span>Toni ist nicht zufrieden mit Ihren Vorhersagen: ‚ÄúJetzt h√∂r mal auf mit deinem Lineal hier herum zu malen. Ich will es genau wissen, sag mir pr√§zise Zahlen!‚Äù.</p>
</div>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-17_224dd363ea571fa521b5d6d970e48cd6">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">lm1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x</span>, data <span class="op">=</span> <span class="va">noten2</span><span class="op">)</span></span>
<span><span class="va">lm1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Call:</span></span>
<span><span class="co">## lm(formula = y ~ x, data = noten2)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Coefficients:</span></span>
<span><span class="co">## (Intercept)            x  </span></span>
<span><span class="co">##      8.6030       0.8794</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>R gibt Ihnen die beiden Koeffizienten f√ºr die Gerade aus. Den Namen des Objekts k√∂nnen Sie frei aussuchen, z.B. <code>mein_erstes_lm</code>.</p>
<p>Die Regressionsgleichung lautet demnach: <code>y_pred = 8.6 + 0.88*x</code></p>
<p>Mit Kenntnis der beiden Koeffizienten kann man beliebige Y-Werte ausrechnen gegeben bestimmte X-Werte.</p>
<p>Hat jemand zum Beispiel 10 Stunden gelernt, w√ºrden wir folgendes Klausurergebnis vorhersagen:</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-18_46ae7575ff9372d42159d4f95b336a80">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">lernzeit</span> <span class="op">&lt;-</span> <span class="fl">10</span></span>
<span><span class="va">y_pred</span> <span class="op">&lt;-</span> <span class="fl">8.6</span> <span class="op">+</span> <span class="fl">0.88</span><span class="op">*</span><span class="va">lernzeit</span></span>
<span><span class="va">y_pred</span></span>
<span><span class="co">## [1] 17.4</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="exm-noten6" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 10.5 (Vorhersage f√ºr Klausurerfolg, n√§chster Versuch) </strong></span>Sie versuchen, noch etwas Gutes f√ºr Toni zu tun. R hilft Ihnen dabei und rechnet die erwartete Punktzahl aus, wenn Toni 73 Stunden lernt. Sie d√ºrfen es aber auch selber rechnen, wenn Ihnen das lieber ist.</p>
</div>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-19_6a3a7dc44577f3f8b07337e00e8e110e">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">tonis_lernzeit2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">73</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-20_ccff758542a060883858c01d699cf29c">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">lm1</span>, newdata <span class="op">=</span> <span class="va">tonis_lernzeit2</span><span class="op">)</span></span>
<span><span class="co">##       1 </span></span>
<span><span class="co">## 72.7999</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Die Syntax von <code>predict</code> lautet:</p>
<pre><code>predict(name_des_objekts, newdata = tabelle_mit_pr√§diktorwerten)</code></pre>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Mit <code>predict</code> bekommt man eine Vorhersage; im Standard eine ‚ÄúPunkt-Vorhersage‚Äù, eine einzelne Zahl.<span class="math inline">\(\square\)</span></p>
</div>
</div>
</section><section id="vorhersagefehler" class="level3" data-number="10.3.3"><h3 data-number="10.3.3" class="anchored" data-anchor-id="vorhersagefehler">
<span class="header-section-number">10.3.3</span> Vorhersagefehler</h3>
<p>Die Differenz zwischen vorhergesagten Wert f√ºr eine (neue) Beobachtung, <span class="math inline">\(\hat{y_0}\)</span> und ihrem tats√§chlichen Wert nennt man Vorhersagefehler (error, <span class="math inline">\(e_i\)</span>) oder <em>Residuum</em>: <span class="math inline">\(e_i = y_i - \hat{y}_i\)</span>.</p>
<div id="fig-resid" class="cell quarto-layout-panel" data-hash="080-regression1_cache/html/fig-resid_1c4d627cff9e803d7e2d67f68216ffd1">
<figure class="figure"><div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-resid-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="080-regression1_files/figure-html/fig-resid-1.png" class="img-fluid figure-img" data-ref-parent="fig-resid" width="672"></p>
<figcaption class="figure-caption">(a) Residuen beim Geradenmodell (lm1)</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-resid-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="080-regression1_files/figure-html/fig-resid-2.png" class="img-fluid figure-img" data-ref-parent="fig-resid" width="672"></p>
<figcaption class="figure-caption">(b) Residuen beim Punktmodell (lm0)</figcaption></figure>
</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;10.6: Vorhersagefehler als Abweichungsbalken</figcaption><p></p>
</figure>
</div>
<p>Wie ist es mit den Vorhersagefehlern von beiden Modellen bestellt?</p>
<p>Lassen wir uns von R die Streuung (Residuen) in Form der mittleren Absolutabweichung (MAE) ausgeben<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>:</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-22_143c3f3fa2430fb96c21ca466e988c0a">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">mae</span><span class="op">(</span><span class="va">lm0</span><span class="op">)</span></span>
<span><span class="co">## [1] 11.18385</span></span>
<span><span class="fu">mae</span><span class="op">(</span><span class="va">lm1</span><span class="op">)</span></span>
<span><span class="co">## [1] 7.954085</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Vergleichen wir MAE im Nullmodell mit MAE in <code>lm1</code>:</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-23_66eddea9366a17d059efddf1be5a1e73">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">verhaeltnis_fehler_gerade_zu_punkt_mae</span> <span class="op">&lt;-</span> <span class="fu">mae</span><span class="op">(</span><span class="va">lm1</span><span class="op">)</span> <span class="op">/</span> <span class="fu">mae</span><span class="op">(</span><span class="va">lm0</span><span class="op">)</span></span>
<span><span class="va">verhaeltnis_fehler_gerade_zu_punkt_mae</span></span>
<span><span class="co">## [1] 0.7112118</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ah! Das Geradenmodell ist viel besser: Von <code>lm0</code> zu <code>lm1</code> haben die mittlere (Absolut-)L√§nge des Fehlerbalkens auf 71 Prozent verbessert. Nicht schlecht!</p>
<div id="def-fehlerstreung" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.2 (Fehlerstreuung) </strong></span>Als Fehlerstreuung bezeichnen wir die Gesamtheit der Abweichungen der beobachteten Werte (<span class="math inline">\(y_i\)</span>) vom vorhergesagten Wert (<span class="math inline">\(\hat{y}_i\)</span>).<span class="math inline">\(\square\)</span></p>
</div>
<p>Zur Berechnung der Fehlerstreuung gibt es mehrere Kenngr√∂√üen wie MAE oder MSE.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Ein Geradenmodell ist immer besser als ein Punktmodell (im Hinblick auf die Verringerung der Fehlerstreung), solange X mit Y korreliert ist.<span class="math inline">\(\square\)</span></p>
</div>
</div>
<p>Nat√ºrlich k√∂nnen wir - in Analogie zur Varianz - auch den mittleren Quadratfehlerbalken (Mean Squared Error, MSE) berechnen<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>.</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-24_d7237d9b170cea335095ef5c140ea357">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">mse</span><span class="op">(</span><span class="va">lm0</span><span class="op">)</span></span>
<span><span class="co">## [1] 192.7863</span></span>
<span><span class="fu">mse</span><span class="op">(</span><span class="va">lm1</span><span class="op">)</span></span>
<span><span class="co">## [1] 106.4519</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-25_8d95bc7f8e331d0e6374021c16f40cf2">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">verhaeltnis_fehler_gerade_zu_punkt_mse</span> <span class="op">&lt;-</span> <span class="fu">mse</span><span class="op">(</span><span class="va">lm1</span><span class="op">)</span><span class="op">/</span><span class="fu">mse</span><span class="op">(</span><span class="va">lm0</span><span class="op">)</span></span>
<span><span class="va">verhaeltnis_fehler_gerade_zu_punkt_mse</span></span>
<span><span class="co">## [1] 0.5521755</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="berechnung-der-modellkoeffizienten" class="level3" data-number="10.3.4"><h3 data-number="10.3.4" class="anchored" data-anchor-id="berechnung-der-modellkoeffizienten">
<span class="header-section-number">10.3.4</span> Berechnung der Modellkoeffizienten</h3>
<p>Aber wie legt man die Regressionsgerade in das Streudiagramm, bildlich gesprochen?</p>
<p>Die Regressionskoeffizienten<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a> b0 und b1 w√§hlt man so, dass die Residuen minimal sind. Es gibt verschiedene Algorithmen, um dies zu berechnen<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a>. Eine sch√∂ne Darstellung dazu findet sich bei <span class="citation" data-cites="kaplan_statistical_2009">Kaplan (<a href="#ref-kaplan_statistical_2009" role="doc-biblioref">2009</a>)</span>.</p>
<p>‚ÄúVon Hand‚Äù k√∂nnen Sie die Optimierung von b0 und b1 in <a href="https://fomshinyapps.shinyapps.io/KleinsteQuadrate/">dieser App der FOM-Hochschule</a> ausprobieren.</p>
</section></section><section id="r-quadrat" class="level2" data-number="10.4"><h2 data-number="10.4" class="anchored" data-anchor-id="r-quadrat">
<span class="header-section-number">10.4</span> R-Quadrat</h2>
<section id="r-quadrat-als-verringerung-der-fehlerstreuung" class="level3" data-number="10.4.1"><h3 data-number="10.4.1" class="anchored" data-anchor-id="r-quadrat-als-verringerung-der-fehlerstreuung">
<span class="header-section-number">10.4.1</span> R-Quadrat als Verringerung der Fehlerstreuung</h3>
<p>Anders gesagt, wir haben uns um <span class="math inline">\(1 - 0.55\)</span> verbessert:</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-26_cbb293c4518771d0aaba477b11dbfedd">
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fl">1</span> <span class="op">-</span> <span class="va">verhaeltnis_fehler_gerade_zu_punkt_mse</span></span>
<span><span class="co">## [1] 0.4478245</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="def-r2" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 10.3 (R-Quadrat) </strong></span>Die Verringerung (als Anteil) der Fehlerstreuung der Zielvariablen von <code>lm0</code> zum gerade untersuchten Modell nennt man <em>R-Quadrat</em> (<span class="math inline">\(R^2\)</span>). R-Quadrat (<span class="math inline">\(R^2\)</span>) eines Modells <span class="math inline">\(m\)</span> ist definiert als die Verringerung der Streuung, wenn man das Modell <span class="math inline">\(m\)</span> mit dem Nullmodell <span class="math inline">\(m_0\)</span> vergleicht: <span class="math inline">\(R^2 =1- \frac{\text{MSE}_{m}}{\text{MSE}_{m0}}\)</span>. R-Quadrat ist ein Ma√ü der <em>Modellg√ºte</em>: Je gr√∂√üer <span class="math inline">\(R^2\)</span>, desto besser die Vorhersage. Da es ein Anteilsma√ü<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a> ist, liegt der Wertebereich zwischen 0 uns 1. Im Nullmodell liegt R-Quadrat per Definition bei 0. Im Fall von Modellen des Typs <span class="math inline">\(y\sim x\)</span> gilt: <span class="math inline">\(R^2 = r_{xy}^2\)</span>. <span class="math inline">\(\square\)</span></p>
</div>
<p>Wir k√∂nnen R-Quadrat (<span class="math inline">\(R^2\)</span>) uns von R z.B. so ausgeben lassen:</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-27_9fbafcf0a1469fc8fb066bb936f66735">
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">r2</span><span class="op">(</span><span class="va">lm1</span><span class="op">)</span></span>
<span><span class="co">## # R2 for Linear Regression</span></span>
<span><span class="co">##        R2: 0.448</span></span>
<span><span class="co">##   adj. R2: 0.442</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Bei einer perfekten Korrelation ist <span class="math inline">\(r=1\)</span>, daher ist dann auch <span class="math inline">\(R^2 = 1\)</span><a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a>, s. <a href="#fig-r2-extreme">Abbildung&nbsp;<span>10.7</span></a>.</p>
<div id="fig-r2-extreme" class="cell quarto-layout-panel" data-hash="080-regression1_cache/html/fig-r2-extreme_d85cf213d1c8fcf2a0b30bbdecae8054">
<figure class="figure"><div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-r2-extreme-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="080-regression1_files/figure-html/fig-r2-extreme-1.png" class="img-fluid figure-img" data-ref-parent="fig-r2-extreme" width="672"></p>
<figcaption class="figure-caption">(a) Keine Korrelation, r = 0 und R2 = 0. Prognose durch Mittelwert</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-r2-extreme-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="080-regression1_files/figure-html/fig-r2-extreme-2.png" class="img-fluid figure-img" data-ref-parent="fig-r2-extreme" width="672"></p>
<figcaption class="figure-caption">(b) Perfekte Korrelation, r = 1 und R2 = 1. Prognose gleich beobachtetem Wert</figcaption></figure>
</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;10.7: Extremf√§lle von R-Quadrat: 0 und 1</figcaption><p></p>
</figure>
</div>
<p>Bei einer perfekten Korrelation <span class="math inline">\(R^2=1\)</span> liegen die Punkte auf der Geraden. Im gegenteiligen Extremfall von <span class="math inline">\(R^2=0\)</span> ist die Vorhersage genauso gut, wie wenn man f√ºr jedes <span class="math inline">\(y\)</span> den Mittelwert, <span class="math inline">\(\bar{y}\)</span>, vorhersagen w√ºrde.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Je gr√∂√üer R-Quadrat, desto besser erkl√§rt das Modell die Daten (desto besser der ‚ÄúFit‚Äù, sagt man).</p>
</div>
</div>
<p><a href="https://fomshinyapps.shinyapps.io/Variationszerlegung/">Diese App der FOM-Hochschule</a> erlaubt es Ihnen mit der Gr√∂√üe der Residuen eines linearen Modells zu spielen.</p>
<!-- ### Addition der Varianzen -->
<!-- Nennen wir die Varianz des Verkaufspreis $s^2_y$, die Verbesserung der Fehlerstreuung durch das *M*odell $s^2_m$ und die restliche Fehlerstreuung, den MSE, $s^2_e$. -->
<!-- Dann gilt: -->
<!-- $$s^2_y = s^2_m + s^2_e \\ -->
<!-- s^2_m = s^2_y - s^2_e$$ -->
<!-- ```{r} -->
<!-- s2_y = var(noten2$y) -->
<!-- s2_e = mse(lm1) -->
<!-- s2_m = s2_y - s2_e -->
<!-- s2_m -->
<!-- ``` -->
<!-- Die Varianzanteile addieren sich. Mit anderen Kennzahlen der Streuung (SD, MAE) funktioniert das nicht. -->
</section></section><section id="interpretation-eines-regressionsmodells" class="level2" data-number="10.5"><h2 data-number="10.5" class="anchored" data-anchor-id="interpretation-eines-regressionsmodells">
<span class="header-section-number">10.5</span> Interpretation eines Regressionsmodells</h2>
<section id="modellg√ºte" class="level3" data-number="10.5.1"><h3 data-number="10.5.1" class="anchored" data-anchor-id="modellg√ºte">
<span class="header-section-number">10.5.1</span> Modellg√ºte</h3>
<p>Die Residuen (Vorhersagefehler) bestimmen die Modellg√ºte: Sind die Residuen im Schnitt gro√ü, so ist die Modellg√ºte gering (schlecht), und umgekehrt. Verschiedenen Koeffizienten stehen zur Verf√ºgung: R-Quadrat, r<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a>, MSE, RMSE, MAE, ‚Ä¶</p>
</section><section id="koeffizienten" class="level3" data-number="10.5.2"><h3 data-number="10.5.2" class="anchored" data-anchor-id="koeffizienten">
<span class="header-section-number">10.5.2</span> Koeffizienten</h3>
<p>Die Modellkoeffizienten, also Achsenabschnitt (<span class="math inline">\(b_0\)</span>) und Steigung (<span class="math inline">\(b_1\)</span>) sind nur eingeschr√§nkt zu interpretieren, wenn man die zugrundeliegenden kausalen Abh√§ngigkeiten nicht kennt. Nur aufgrund eines Zusammenhangs darf man keine kausalen Abh√§ngigkeiten annehmen. Ohne eine guten Grund f√ºr eine Kausalbehauptung kann man kann nur <em>deskriptiv</em> argumentieren. Oder sich mit der Modellg√ºte und den Vorhersagen begn√ºgen. Was auch was wert ist.</p>
<section id="achsenabschnitt-b0" class="level4" data-number="10.5.2.1"><h4 data-number="10.5.2.1" class="anchored" data-anchor-id="achsenabschnitt-b0">
<span class="header-section-number">10.5.2.1</span> Achsenabschnitt (b0)</h4>
<p>‚ÄúIm Modell <code>lm1</code> liegt der Achsenabschnitt bei <span class="math inline">\(y=8.6\)</span>. Beobachtungen mit <span class="math inline">\(x=0\)</span> k√∂nnen also diesen Y-Wert erwarten.‚Äù Leider ist es h√§ufig so, dass Pr√§diktorwerte von 0 in der Praxis nicht realistisch sind, so dass der Achsenabschnitt dann wenig n√ºtzt.</p>
<div id="exm-groesse" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 10.6 (Regression Gr√∂√üe und Gewicht) </strong></span>Nutzt man K√∂rpergr√∂√üe umd das Gewicht von Menschen vorherzusagen, ist der Achsenabschnitt von K√∂rpergr√∂√üe wenig n√ºtzlich, da es keine Menschen gibt der Gr√∂√üe 0.<span class="math inline">\(\square\)</span></p>
</div>
</section><section id="geradensteigung-b1" class="level4" data-number="10.5.2.2"><h4 data-number="10.5.2.2" class="anchored" data-anchor-id="geradensteigung-b1">
<span class="header-section-number">10.5.2.2</span> Geradensteigung (b1)</h4>
<p>‚ÄúIm Modell <code>lm1</code> betr√§gt der Regressionskoeffizient <code>b1</code> <span class="math inline">\(0.88\)</span>. Zwei Studenti, deren Lernzeit sich um eine Stunde unterscheidet, unterscheiden sich <em>laut Modell</em> um den Wert von b1.‚Äù</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Vorsicht
</div>
</div>
<div class="callout-body-container callout-body">
<p>H√§ufig liest man, der ‚ÄúEffekt des Pr√§diktors‚Äù auf die AV betrage z.B. <span class="math inline">\(0.88\)</span>. ‚ÄúEffekt‚Äù ist aber ein Wort, dass man kausal verstehen kann. Ohne weitere Absicherung kann man aber Regressionskoeffizienten nicht kausal verstehen. Daher sollte man das Wort ‚ÄúEffekt‚Äù mit Vorsicht genie√üen. Manche sprechen daher auch von einem ‚Äústatistischen Effekt‚Äù.<span class="math inline">\(\square\)</span>.</p>
</div>
</div>
</section></section></section><section id="fallbeispiel-mariokart" class="level2" data-number="10.6"><h2 data-number="10.6" class="anchored" data-anchor-id="fallbeispiel-mariokart">
<span class="header-section-number">10.6</span> Fallbeispiel Mariokart</h2>
<p>Als mittlerweile anerkannter Extrem-Datenanalyst in dem Online-Auktionshaus, in dem Sie arbeiten, haben Sie sich neue Ziele gesetzt. Sie m√∂chten eine genaue Vorhersage von Verkaufspreisen erzielen. Als Sie von diesem Plan berichteten, leuchteten die Augen Ihres Chefs. Genaue Vorhersagen, das ist etwas von hoher betriebswirtschaftlicher Relevanz. Auf geht‚Äôs!</p>
<p>Daten laden:<a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a></p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-30_39b7969fe47b22a9b7612f7fcc749e3d">
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mariokart</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"https://vincentarelbundock.github.io/Rdatasets/csv/openintro/mariokart.csv"</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-31_aedf3a0c6cc6946ccc4dfc056edba6ea">
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">lm2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">total_pr</span> <span class="op">~</span> <span class="va">start_pr</span>, data <span class="op">=</span> <span class="va">mariokart</span><span class="op">)</span></span>
<span><span class="fu">r2</span><span class="op">(</span><span class="va">lm2</span><span class="op">)</span></span>
<span><span class="co">## # R2 for Linear Regression</span></span>
<span><span class="co">##        R2: 0.005</span></span>
<span><span class="co">##   adj. R2: -0.002</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Oh nein! Unterirdisch schlecht. Anstelle von blo√üen Rumprobieren √ºberlegen Sie und schauen dann in <a href="070-zusammenhaenge.html#fig-mario-corr">Abbildung&nbsp;<span>9.9</span></a> nach, welche Variable am st√§rksten korreliert mit <code>total_pr</code>, es resultiert <code>lm3</code>:</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-32_b2b601e7acfee1fece54f70195a79b11">
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">lm3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">total_pr</span> <span class="op">~</span> <span class="va">ship_pr</span>, data <span class="op">=</span> <span class="va">mariokart</span><span class="op">)</span></span>
<span><span class="fu">parameters</span><span class="op">(</span><span class="va">lm3</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="080-regression1_cache/html/tbl-lm3_9f910b70cf5e9b5a01e9d747b6cf361b">
<div class="cell-output-display">
<div id="tbl-lm3" class="anchored">
<table class="table table-sm table-striped small">
<caption>Tabelle&nbsp;10.1: Modellparameter von lm3</caption>
<thead><tr class="header">
<th style="text-align: left;">Parameter</th>
<th style="text-align: center;">Coefficient</th>
<th style="text-align: center;">SE</th>
<th style="text-align: center;">95% CI</th>
<th style="text-align: center;">t(141)</th>
<th style="text-align: center;">p</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: center;">36.25</td>
<td style="text-align: center;">2.54</td>
<td style="text-align: center;">(31.23, 41.26)</td>
<td style="text-align: center;">14.28</td>
<td style="text-align: center;">&lt; .001</td>
</tr>
<tr class="even">
<td style="text-align: left;">ship pr</td>
<td style="text-align: center;">4.34</td>
<td style="text-align: center;">0.57</td>
<td style="text-align: center;">(3.22, 5.46)</td>
<td style="text-align: center;">7.67</td>
<td style="text-align: center;">&lt; .001</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Der Achsenabschnitt liegt bei ca. 36 Euro, wie man in <a href="#tbl-lm3">Tabelle&nbsp;<span>10.1</span></a> sieht: Ein Spiel, das mit Null Euro Preis startet, kann laut <code>lm3</code> etwa 36 Euro finaler Verkaufspreis erwarten. <em>Pro Euro an Versandkosten</em> (<code>ship_pr</code>) steigt der zu erwartende finale Verkaufspreis um ca. 4 Euro.<a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a>.</p>
<p>Die Regressionsgleichung von <code>lm3</code> lautet demnach:</p>
<p><code>total_pr_pred = 36.25 + 4.34*ship_pr</code>.</p>
<p>In Worten:</p>
<blockquote class="blockquote">
<p>Der vorhergesagte Gesamptreis eines Spiels liegt bei 36.25‚Ç¨ ‚ÄúSockelbetrag‚Äù plus 4.34 mal die Versandkosten.</p>
</blockquote>
<p>Man kann sich die erwarteten Werte (‚Äúexpectations‚Äù) des Verkaufspreises in Abh√§ngigkeit vom Wert der UV (<code>ship_pr</code>) auch sch√§tzen (‚Äúto estimate‚Äù) lassen, und zwar so<a href="#fn13" class="footnote-ref" id="fnref13" role="doc-noteref"><sup>13</sup></a>:</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-34_d144552f87f8141589633a36ed452aaf">
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">estimate_expectation</span><span class="op">(</span><span class="va">lm3</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># nur die ersten paar vorhergesagten Werte</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["ship_pr"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Predicted"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["SE"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["CI_low"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["CI_high"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Residuals"],"name":[6],"type":["dbl"],"align":["right"]}],"data":[{"1":"4.00","2":"53.59442","3":"1.874613","4":"49.88844","5":"57.30041","6":"-2.044424","_rn_":"1"},{"1":"3.99","2":"53.55105","3":"1.873160","4":"49.84794","5":"57.25416","6":"-16.511052","_rn_":"2"},{"1":"3.50","2":"51.42581","3":"1.822149","4":"47.82355","5":"55.02808","6":"-5.925814","_rn_":"3"},{"1":"0.00","2":"36.24554","3":"2.537924","4":"31.22824","5":"41.26284","6":"7.754457","_rn_":"4"},{"1":"0.00","2":"36.24554","3":"2.537924","4":"31.22824","5":"41.26284","6":"34.754457","_rn_":"5"},{"1":"4.00","2":"53.59442","3":"1.874613","4":"49.88844","5":"57.30041","6":"-8.594424","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Ah, bei 4 Euro Versandkosten ist laut dem Modell knapp 54 Euro Verkaufspreis zu erwarten, fassen Sie sich die Ausgabe zusammen.</p>
<blockquote class="blockquote">
<p>ü§ñ Das sieht man in der Spalte <code>Predicted</code>, dort steht der vorhersagte Wert f√ºr <code>total_pr</code> f√ºr einen bestimmten Wert von <code>ship_pr</code>.</p>
</blockquote>
<blockquote class="blockquote">
<p>üßë‚Äçüéì Kann ich auch <code>predict</code> benutzen? Ich w√ºrde gerne den Verkaufspreis wissen, wenn die Versandkosten bei 1 und bei 4 Euro liegen.</p>
</blockquote>
<blockquote class="blockquote">
<p>ü§ñ Ja, klar!</p>
</blockquote>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-35_6c32007b6f76fc8e880a26e6e7e42d9e">
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">neue_daten</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span></span>
<span>  ship_pr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span>  <span class="co"># zwei Werte zum Vorhersagen</span></span>
<span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-36_ba9c29fd0b25b24eaadad1c7cc19a1b9">
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">lm3</span>, newdata <span class="op">=</span> <span class="va">neue_daten</span><span class="op">)</span></span>
<span><span class="co">##        1        2 </span></span>
<span><span class="co">## 40.58276 53.59442</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Aber n√ºtzlich w√§re noch, das Modell (bzw. die Sch√§tzung der erwarteten Werte) als Diagramm zu bekommen. Das erreicht man z.B. so, s. <a href="090-regression2.html#fig-lm3">Abbildung&nbsp;<span>11.11</span></a>.</p>
<div class="cell" data-hash="080-regression1_cache/html/fig-lm3_e82ec06177d1dc00e4b3125f30a2903c">
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">estimate_expectation</span><span class="op">(</span><span class="va">lm3</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-lm3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="080-regression1_files/figure-html/fig-lm3-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Abbildung&nbsp;10.8: Verbildlichung der erwarteteten Werte laut lm3</figcaption></figure>
</div>
</div>
</div>
<p><code>estimate_expectation</code> hei√üt sinngem√§√ü ‚Äúsch√§tze den zu erwartenden Wert‚Äù. Kurz gesagt: Wir wollen eine Vorhersage von R.</p>
<p>Am wichtigsten ist Ihnen aber im Moment die Frage, wie ‚Äúgut‚Äù das Modell ist, spricht wie lang oder kurz die Vorhersagefehler-Balken sind:</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-38_5b299b1d1a50a0b418350ff133ca5d9f">
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">mae</span><span class="op">(</span><span class="va">lm3</span><span class="op">)</span></span>
<span><span class="co">## [1] 13.0632</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Das Modell erkl√§rt einen Anteil von ca. 0.29 der Gesamtstreuung.</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-40_c381cc55da206b325605b3b1d240966e">
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">mae</span><span class="op">(</span><span class="va">lm3</span><span class="op">)</span></span>
<span><span class="co">## [1] 13.0632</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Im n√§chsten Meeting erz√§hlen Sie Ihrem Chef ‚ÄúIch kann den Verkaufspreis von Mariokart-Spielen im Schnitt auf 13 Dollar genau vorhersagen!‚Äù. H√∂rt sich gut an. Allerdings h√§tte ihr Chef es gerne genauer. Kann man da noch was machen?</p>
</section><section id="fallstudie-immobilienpreise" class="level2" data-number="10.7"><h2 data-number="10.7" class="anchored" data-anchor-id="fallstudie-immobilienpreise">
<span class="header-section-number">10.7</span> Fallstudie Immobilienpreise</h2>
<!-- ## Fallstudie Immobilienpreise -->
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Vorsicht
</div>
</div>
<div class="callout-body-container callout-body">
<p>Diese Fallstudie stellt die Pr√ºfungsleistung ‚ÄúPrognosewettbewerb‚Äù einf√ºhrend dar. Es empfiehlt sich f√ºr Sie, diese Fallstudie sorgsam zu bearbeiten.<span class="math inline">\(\square\)</span></p>
</div>
</div>
<section id="hintergrund" class="level3" data-number="10.7.1"><h3 data-number="10.7.1" class="anchored" data-anchor-id="hintergrund">
<span class="header-section-number">10.7.1</span> Hintergrund</h3>
<p>In dieser Fallstudie geht es darum, die Preise von Immobilien vorherzusagen. Kurz gesagt: Sagen Sie die Hauspreise vorher, und reichen Sie Ihre Vorhersagen als CSV bei <a href="https://www.kaggle.com/">Kaggle</a> ein.</p>
<p>Kaggle ist eine Webseite, die Prognosewettbewerbe veranstaltet.</p>
<p>In dieser Fallstudie nehmen Sie teil an der Kaggle-Competition <a href="https://www.kaggle.com/competitions/house-prices-advanced-regression-techniques/overview">Ames House Prices</a>.</p>
<ul>
<li><a href="https://www.kaggle.com/competitions/house-prices-advanced-regression-techniques/overview/description">Beschreibung</a></li>
<li><a href="https://www.kaggle.com/competitions/house-prices-advanced-regression-techniques/overview/evaluation">Ziel/Aufgabe</a></li>
<li><a href="https://www.kaggle.com/competitions/house-prices-advanced-regression-techniques/rules">Spielregeln</a></li>
</ul></section><section id="ben√∂tigte-r-pakete-1" class="level3" data-number="10.7.2"><h3 data-number="10.7.2" class="anchored" data-anchor-id="ben√∂tigte-r-pakete-1">
<span class="header-section-number">10.7.2</span> Ben√∂tigte R-Pakete</h3>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-41_74ac515b80be81773e469d1de5332c23">
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://easystats.github.io/easystats/">easystats</a></span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="daten" class="level3" data-number="10.7.3"><h3 data-number="10.7.3" class="anchored" data-anchor-id="daten">
<span class="header-section-number">10.7.3</span> Daten</h3>
<p>Wenn Sie sich bei Kaggle einloggen m√∂chten, k√∂nnen Sie die Daten von Kaggle herunterladen und zwar <a href="https://www.kaggle.com/competitions/house-prices-advanced-regression-techniques/data">hier</a>.</p>
<p>Im Einzelnen m√ºssen Sie folgende Dateien herunterladen:</p>
<ul>
<li>
<em>Data_description.txt</em>: Code book, d.h. Beschreibung der Variablen im Datensatz</li>
<li>
<em>train.csv</em>: Daten von H√§usern, die Sie nutzen, um Modelle zu erstellen</li>
<li>
<em>test.csv</em>: Daten von H√§usern, von denen Sie den Kaufpreis vorhersagen sollen</li>
<li>
<em>sample_submission.csv</em>: Beispielhafte Prognosedatei, die Datei also, mit der Sie Ihre Vorhersagen einreichen</li>
</ul>
<p>Sie k√∂nnen auch so auf die Daten zugreifen:</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-42_ad94bd91167f090ba6b2bbd5b2eeae1f">
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">d_train_path_online</span> <span class="op">&lt;-</span> <span class="st">"https://raw.githubusercontent.com/sebastiansauer/Lehre/main/data/ames-kaggle/train.csv"</span></span>
<span><span class="va">d_test_path_online</span> <span class="op">&lt;-</span> <span class="st">"https://raw.githubusercontent.com/sebastiansauer/Lehre/main/data/ames-kaggle/test.csv"</span></span>
<span></span>
<span><span class="va">d_train</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="va">d_train_path_online</span><span class="op">)</span></span>
<span><span class="va">d_test</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="va">d_test_path_online</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Laden Sie diese Daten am besten herunter und speichern Sie sie in einem passenden Unterverzeichnis (Ihres Projektordners in RStudio) ab.</p>
<p>Das Code Book k√∂nnen Sie <a href="https://github.com/sebastiansauer/Lehre/blob/main/data/ames-kaggle/data_description.txt">hier einsehen und herunterladen</a>.</p>
</section><section id="prognosedatei" class="level3" data-number="10.7.4"><h3 data-number="10.7.4" class="anchored" data-anchor-id="prognosedatei">
<span class="header-section-number">10.7.4</span> Prognosedatei</h3>
<p>Die Prognosedatei soll prinzipiell so aussehen:</p>
<div class="cell" data-hash="080-regression1_cache/html/read-data-ames_daaa8df082e81232bb6f5054aa0205d3">
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Id"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["SalePrice"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"1461","2":"169277.1"},{"1":"1462","2":"187758.4"},{"1":"1463","2":"183583.7"},{"1":"1464","2":"179317.5"},{"1":"1465","2":"150730.1"},{"1":"1466","2":"177151.0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Die Prognosedatei besteht also aus zwei Spalten: der Spalte <code>id</code> und der Spalte <code>Saleprice</code>. Die Spalte <code>id</code> gibt an, welches Haus in einer bestimmten Zeile Ihrer Prognosedatei gemeint ist - f√ºr welches Haus Sie also gerade einen Kaufpreis vorhersagen. die Spalte <code>SalePrice</code> ist Ihre Vorhersage f√ºr den Kaufpreis das Hauses mit der Id, die in der betreffenden Zeile steht. Insgesamt soll die Prognosedatei genau so viele Zeilen haben wie der Test-Datensatz, also die Tabelle, die die vorherzusagenden Werte angibt.</p>
<p>Alles klar?</p>
<p>Los geht‚Äôs!</p>
</section><section id="daten-importieren" class="level3" data-number="10.7.5"><h3 data-number="10.7.5" class="anchored" data-anchor-id="daten-importieren">
<span class="header-section-number">10.7.5</span> Daten importieren</h3>
<p>Wir starten die √ºblichen R-Pakete und importieren die Daten (<code>d</code>):</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-43_0a20c3d48e6b3fa765fcb8908a2b0207">
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://easystats.github.io/easystats/">easystats</a></span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="080-regression1_cache/html/read-data-local_33571c4be0ae0b6e27fe44513b90a3ad">
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">d_train_path</span> <span class="op">&lt;-</span> <span class="st">"daten/ames-kaggle/train.csv"</span></span>
<span><span class="va">d_test_path</span> <span class="op">&lt;-</span> <span class="st">"daten/ames-kaggle/test.csv"</span></span>
<span><span class="va">d_train</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="va">d_train_path</span><span class="op">)</span></span>
<span><span class="va">d_test</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="va">d_test_path</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>In diesem Beispiel gehen wir davon aus, dass die Dateien <code>train.csv</code> und <code>test.csv</code> in einem Unterordner namens <code>daten/ames-kaggle</code> liegen. Sie m√ºssen sie dort abspeichern. Dieser Ornder muss ein Unterordner Ihres aktuellen R-Projekts sein.<span class="math inline">\(\square\)</span></p>
</div>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Vorsicht
</div>
</div>
<div class="callout-body-container callout-body">
<p>Wenn das Importieren von der Festplatte nicht klappt ‚Ä¶ Es ist hilfreich, wenn man Daten von der eigenen Festplatte importieren kann. Aber f√ºrs Erste k√∂nnen Sie die Daten auch von oben angegeben Online-Pfad importieren.<span class="math inline">\(\square\)</span></p>
</div>
</div>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-44_72aa180c2aecef5d434c93a8191a4ddd">
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">d_train</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="va">d_train_path_online</span><span class="op">)</span></span>
<span><span class="va">d_test</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="va">d_test_path_online</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="ein-erster-blick-in-die-daten" class="level3" data-number="10.7.6"><h3 data-number="10.7.6" class="anchored" data-anchor-id="ein-erster-blick-in-die-daten">
<span class="header-section-number">10.7.6</span> Ein erster Blick in die Daten</h3>
<p>Schauen wir uns einmal die Verteilung der metrischen Variablen an, <a href="#tbl-ames1">Tabelle&nbsp;<span>10.2</span></a>.</p>
<div class="cell" data-hash="080-regression1_cache/html/tbl-ames1_1cf28aee2b5451aa00d3b3acce260f85">
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">describe_distribution</span><span class="op">(</span><span class="va">d_train</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="tbl-ames1" class="anchored">

<div data-pagedtable="false"> <div class="table-caption">Tabelle&nbsp;10.2:  <p>Verteilung der metrischen Variablen im ames-Datensatz</p> </div>
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Variable"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Mean"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["SD"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["IQR"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Min"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Max"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["Skewness"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["Kurtosis"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["n"],"name":[9],"type":["int"],"align":["right"]},{"label":["n_Missing"],"name":[10],"type":["int"],"align":["right"]}],"data":[{"1":"Id","2":"7.305000e+02","3":"4.216100e+02","4":"730.50","5":"1","6":"1460","7":"0.00000000","8":"-1.20000000","9":"1460","10":"0"},{"1":"MSSubClass","2":"5.689726e+01","3":"4.230057e+01","4":"50.00","5":"20","6":"190","7":"1.40765675","8":"1.58018796","9":"1460","10":"0"},{"1":"LotFrontage","2":"7.004996e+01","3":"2.428475e+01","4":"21.00","5":"21","6":"313","7":"2.16356914","8":"17.45286726","9":"1201","10":"259"},{"1":"LotArea","2":"1.051683e+04","3":"9.981265e+03","4":"4060.00","5":"1300","6":"215245","7":"12.20768785","8":"203.24327102","9":"1460","10":"0"},{"1":"OverallQual","2":"6.099315e+00","3":"1.382997e+00","4":"2.00","5":"1","6":"10","7":"0.21694393","8":"0.09629278","9":"1460","10":"0"},{"1":"OverallCond","2":"5.575342e+00","3":"1.112799e+00","4":"1.00","5":"1","6":"9","7":"0.69306747","8":"1.10641346","9":"1460","10":"0"},{"1":"YearBuilt","2":"1.971268e+03","3":"3.020290e+01","4":"46.00","5":"1872","6":"2010","7":"-0.61346117","8":"-0.43955194","9":"1460","10":"0"},{"1":"YearRemodAdd","2":"1.984866e+03","3":"2.064541e+01","4":"37.00","5":"1950","6":"2010","7":"-0.50356200","8":"-1.27224519","9":"1460","10":"0"},{"1":"MasVnrArea","2":"1.036853e+02","3":"1.810662e+02","4":"166.00","5":"0","6":"1600","7":"2.66908421","8":"10.08241732","9":"1452","10":"8"},{"1":"BsmtFinSF1","2":"4.436397e+02","3":"4.560981e+02","4":"712.75","5":"0","6":"5644","7":"1.68550307","8":"11.11823629","9":"1460","10":"0"},{"1":"BsmtFinSF2","2":"4.654932e+01","3":"1.613193e+02","4":"0.00","5":"0","6":"1474","7":"4.25526111","8":"20.11333755","9":"1460","10":"0"},{"1":"BsmtUnfSF","2":"5.672404e+02","3":"4.418670e+02","4":"585.00","5":"0","6":"2336","7":"0.92026845","8":"0.47499399","9":"1460","10":"0"},{"1":"TotalBsmtSF","2":"1.057429e+03","3":"4.387053e+02","4":"503.50","5":"0","6":"6110","7":"1.52425455","8":"13.25048328","9":"1460","10":"0"},{"1":"1stFlrSF","2":"1.162627e+03","3":"3.865877e+02","4":"509.75","5":"334","6":"4692","7":"1.37675662","8":"5.74584148","9":"1460","10":"0"},{"1":"2ndFlrSF","2":"3.469925e+02","3":"4.365284e+02","4":"728.00","5":"0","6":"2065","7":"0.81302982","8":"-0.55346356","9":"1460","10":"0"},{"1":"LowQualFinSF","2":"5.844521e+00","3":"4.862308e+01","4":"0.00","5":"0","6":"572","7":"9.01134129","8":"83.23481667","9":"1460","10":"0"},{"1":"GrLivArea","2":"1.515464e+03","3":"5.254804e+02","4":"649.75","5":"334","6":"5642","7":"1.36656036","8":"4.89512058","9":"1460","10":"0"},{"1":"BsmtFullBath","2":"4.253425e-01","3":"5.189106e-01","4":"1.00","5":"0","6":"3","7":"0.59606661","8":"-0.83909827","9":"1460","10":"0"},{"1":"BsmtHalfBath","2":"5.753425e-02","3":"2.387526e-01","4":"0.00","5":"0","6":"2","7":"4.10340270","8":"16.39664195","9":"1460","10":"0"},{"1":"FullBath","2":"1.565068e+00","3":"5.509158e-01","4":"1.00","5":"0","6":"3","7":"0.03656156","8":"-0.85704282","9":"1460","10":"0"},{"1":"HalfBath","2":"3.828767e-01","3":"5.028854e-01","4":"1.00","5":"0","6":"2","7":"0.67589745","8":"-1.07692728","9":"1460","10":"0"},{"1":"BedroomAbvGr","2":"2.866438e+00","3":"8.157780e-01","4":"1.00","5":"0","6":"8","7":"0.21179010","8":"2.23087458","9":"1460","10":"0"},{"1":"KitchenAbvGr","2":"1.046575e+00","3":"2.203382e-01","4":"0.00","5":"0","6":"3","7":"4.48839678","8":"21.53240384","9":"1460","10":"0"},{"1":"TotRmsAbvGrd","2":"6.517808e+00","3":"1.625393e+00","4":"2.00","5":"2","6":"14","7":"0.67634084","8":"0.88076157","9":"1460","10":"0"},{"1":"Fireplaces","2":"6.130137e-01","3":"6.446664e-01","4":"1.00","5":"0","6":"3","7":"0.64956518","8":"-0.21723721","9":"1460","10":"0"},{"1":"GarageYrBlt","2":"1.978506e+03","3":"2.468972e+01","4":"41.00","5":"1900","6":"2010","7":"-0.64941462","8":"-0.41834100","9":"1379","10":"81"},{"1":"GarageCars","2":"1.767123e+00","3":"7.473150e-01","4":"1.00","5":"0","6":"4","7":"-0.34254893","8":"0.22099776","9":"1460","10":"0"},{"1":"GarageArea","2":"4.729801e+02","3":"2.138048e+02","4":"244.50","5":"0","6":"1418","7":"0.17998091","8":"0.91706720","9":"1460","10":"0"},{"1":"WoodDeckSF","2":"9.424452e+01","3":"1.253388e+02","4":"168.00","5":"0","6":"857","7":"1.54137576","8":"2.99295092","9":"1460","10":"0"},{"1":"OpenPorchSF","2":"4.666027e+01","3":"6.625603e+01","4":"68.00","5":"0","6":"547","7":"2.36434174","8":"8.49033581","9":"1460","10":"0"},{"1":"EnclosedPorch","2":"2.195411e+01","3":"6.111915e+01","4":"0.00","5":"0","6":"552","7":"3.08987190","8":"10.43076594","9":"1460","10":"0"},{"1":"3SsnPorch","2":"3.409589e+00","3":"2.931733e+01","4":"0.00","5":"0","6":"508","7":"10.30434203","8":"123.66237945","9":"1460","10":"0"},{"1":"ScreenPorch","2":"1.506096e+01","3":"5.575742e+01","4":"0.00","5":"0","6":"480","7":"4.12221374","8":"18.43906784","9":"1460","10":"0"},{"1":"PoolArea","2":"2.758904e+00","3":"4.017731e+01","4":"0.00","5":"0","6":"738","7":"14.82837364","8":"223.26849892","9":"1460","10":"0"},{"1":"MiscVal","2":"4.348904e+01","3":"4.961230e+02","4":"0.00","5":"0","6":"15500","7":"24.47679419","8":"701.00334228","9":"1460","10":"0"},{"1":"MoSold","2":"6.321918e+00","3":"2.703626e+00","4":"3.00","5":"1","6":"12","7":"0.21205299","8":"-0.40410934","9":"1460","10":"0"},{"1":"YrSold","2":"2.007816e+03","3":"1.328095e+00","4":"2.00","5":"2006","6":"2010","7":"0.09626851","8":"-1.19060057","9":"1460","10":"0"},{"1":"SalePrice","2":"1.809212e+05","3":"7.944250e+04","4":"84075.00","5":"34900","6":"755000","7":"1.88287576","8":"6.53628186","9":"1460","10":"0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
</section><section id="ein-erstes-vorhersagemodell" class="level3" data-number="10.7.7"><h3 data-number="10.7.7" class="anchored" data-anchor-id="ein-erstes-vorhersagemodell">
<span class="header-section-number">10.7.7</span> Ein erstes Vorhersagemodell</h3>
<section id="welche-variablen-eignen-sich-zur-vorhersage" class="level4" data-number="10.7.7.1"><h4 data-number="10.7.7.1" class="anchored" data-anchor-id="welche-variablen-eignen-sich-zur-vorhersage">
<span class="header-section-number">10.7.7.1</span> Welche Variablen eignen sich zur Vorhersage?</h4>
<p>Eine einfache Antwort auf die Frage, welche Variablen sich zur Vorhersage eignen, ist, die Korrelation aller Pr√§diktoren mit der abh√§ngigen Variablen<a href="#fn14" class="footnote-ref" id="fnref14" role="doc-noteref"><sup>14</sup></a> zu berechnen, s. <a href="#tbl-d_train_corr">Tabelle&nbsp;<span>10.3</span></a>.</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-46_86775779d04280bfd699b0acbc109f94">
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">d_train</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">Id</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">correlation</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>  <span class="co"># berechne Korrelationen</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Parameter2</span> <span class="op">==</span> <span class="st">"SalePrice"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>   <span class="co"># aber nur, wo die zweite Variable "SalesPrice" ist</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>   <span class="co"># sortiere absteigend nach der H√∂he des Korrelationskoeffizienten r</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">.3</span><span class="op">)</span>  <span class="co"># nur |r| &gt; 3.</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="080-regression1_cache/html/tbl-d_train_corr_f57afbbcc17d0a2e362dd7859c3d6857">
<div class="cell-output-display">
<div id="tbl-d_train_corr" class="anchored">
<table class="table table-sm table-striped small">
<caption>Tabelle&nbsp;10.3: Korrelation der Pr√§diktoren (UV) mit der AV</caption>
<colgroup>
<col style="width: 18%">
<col style="width: 17%">
<col style="width: 8%">
<col style="width: 20%">
<col style="width: 10%">
<col style="width: 8%">
<col style="width: 15%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">Parameter1</th>
<th style="text-align: center;">Parameter2</th>
<th style="text-align: center;">r</th>
<th style="text-align: center;">95% CI</th>
<th style="text-align: center;">t</th>
<th style="text-align: center;">df</th>
<th style="text-align: center;">p</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">OverallQual</td>
<td style="text-align: center;">SalePrice</td>
<td style="text-align: center;">0.79</td>
<td style="text-align: center;">(0.77, 0.81)</td>
<td style="text-align: center;">49.36</td>
<td style="text-align: center;">1458</td>
<td style="text-align: center;">&lt; .001***</td>
</tr>
<tr class="even">
<td style="text-align: left;">GrLivArea</td>
<td style="text-align: center;">SalePrice</td>
<td style="text-align: center;">0.71</td>
<td style="text-align: center;">(0.68, 0.73)</td>
<td style="text-align: center;">38.35</td>
<td style="text-align: center;">1458</td>
<td style="text-align: center;">&lt; .001***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">GarageCars</td>
<td style="text-align: center;">SalePrice</td>
<td style="text-align: center;">0.64</td>
<td style="text-align: center;">(0.61, 0.67)</td>
<td style="text-align: center;">31.84</td>
<td style="text-align: center;">1458</td>
<td style="text-align: center;">&lt; .001***</td>
</tr>
<tr class="even">
<td style="text-align: left;">GarageArea</td>
<td style="text-align: center;">SalePrice</td>
<td style="text-align: center;">0.62</td>
<td style="text-align: center;">(0.59, 0.65)</td>
<td style="text-align: center;">30.45</td>
<td style="text-align: center;">1458</td>
<td style="text-align: center;">&lt; .001***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TotalBsmtSF</td>
<td style="text-align: center;">SalePrice</td>
<td style="text-align: center;">0.61</td>
<td style="text-align: center;">(0.58, 0.64)</td>
<td style="text-align: center;">29.67</td>
<td style="text-align: center;">1458</td>
<td style="text-align: center;">&lt; .001***</td>
</tr>
<tr class="even">
<td style="text-align: left;">1stFlrSF</td>
<td style="text-align: center;">SalePrice</td>
<td style="text-align: center;">0.61</td>
<td style="text-align: center;">(0.57, 0.64)</td>
<td style="text-align: center;">29.08</td>
<td style="text-align: center;">1458</td>
<td style="text-align: center;">&lt; .001***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">FullBath</td>
<td style="text-align: center;">SalePrice</td>
<td style="text-align: center;">0.56</td>
<td style="text-align: center;">(0.52, 0.59)</td>
<td style="text-align: center;">25.85</td>
<td style="text-align: center;">1458</td>
<td style="text-align: center;">&lt; .001***</td>
</tr>
<tr class="even">
<td style="text-align: left;">TotRmsAbvGrd</td>
<td style="text-align: center;">SalePrice</td>
<td style="text-align: center;">0.53</td>
<td style="text-align: center;">(0.50, 0.57)</td>
<td style="text-align: center;">24.10</td>
<td style="text-align: center;">1458</td>
<td style="text-align: center;">&lt; .001***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">YearBuilt</td>
<td style="text-align: center;">SalePrice</td>
<td style="text-align: center;">0.52</td>
<td style="text-align: center;">(0.48, 0.56)</td>
<td style="text-align: center;">23.42</td>
<td style="text-align: center;">1458</td>
<td style="text-align: center;">&lt; .001***</td>
</tr>
<tr class="even">
<td style="text-align: left;">YearRemodAdd</td>
<td style="text-align: center;">SalePrice</td>
<td style="text-align: center;">0.51</td>
<td style="text-align: center;">(0.47, 0.54)</td>
<td style="text-align: center;">22.47</td>
<td style="text-align: center;">1458</td>
<td style="text-align: center;">&lt; .001***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">GarageYrBlt</td>
<td style="text-align: center;">SalePrice</td>
<td style="text-align: center;">0.49</td>
<td style="text-align: center;">(0.44, 0.53)</td>
<td style="text-align: center;">20.66</td>
<td style="text-align: center;">1377</td>
<td style="text-align: center;">&lt; .001***</td>
</tr>
<tr class="even">
<td style="text-align: left;">MasVnrArea</td>
<td style="text-align: center;">SalePrice</td>
<td style="text-align: center;">0.48</td>
<td style="text-align: center;">(0.44, 0.52)</td>
<td style="text-align: center;">20.69</td>
<td style="text-align: center;">1450</td>
<td style="text-align: center;">&lt; .001***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fireplaces</td>
<td style="text-align: center;">SalePrice</td>
<td style="text-align: center;">0.47</td>
<td style="text-align: center;">(0.43, 0.51)</td>
<td style="text-align: center;">20.16</td>
<td style="text-align: center;">1458</td>
<td style="text-align: center;">&lt; .001***</td>
</tr>
<tr class="even">
<td style="text-align: left;">BsmtFinSF1</td>
<td style="text-align: center;">SalePrice</td>
<td style="text-align: center;">0.39</td>
<td style="text-align: center;">(0.34, 0.43)</td>
<td style="text-align: center;">16.00</td>
<td style="text-align: center;">1458</td>
<td style="text-align: center;">&lt; .001***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LotFrontage</td>
<td style="text-align: center;">SalePrice</td>
<td style="text-align: center;">0.35</td>
<td style="text-align: center;">(0.30, 0.40)</td>
<td style="text-align: center;">13.01</td>
<td style="text-align: center;">1199</td>
<td style="text-align: center;">&lt; .001***</td>
</tr>
<tr class="even">
<td style="text-align: left;">WoodDeckSF</td>
<td style="text-align: center;">SalePrice</td>
<td style="text-align: center;">0.32</td>
<td style="text-align: center;">(0.28, 0.37)</td>
<td style="text-align: center;">13.10</td>
<td style="text-align: center;">1458</td>
<td style="text-align: center;">&lt; .001***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2ndFlrSF</td>
<td style="text-align: center;">SalePrice</td>
<td style="text-align: center;">0.32</td>
<td style="text-align: center;">(0.27, 0.36)</td>
<td style="text-align: center;">12.87</td>
<td style="text-align: center;">1458</td>
<td style="text-align: center;">&lt; .001***</td>
</tr>
<tr class="even">
<td style="text-align: left;">OpenPorchSF</td>
<td style="text-align: center;">SalePrice</td>
<td style="text-align: center;">0.32</td>
<td style="text-align: center;">(0.27, 0.36)</td>
<td style="text-align: center;">12.71</td>
<td style="text-align: center;">1458</td>
<td style="text-align: center;">&lt; .001***</td>
</tr>
</tbody>
</table>
</div>
<p>p-value adjustment method: Holm (1979) Observations: 1201-1460</p>
</div>
</div>
<p>Aha! Ein Menge Information.<a href="#fn15" class="footnote-ref" id="fnref15" role="doc-noteref"><sup>15</sup></a></p>
<p>Diese Variablen sind einigerma√üen stark mit unserer Zielvariablen <code>SalePrice</code> korreliert. Nutzen wir also diese Variablen (oder einige von ihnen) zur Vorhersage.</p>
</section><section id="model-1" class="level4" data-number="10.7.7.2"><h4 data-number="10.7.7.2" class="anchored" data-anchor-id="model-1">
<span class="header-section-number">10.7.7.2</span> Model 1</h4>
<p>Berechnen wir ein erstes Modell f√ºr diese Forschungsfrage, s. <a href="#tbl-m1-params">Tabelle&nbsp;<span>10.4</span></a>.</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-48_7b884f2d14984d57fbc796d4307dff60">
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">SalePrice</span> <span class="op">~</span> <span class="va">OverallQual</span> <span class="op">+</span> <span class="va">GrLivArea</span> <span class="op">+</span> <span class="va">GarageCars</span>, data <span class="op">=</span> <span class="va">d_train</span><span class="op">)</span></span>
<span><span class="fu">parameters</span><span class="op">(</span><span class="va">m1</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="080-regression1_cache/html/tbl-m1-params_7a6bc07b53087f015125dd238876ad71">
<div class="cell-output-display">
<div id="tbl-m1-params" class="anchored">
<table class="table table-sm table-striped small">
<caption>Tabelle&nbsp;10.4: Modellparameter von m1</caption>
<colgroup>
<col style="width: 16%">
<col style="width: 17%">
<col style="width: 12%">
<col style="width: 32%">
<col style="width: 12%">
<col style="width: 10%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">Parameter</th>
<th style="text-align: center;">Coefficient</th>
<th style="text-align: center;">SE</th>
<th style="text-align: center;">95% CI</th>
<th style="text-align: center;">t(1456)</th>
<th style="text-align: center;">p</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: center;">-98832.49</td>
<td style="text-align: center;">4842.90</td>
<td style="text-align: center;">(-1.08e+05, -89332.69)</td>
<td style="text-align: center;">-20.41</td>
<td style="text-align: center;">&lt; .001</td>
</tr>
<tr class="even">
<td style="text-align: left;">OverallQual</td>
<td style="text-align: center;">27104.83</td>
<td style="text-align: center;">1072.18</td>
<td style="text-align: center;">(25001.64, 29208.01)</td>
<td style="text-align: center;">25.28</td>
<td style="text-align: center;">&lt; .001</td>
</tr>
<tr class="odd">
<td style="text-align: left;">GrLivArea</td>
<td style="text-align: center;">50.67</td>
<td style="text-align: center;">2.55</td>
<td style="text-align: center;">(45.67, 55.68)</td>
<td style="text-align: center;">19.86</td>
<td style="text-align: center;">&lt; .001</td>
</tr>
<tr class="even">
<td style="text-align: left;">GarageCars</td>
<td style="text-align: center;">21298.96</td>
<td style="text-align: center;">1807.06</td>
<td style="text-align: center;">(17754.23, 24843.69)</td>
<td style="text-align: center;">11.79</td>
<td style="text-align: center;">&lt; .001</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Wie gut sind die Vorhersagen des Modells f√ºr die Daten von <code>d_train</code>?</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-50_e4dafaaf5685de34d92ac6ab88a00ee7">
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">rmse</span><span class="op">(</span><span class="va">m1</span><span class="op">)</span></span>
<span><span class="co">## [1] 40566.42</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Im Schnitt liegen unsere Vorhersagen ca. 40 Tausend Dollar daneben. Ist das gut?</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-51_507c8fceb0a9fbedab5681ecdaefb7eb">
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">r2</span><span class="op">(</span><span class="va">m1</span><span class="op">)</span></span>
<span><span class="co">## # R2 for Linear Regression</span></span>
<span><span class="co">##        R2: 0.739</span></span>
<span><span class="co">##   adj. R2: 0.739</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ob das R-Quadrat ‚Äúgut‚Äù oder ‚Äúhoch‚Äù ist, beantwortet man am besten <em>relativ</em>, also im Vergleich zu anderen Modellen.</p>
</section><section id="nullmodell-1" class="level4" data-number="10.7.7.3"><h4 data-number="10.7.7.3" class="anchored" data-anchor-id="nullmodell-1">
<span class="header-section-number">10.7.7.3</span> Nullmodell</h4>
<p>Zum Vergleich berechnen wir das maximal einfache Modell: ohne Pr√§diktoren. Man nennt es das ‚ÄúNullmodell‚Äù. In diesem Modell sagen wir f√ºr jedes Haus einfach den mittleren Preis aller H√§user vorher.</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-52_2c9548a9ddbf026e921969e028495d5c">
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">m0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">SalePrice</span> <span class="op">~</span> <span class="fl">1</span>, data <span class="op">=</span> <span class="va">d_train</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Wie gut ist die Vorhersage des Nullnomdells?</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-53_58667f36f88c5bc3bb54469057bdbf6f">
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">rmse</span><span class="op">(</span><span class="va">m0</span><span class="op">)</span></span>
<span><span class="co">## [1] 79415.29</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Das R-Quadrat der Nullmodells ist per Definition Null:</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-54_64d8d322522929ffaf8ffa834aa372e9">
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">r2</span><span class="op">(</span><span class="va">m0</span><span class="op">)</span></span>
<span><span class="co">## # R2 for Linear Regression</span></span>
<span><span class="co">##        R2: 0.000</span></span>
<span><span class="co">##   adj. R2: 0.000</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="vorhersagen-im-test-datensatz" class="level3" data-number="10.7.8"><h3 data-number="10.7.8" class="anchored" data-anchor-id="vorhersagen-im-test-datensatz">
<span class="header-section-number">10.7.8</span> Vorhersagen im Test-Datensatz</h3>
<p>Wir haben jetzt unseren Champion, <code>m1</code>. Alle Hoffnung ruht auf diesem Modell. Ob die Vorhersagen im Test-Sample pr√§zise sein werden? Oder himmelweit daneben? Bitte, entt√§usche uns nicht!</p>
<p>Hier sind die Vorhersagen:</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-55_89475ebd289cf5ac28613ab868893c71">
<div class="sourceCode" id="annotated-cell-40"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">m1_pred</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">m1</span>, newdata <span class="op">=</span> <span class="va">d_test</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">m1_pred</span><span class="op">)</span></span>
<span><span class="co">##        1        2        3        4        5        6 </span></span>
<span><span class="co">## 103394.7 152441.4 161837.8 187675.8 225467.0 190260.2</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl>
<dt data-target-cell="annotated-cell-40" data-target-annotation="1">1</dt>
<dd>
<span data-code-annotation="1" data-code-cell="annotated-cell-40" data-code-lines="1">predicte anhand der Regressionsgerade von m1 und zwar anhand der Daten aus <code>d_test</code></span>
</dd>
<dt data-target-cell="annotated-cell-40" data-target-annotation="2">2</dt>
<dd>
<span data-code-annotation="2" data-code-cell="annotated-cell-40" data-code-lines="2">zeige den ‚ÄúKopf‚Äù der Vorhersagen (<code>m1_pred</code>), d.h. die ersten paar Vorhersagen</span>
</dd>
</dl>
</div>
</div>
<p>Die Vohersagen f√ºgen wir jetzt dem Test-Sample hinzu:</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-56_397cb64c48cf391bb59bdcc0f953a4bc">
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">d_test</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">d_test</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>SalePrice <span class="op">=</span> <span class="va">m1_pred</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="einreichen" class="level3" data-number="10.7.9"><h3 data-number="10.7.9" class="anchored" data-anchor-id="einreichen">
<span class="header-section-number">10.7.9</span> Einreichen!</h3>
<p>So, wir haben unsere Vorhersagen! Jetzt reichen wir diese Vorhesagen ein.</p>
<p>F√ºr die Prognosedatei (submission file) zum Einreichen brauchen wir nur die Spalten <code>id</code> und <code>SalePrice</code>:</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-57_e030ce811e29645cf9a9aab1d56cd54b">
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">m1_subm</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">d_test</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">Id</span>, <span class="va">SalePrice</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Kaggle m√∂chte keine fehlenden Werten in den Vorhersagen, also pr√ºfen wir das mal:</p>
<div class="cell" data-code-annotations="hover" data-hash="080-regression1_cache/html/unnamed-chunk-58_d48955db1b69d537270f5b4753d0fe35">
<div class="sourceCode" id="annotated-cell-43"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">m1_subm</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">## [1] 1458</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl>
<dt data-target-cell="annotated-cell-43" data-target-annotation="1">1</dt>
<dd>
<span data-code-annotation="1" data-code-cell="annotated-cell-43" data-code-lines="2">Lass alle Zeilen mit NAs (fehlenden Werten in irgendeiner Spalte) fallen, filtere diese Zeilen also raus</span>
</dd>
<dt data-target-cell="annotated-cell-43" data-target-annotation="2">2</dt>
<dd>
<span data-code-annotation="2" data-code-cell="annotated-cell-43" data-code-lines="3">z√§hle die Anzahl der Zeilen</span>
</dd>
</dl>
</div>
</div>
<p>Oh, das ist <em>eine</em> Zeile weniger! Wir haben also einen fehlenden Wert!</p>
<p>Filtern wir die Spalte <code>SalePrice</code> mal nach ‚Äúist NA‚Äù:</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-59_79cecaf5f8390b37a53db7cc3d97e971">
<div class="sourceCode" id="annotated-cell-44"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">m1_subm</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="co"># &lt;1)</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">SalePrice</span><span class="op">)</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Id"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["SalePrice"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"2577","2":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>√úbersetzen wir die Syntax auf Deutsch:</p>
<ol type="1">
<li><p>Nimm zuerst die Tabelle <code>m1_smb</code></p></li>
<li><p>Filter dann so, dass du nur Zeilen hast, f√ºr die gilt, ‚Äúhier ist ein NA in der Spalte <code>SalePrice</code></p></li>
</ol>
<p>Ah, da ist er, der fehlende Wert, in Zeile 2577! Hinfort!</p>
<p>Wir ersetzen die fehlenden Werte in <code>SalePrice</code> mit dem Mittelwert von <code>SalePrice</code>:</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-60_4200ef2d7bd5e7b1576fb4d0a8f5e2fd">
<div class="sourceCode" id="annotated-cell-45"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">m1_subm_nona</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">m1_subm</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>SalePrice <span class="op">=</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/replace_na.html">replace_na</a></span><span class="op">(</span><span class="va">SalePrice</span>, <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">SalePrice</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Die Syntax wieder auf Deutsch:</p>
<ol type="1">
<li>Definiere <code>m1_subm_nona</code> wie folgt</li>
<li>Nimm <code>m1_subm</code> und dann</li>
<li>Ver√§ndere die Spalte <code>SalePrice</code> und zwar so, dass NAs ersetzt werden durch den Mittelwert von <code>SalePrice</code>
</li>
</ol>
<p>Und? Gib es jetzt noch fehlende Werte?</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-61_6e21f8d399d355dabf6be8b559f2ea76">
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">m1_subm_nona</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">SalePrice</span><span class="op">)</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Id"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["SalePrice"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Nein! Die Ergebnistabelle hat null Zeilen. ‚ÄúNo NA‚Äù - Keine NAs, keine fehlenden Werte mehr.</p>
<p>Diesen Tibble speichern wir als CSV-Datei an geeigneter Stelle ab.<a href="#fn16" class="footnote-ref" id="fnref16" role="doc-noteref"><sup>16</sup></a>.</p>
<div class="cell" data-hash="080-regression1_cache/html/unnamed-chunk-62_86506ea0ff876a04688b240b001377bf">
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html">write_csv</a></span><span class="op">(</span><span class="va">m1_subm_nona</span>, <span class="st">"daten/ames-kaggle/m1-subm.csv"</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Und dann laden Sie diese Datei, <code>m1_subm.csv</code> bei Kaggle hoch und hoffen auf einen Hauptgewinn.</p>
<p>Das Modell erzielte einen Score von <em>0.55521</em>.</p>
</section><section id="debrief" class="level3" data-number="10.7.10"><h3 data-number="10.7.10" class="anchored" data-anchor-id="debrief">
<span class="header-section-number">10.7.10</span> Debrief</h3>
<p>Diese Fallstudie hat ein einfaches Prognosemodell vorgestellt. Sicherlich gibt es viele Ans√§tze, dieses Modell zu verbessern.</p>
<p>Hier sind einige Fragen, die Sie sich dazu stellen k√∂nnen:</p>
<ul>
<li>Welche Pr√§diktoren sollte ich in das Modell aufnehmen?</li>
<li>Wie gehe ich mit fehlenden Werten um?</li>
<li>Wenn ein Pr√§diktor schief ist, sollte ich ihn dann log-transformieren?</li>
<li>Vielleicht sollte man manche Pr√§diktoren quadrieren?</li>
<li>Wie gehe ich mit nominalskalierten Variablen um, wenn diese viele Stufen haben?</li>
<li>‚Ä¶</li>
</ul>
<p>Viel Spielraum f√ºr Ihre Kreativit√§t!</p>
<!-- ## Fazit -->
<!-- TODO  -->
</section></section><section id="aufgaben" class="level2" data-number="10.8"><h2 data-number="10.8" class="anchored" data-anchor-id="aufgaben">
<span class="header-section-number">10.8</span> Aufgaben</h2>
<p>Eine Aufgabe, die eine Einf√ºhrung zum [Kaggle-Wettbewerb Ames House Prices]((https://www.kaggle.com/competitions/house-prices-advanced-regression-techniques/overview) bietet, finden Sie <a href="https://datenwerk.netlify.app/posts/ames-kaggle1/ames-kaggle1.html">hier im Datenwerk</a>.</p>
<p>Suchen Sie beim <a href="https://datenwerk.netlify.app/">Datenwerk</a> nach diesen Aufgaben</p>
<pre><code>- Aussagen-einfache-Regr
- interpret-koeff-lm
- korr-als-regr
- Linearitaet1a
- lm1
- mtcars-regr01
- nichtlineare-regr1
- penguins-regr02
- regression1
- regression1b
- Regression3
- Regression4
- Regression5
- Regression6</code></pre>
<p>Schauen Sie sich die Aufgaben beim <a href="https://datenwerk.netlify.app/">Datenwerk</a> an, vor allem die Tags <a href="https://datenwerk.netlify.app/#category=regression">regression</a> und <a href="https://datenwerk.netlify.app/#category=lm">lm</a>.</p>
<p><em>Nicht alle Aufgaben</em> aus dieser Sammlung passen zum Stoff; vielleicht k√∂nnen Sie einige Aufgaben nicht l√∂sen. Ignorieren Sie einfach diese Aufgaben.</p>
<p>Beachten Sie die <a href="https://datenwerk.netlify.app/hinweise">Hinweise zu den Aufgaben</a>.</p>
</section><section id="literatur" class="level2" data-number="10.9"><h2 data-number="10.9" class="anchored" data-anchor-id="literatur">
<span class="header-section-number">10.9</span> Literatur</h2>


<!-- -->

<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-kaplan_statistical_2009" class="csl-entry" role="listitem">
Kaplan, Daniel T. 2009. <em>Statistical Modeling: A Fresh Approach</em>. <span>Scotts Valley, Calif.</span>: <span>CreateSpace</span>. <a href="https://dtkaplan.github.io/SM2-bookdown/">https://dtkaplan.github.io/SM2-bookdown/</a>.
</div>
</div>
</section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><hr>
<ol>
<li id="fn1"><p>Diese Syntax wird bei Ihnen nur funktionieren, wenn auf <em>Ihrem Computer</em> dieser Ordner mit dieser Datei existiert. Andernfalls m√ºssen Sie die Daten erst herunterladen: https://raw.githubusercontent.com/sebastiansauer/statistik1/main/daten/noten.csv.<a href="#fnref1" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn2"><p>Die Nomenklatur mit <span class="math inline">\(b_0, b_1\)</span> hat den Vorteil, dass man das Modell einfach erweitern kann: <span class="math inline">\(b_2, b_3, ...\)</span>. Anstelle von <span class="math inline">\(b\)</span> liest man auch oft <span class="math inline">\(\beta\)</span>. Griechische Buchstaben werden meist verwendet, um zu zeigen, dass man an einer Aussage √ºber eine Population, nicht nur √ºber eine Stichprobe, machen m√∂chte.<a href="#fnref2" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn3"><p>an anderer Stelle in diesem Buch unscharf als ‚ÄúTrendgerade‚Äù bezeichnet.<a href="#fnref3" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn4"><p>aus dem Paket <code>easystats</code><a href="#fnref4" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn5"><p>Wer mag, kann den MSE auch von Hand berechnen: <code>mean((noten2$y-mean(noten2$y))^2)</code><a href="#fnref5" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn6"><p>hier synonym: Modellparameter<a href="#fnref6" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn7"><p>aber nicht in diesem Buch zu finden<a href="#fnref7" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn8"><p>Prozentzahl<a href="#fnref8" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn9"><p>Bei Modellen mit einem Pr√§diktor; gibt es mehrere Pr√§diktoren gilt die Beziehung nur wenn die Pr√§diktoren alle paarweise unabh√§ngig sind.<a href="#fnref9" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn10"><p>als Korrelation von tats√§chlichem <span class="math inline">\(y\)</span> und vorhergesagten $%<a href="#fnref10" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn11"><p>Und die √ºblichen Pakete starten, nicht vergessen.<a href="#fnref11" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn12"><p>Die Spalte <code>95 CI</code> gibt einen Sch√§tzbereich f√ºr den jeweiligen Modellkoeffizienten an, denn es handelt sich bei den Koeffizienten um Sch√§tzwerte; der wahre Wert in der Population ist unbekannt. Wir kennen schlie√ülich nur eine Stichprobe der Gr√∂√üe <span class="math inline">\(n=143\)</span>.<a href="#fnref12" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn13"><p>Die Funktion stammt aus easystats<a href="#fnref13" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn14"><p>die vorherzusagende Variable, auch Ziel- oder Outcome-Variable genannt<a href="#fnref14" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn15"><p>Wenn Sie Teile der Ausgabe der Tabelle nicht verstehen: Im Zweifel einfach ignorieren. Wenn Sie die R-Syntax nicht verstehen: F√ºhren Sie die Syntax schrittweise aus. Zuerst <code>d_train</code> ausf√ºhren und das Ergebnis betrachten. Dann <code>d_train %&gt;% select(-Id)</code> ausf√ºhren, wieder die Ausgabe betrachten, usw.<a href="#fnref15" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn16"><p>Es bietet sich an <code>write_csv</code> zu verwenden, da <code>write.csv</code> automatisch (ungefragt) noch eine Id-Spalte ohne Namen einf√ºgt (mit den Zeilennummern), das mag aber Kaggle nicht. Kaggle erwartet exakt zwei Spalten und zwar mit den Namen <code>Id</code> und <code>SalePrice</code><a href="#fnref16" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
</ol></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./070-zusammenhaenge.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Punktmodelle 2</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./090-regression2.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Geradenmodelle 2</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Quellcode</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb48" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># Geradenmodelle 1 {#sec-gerade1}</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="fu">## Lernsteuerung</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a><span class="fu">### Standort im Lernpfad</span></span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>Abb. @fig-ueberblick zeigt den Standort dieses Kapitels im Lernpfad und gibt damit einen √úberblick √ºber das Thema dieses Kapitels im Kontext aller Kapitel.</span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a><span class="fu">### Lernziele</span></span>
<span id="cb48-21"><a href="#cb48-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-22"><a href="#cb48-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-23"><a href="#cb48-23" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Sie k√∂nnen ein Punktmodell von einem Geradenmodell begrifflich unterscheiden.</span>
<span id="cb48-24"><a href="#cb48-24" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Sie k√∂nnen die Bestandteile eines Geradenmodells aufz√§hlen und erl√§utern.</span>
<span id="cb48-25"><a href="#cb48-25" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Sie k√∂nnen die G√ºte eines Geradenmodells anhand von Kennzahlen bestimmen.</span>
<span id="cb48-26"><a href="#cb48-26" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Sie k√∂nnen Geradenmodelle sowie ihre Modellg√ºte in R berechnen.</span>
<span id="cb48-27"><a href="#cb48-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-28"><a href="#cb48-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-29"><a href="#cb48-29" aria-hidden="true" tabindex="-1"></a><span class="fu">### Ben√∂tigte R-Pakete</span></span>
<span id="cb48-30"><a href="#cb48-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-33"><a href="#cb48-33" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-34"><a href="#cb48-34" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb48-35"><a href="#cb48-35" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb48-36"><a href="#cb48-36" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(easystats)</span>
<span id="cb48-37"><a href="#cb48-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-38"><a href="#cb48-38" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>())</span>
<span id="cb48-39"><a href="#cb48-39" aria-hidden="true" tabindex="-1"></a>scale_colour_discrete <span class="ot">&lt;-</span> <span class="cf">function</span>(...) </span>
<span id="cb48-40"><a href="#cb48-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_okabeito</span>()</span>
<span id="cb48-41"><a href="#cb48-41" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-42"><a href="#cb48-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-43"><a href="#cb48-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-44"><a href="#cb48-44" aria-hidden="true" tabindex="-1"></a><span class="fu">### Ben√∂tigte Daten</span></span>
<span id="cb48-45"><a href="#cb48-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-48"><a href="#cb48-48" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-49"><a href="#cb48-49" aria-hidden="true" tabindex="-1"></a>mariokart <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://vincentarelbundock.github.io/Rdatasets/csv/openintro/mariokart.csv"</span>)</span>
<span id="cb48-50"><a href="#cb48-50" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-51"><a href="#cb48-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-52"><a href="#cb48-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-53"><a href="#cb48-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-54"><a href="#cb48-54" aria-hidden="true" tabindex="-1"></a><span class="fu">## Vorhersagen</span></span>
<span id="cb48-55"><a href="#cb48-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-56"><a href="#cb48-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-57"><a href="#cb48-57" aria-hidden="true" tabindex="-1"></a>Vorhersagen sind eine n√ºtzlich Sache, unter (mindestens) folgenden Voraussetzungen:</span>
<span id="cb48-58"><a href="#cb48-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-59"><a href="#cb48-59" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Sie sind pr√§zise</span>
<span id="cb48-60"><a href="#cb48-60" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Wir kennen die Pr√§zision</span>
<span id="cb48-61"><a href="#cb48-61" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Jemand interessiert sich f√ºr die Vorhersage</span>
<span id="cb48-62"><a href="#cb48-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-63"><a href="#cb48-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-64"><a href="#cb48-64" aria-hidden="true" tabindex="-1"></a>Die Methode des Vorhersagens, die wir hier betrachten, nennt man auch *lineare Regression*.</span>
<span id="cb48-65"><a href="#cb48-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-66"><a href="#cb48-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-67"><a href="#cb48-67" aria-hidden="true" tabindex="-1"></a><span class="fu">### Vorhersagen ohne Pr√§diktor</span></span>
<span id="cb48-68"><a href="#cb48-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-69"><a href="#cb48-69" aria-hidden="true" tabindex="-1"></a>:::{#exm-noten-prognose}</span>
<span id="cb48-70"><a href="#cb48-70" aria-hidden="true" tabindex="-1"></a>Nach intensiver Besch√§ftigung mit Statistik sind Sie allgemein als Checker bekannt.</span>
<span id="cb48-71"><a href="#cb48-71" aria-hidden="true" tabindex="-1"></a>Viele j√ºngere Studentis fragen Sie um Rat.</span>
<span id="cb48-72"><a href="#cb48-72" aria-hidden="true" tabindex="-1"></a>eines Tages kommt ei Studenti, Toni, und fragt: "Welche Statistiknote kann ich in der Klausur erwarten?"</span>
<span id="cb48-73"><a href="#cb48-73" aria-hidden="true" tabindex="-1"></a>Sie entgegnen: "Wie viel hast du denn gelernt?".</span>
<span id="cb48-74"><a href="#cb48-74" aria-hidden="true" tabindex="-1"></a>Die Antwort: "Sag ich nicht."</span>
<span id="cb48-75"><a href="#cb48-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-76"><a href="#cb48-76" aria-hidden="true" tabindex="-1"></a>Nach kurzem √úberlegen geben sie den Notenschnitt der letzten Klausur als Prognose f√ºr dis Studenti. Dazu rechnen Sie schnell den Notenschnitt (Mittelwert aus).</span>
<span id="cb48-77"><a href="#cb48-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-78"><a href="#cb48-78" aria-hidden="true" tabindex="-1"></a>Zuerst importieren Sie die Daten der letzten Klausur^<span class="co">[</span><span class="ot">Diese Syntax wird bei Ihnen nur funktionieren, wenn auf *Ihrem Computer* dieser Ordner mit dieser Datei existiert. Andernfalls m√ºssen Sie die Daten erst herunterladen: https://raw.githubusercontent.com/sebastiansauer/statistik1/main/daten/noten.csv.</span><span class="co">]</span>:</span>
<span id="cb48-79"><a href="#cb48-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-82"><a href="#cb48-82" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-83"><a href="#cb48-83" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb48-84"><a href="#cb48-84" aria-hidden="true" tabindex="-1"></a><span class="co"># set.seed(42)</span></span>
<span id="cb48-85"><a href="#cb48-85" aria-hidden="true" tabindex="-1"></a><span class="co"># noten2 &lt;-</span></span>
<span id="cb48-86"><a href="#cb48-86" aria-hidden="true" tabindex="-1"></a><span class="co">#   tibble(</span></span>
<span id="cb48-87"><a href="#cb48-87" aria-hidden="true" tabindex="-1"></a><span class="co">#     id = 1:100,</span></span>
<span id="cb48-88"><a href="#cb48-88" aria-hidden="true" tabindex="-1"></a><span class="co">#     x = rnorm(100, mean = 73, sd = 10),</span></span>
<span id="cb48-89"><a href="#cb48-89" aria-hidden="true" tabindex="-1"></a><span class="co">#     y = x + rnorm(100, 0, 10)</span></span>
<span id="cb48-90"><a href="#cb48-90" aria-hidden="true" tabindex="-1"></a><span class="co">#   )</span></span>
<span id="cb48-91"><a href="#cb48-91" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(noten2, "daten/noten2.csv")</span></span>
<span id="cb48-92"><a href="#cb48-92" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-93"><a href="#cb48-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-94"><a href="#cb48-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-97"><a href="#cb48-97" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-98"><a href="#cb48-98" aria-hidden="true" tabindex="-1"></a>noten2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"daten/noten2.csv"</span>)</span>
<span id="cb48-99"><a href="#cb48-99" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-100"><a href="#cb48-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-101"><a href="#cb48-101" aria-hidden="true" tabindex="-1"></a>Dann rechnen Sie den Mittelwert aus:</span>
<span id="cb48-102"><a href="#cb48-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-105"><a href="#cb48-105" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-106"><a href="#cb48-106" aria-hidden="true" tabindex="-1"></a>noten2 <span class="sc">%&gt;%</span> </span>
<span id="cb48-107"><a href="#cb48-107" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mw =</span> <span class="fu">mean</span>(y))  <span class="co"># y ist der Punktwert in der Klausur</span></span>
<span id="cb48-108"><a href="#cb48-108" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-109"><a href="#cb48-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-110"><a href="#cb48-110" aria-hidden="true" tabindex="-1"></a>Ihre Antwort lautet also: "Im Schnitt haben die Studis bei der letzten Klausur gut 50% der Punkte erzielt. Diesen Wert kannst du erwarten. Solange ich keine genaueren Infos habe, z.B. wieviel du gelernt hast, kann ich dir keine genauere Vorherage machen, sorry!"$\square$</span>
<span id="cb48-111"><a href="#cb48-111" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb48-112"><a href="#cb48-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-113"><a href="#cb48-113" aria-hidden="true" tabindex="-1"></a>:::{.callout-note}</span>
<span id="cb48-114"><a href="#cb48-114" aria-hidden="true" tabindex="-1"></a>Ohne Kenntnis eines Pr√§diktors (UV) (wie z.B. Lernzeit) ist der Mittelwert ein geeigneter Vorhersagewert f√ºr jede Beobachtung, s. @fig-noten3.</span>
<span id="cb48-115"><a href="#cb48-115" aria-hidden="true" tabindex="-1"></a>Wir nutzen den Mittelwert als Punktmodell f√ºr den Klausurerfolg.$\square$</span>
<span id="cb48-116"><a href="#cb48-116" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb48-117"><a href="#cb48-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-120"><a href="#cb48-120" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-121"><a href="#cb48-121" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb48-122"><a href="#cb48-122" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Mittelwert als Vorhersagewert, bzw. Mittelwert als Punktmodell"</span></span>
<span id="cb48-123"><a href="#cb48-123" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-noten3</span></span>
<span id="cb48-124"><a href="#cb48-124" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(noten2) <span class="sc">+</span></span>
<span id="cb48-125"><a href="#cb48-125" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(id, y) <span class="sc">+</span></span>
<span id="cb48-126"><a href="#cb48-126" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb48-127"><a href="#cb48-127" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fu">mean</span>(noten2<span class="sc">$</span>y), <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb48-128"><a href="#cb48-128" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"label"</span>, <span class="at">x =</span> <span class="sc">-</span><span class="cn">Inf</span>, <span class="at">y =</span> <span class="fu">mean</span>(noten2<span class="sc">$</span>y), </span>
<span id="cb48-129"><a href="#cb48-129" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="fu">paste0</span>(<span class="st">"MW: "</span>, <span class="fu">round</span>(<span class="fu">mean</span>(noten2<span class="sc">$</span>y))), <span class="at">hjust =</span> <span class="st">"left"</span>) <span class="sc">+</span></span>
<span id="cb48-130"><a href="#cb48-130" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb48-131"><a href="#cb48-131" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-132"><a href="#cb48-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-133"><a href="#cb48-133" aria-hidden="true" tabindex="-1"></a>:::{def-nullmodell}</span>
<span id="cb48-134"><a href="#cb48-134" aria-hidden="true" tabindex="-1"></a><span class="fu">### Nullmodell</span></span>
<span id="cb48-135"><a href="#cb48-135" aria-hidden="true" tabindex="-1"></a>Modelle ohne Pr√§diktor, Punktmodelle also, kann man so bezeichnen: <span class="in">`y ~ 1`</span>. </span>
<span id="cb48-136"><a href="#cb48-136" aria-hidden="true" tabindex="-1"></a>Da es null Pr√§diktoren hat, nennt man es auch manchmal "Nullmodell".</span>
<span id="cb48-137"><a href="#cb48-137" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb48-138"><a href="#cb48-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-139"><a href="#cb48-139" aria-hidden="true" tabindex="-1"></a>Auf Errisch kann man dieses Nullmodell so spezifizieren:</span>
<span id="cb48-140"><a href="#cb48-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-143"><a href="#cb48-143" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-144"><a href="#cb48-144" aria-hidden="true" tabindex="-1"></a>lm0 <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> <span class="dv">1</span>, <span class="at">data =</span> noten2)</span>
<span id="cb48-145"><a href="#cb48-145" aria-hidden="true" tabindex="-1"></a>lm0</span>
<span id="cb48-146"><a href="#cb48-146" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-147"><a href="#cb48-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-148"><a href="#cb48-148" aria-hidden="true" tabindex="-1"></a><span class="in">`lm`</span> steht f√ºr "lineares Modell", die <span class="in">`0`</span> sagt, dass es keine Pr√§diktoren gibt.</span>
<span id="cb48-149"><a href="#cb48-149" aria-hidden="true" tabindex="-1"></a>In dem Fall wird der Mittelwert als Gerade verwendet.</span>
<span id="cb48-150"><a href="#cb48-150" aria-hidden="true" tabindex="-1"></a>Der zur√ºckgemeldete Koeffizient <span class="in">`(Intercept)`</span> ist hier der Modell des Punktmodells.</span>
<span id="cb48-151"><a href="#cb48-151" aria-hidden="true" tabindex="-1"></a>Da es ein Punktmodell ist, sagt es f√ºr alle Beobachtungen (hier Studentis) den gleichen Wert vorher.</span>
<span id="cb48-152"><a href="#cb48-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-153"><a href="#cb48-153" aria-hidden="true" tabindex="-1"></a>Die Regressionsgleichung lautet demnach: <span class="in">`y_pred = 71.08`</span>.</span>
<span id="cb48-154"><a href="#cb48-154" aria-hidden="true" tabindex="-1"></a>In Worten: "Wir sagen von jede Beobachtung einen Wert von ca. 71 vorher".</span>
<span id="cb48-155"><a href="#cb48-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-156"><a href="#cb48-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-157"><a href="#cb48-157" aria-hidden="true" tabindex="-1"></a><span class="fu">### Vorhersagen mit Pr√§diktor</span></span>
<span id="cb48-158"><a href="#cb48-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-159"><a href="#cb48-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-160"><a href="#cb48-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-161"><a href="#cb48-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-162"><a href="#cb48-162" aria-hidden="true" tabindex="-1"></a>:::{#exm-noten3}</span>
<span id="cb48-163"><a href="#cb48-163" aria-hidden="true" tabindex="-1"></a><span class="fu">### Toni verr√§t die Lernzeit</span></span>
<span id="cb48-164"><a href="#cb48-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-165"><a href="#cb48-165" aria-hidden="true" tabindex="-1"></a>Dis Studenti, Toni, entschlie√üt sich dann doch noch, die Lernzeit zu verraten:</span>
<span id="cb48-166"><a href="#cb48-166" aria-hidden="true" tabindex="-1"></a>"Okay, also ich hab insgesamt 42 Stunden gelernt, insgesamt."</span>
<span id="cb48-167"><a href="#cb48-167" aria-hidden="true" tabindex="-1"></a>Jetzt m√ºssen Sie erstmal nachdenken: "Wie viele Klausurpunkte sag ich vorher, wenn Toni 42 gelernt hat?"</span>
<span id="cb48-168"><a href="#cb48-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-169"><a href="#cb48-169" aria-hidden="true" tabindex="-1"></a>Sie visualisieren sich zur Hilfe die vorliegenden Daten, s. @fig-noten4, links.</span>
<span id="cb48-170"><a href="#cb48-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-171"><a href="#cb48-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-174"><a href="#cb48-174" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-175"><a href="#cb48-175" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb48-176"><a href="#cb48-176" aria-hidden="true" tabindex="-1"></a>noten2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(noten2, <span class="st">"daten/noten2.csv"</span>)</span>
<span id="cb48-177"><a href="#cb48-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-178"><a href="#cb48-178" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DataExplorer)</span>
<span id="cb48-179"><a href="#cb48-179" aria-hidden="true" tabindex="-1"></a>noten2 <span class="sc">%&gt;%</span> </span>
<span id="cb48-180"><a href="#cb48-180" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_scatterplot</span>(<span class="at">by =</span> <span class="st">"y"</span>)  <span class="co"># Y-Variable muss angegeben werden</span></span>
<span id="cb48-181"><a href="#cb48-181" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-182"><a href="#cb48-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-183"><a href="#cb48-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-186"><a href="#cb48-186" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-187"><a href="#cb48-187" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb48-188"><a href="#cb48-188" aria-hidden="true" tabindex="-1"></a>lm1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> x, <span class="at">data =</span> noten2)</span>
<span id="cb48-189"><a href="#cb48-189" aria-hidden="true" tabindex="-1"></a>lm1_b0 <span class="ot">&lt;-</span> <span class="fu">coef</span>(lm1)[<span class="dv">1</span>]</span>
<span id="cb48-190"><a href="#cb48-190" aria-hidden="true" tabindex="-1"></a>lm1_b2 <span class="ot">&lt;-</span> <span class="fu">coef</span>(lm1)[<span class="dv">2</span>]</span>
<span id="cb48-191"><a href="#cb48-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-192"><a href="#cb48-192" aria-hidden="true" tabindex="-1"></a>toni_punkte <span class="ot">&lt;-</span> <span class="fu">predict</span>(lm1, <span class="at">newdata =</span> <span class="fu">data.frame</span>(<span class="at">x=</span><span class="dv">42</span>))</span>
<span id="cb48-193"><a href="#cb48-193" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-194"><a href="#cb48-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-195"><a href="#cb48-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-196"><a href="#cb48-196" aria-hidden="true" tabindex="-1"></a>Auf dieser Basis antworten Sie Toni: "Bei 42 Stunden Lernzeit solltest du so <span class="in">`r round(toni_punkte, 0)`</span> Punkte bekommen. K√∂nnte mit dem Bestehen eng werden."</span>
<span id="cb48-197"><a href="#cb48-197" aria-hidden="true" tabindex="-1"></a>Toni ist nicht begeistert von Ihrer Prognose und zieht von dannen.$\square$</span>
<span id="cb48-198"><a href="#cb48-198" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb48-199"><a href="#cb48-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-200"><a href="#cb48-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-201"><a href="#cb48-201" aria-hidden="true" tabindex="-1"></a>Der Trend (im Sinne eines linearen Zusammenhangs) von Lernzeiten und Klausurpunkte ist deutlich zu erkennen.</span>
<span id="cb48-202"><a href="#cb48-202" aria-hidden="true" tabindex="-1"></a>Mit einem Lineal k√∂nnte man eine entsprechende Gerade in das Streudiagramm einzeichnen, s. @fig-noten4.</span>
<span id="cb48-203"><a href="#cb48-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-204"><a href="#cb48-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-207"><a href="#cb48-207" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-208"><a href="#cb48-208" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-noten4</span></span>
<span id="cb48-209"><a href="#cb48-209" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb48-210"><a href="#cb48-210" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Noten und Lernzeit: Rohdaten und Modell"</span></span>
<span id="cb48-211"><a href="#cb48-211" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout-ncol: 2</span></span>
<span id="cb48-212"><a href="#cb48-212" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-subcap: </span></span>
<span id="cb48-213"><a href="#cb48-213" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - "Gemeinsame Verteilung (Zusammenhang) von Lernzeit (X) und Noten (Y)"</span></span>
<span id="cb48-214"><a href="#cb48-214" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - "Eine 'Trendgerade' (blau) im Datensatz noten2. Mittelwerte sind mit gestrichelten Linien eingezeichnet. Tonis Vorhersage ist mit einem roten Punkt gekennzeichnet."</span></span>
<span id="cb48-215"><a href="#cb48-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-216"><a href="#cb48-216" aria-hidden="true" tabindex="-1"></a><span class="co">#noten2 &lt;- read.csv(noten2, "daten/noten2.csv")</span></span>
<span id="cb48-217"><a href="#cb48-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-218"><a href="#cb48-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-219"><a href="#cb48-219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-220"><a href="#cb48-220" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(noten2) <span class="sc">+</span></span>
<span id="cb48-221"><a href="#cb48-221" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(x, y) <span class="sc">+</span></span>
<span id="cb48-222"><a href="#cb48-222" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb48-223"><a href="#cb48-223" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Lernzeit"</span>,</span>
<span id="cb48-224"><a href="#cb48-224" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Klausurpunkte"</span>) <span class="sc">+</span></span>
<span id="cb48-225"><a href="#cb48-225" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb48-226"><a href="#cb48-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-227"><a href="#cb48-227" aria-hidden="true" tabindex="-1"></a>noten2 <span class="sc">%&gt;%</span> </span>
<span id="cb48-228"><a href="#cb48-228" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb48-229"><a href="#cb48-229" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb48-230"><a href="#cb48-230" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">mean</span>(noten2<span class="sc">$</span>x), <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"grey"</span>) <span class="sc">+</span>  </span>
<span id="cb48-231"><a href="#cb48-231" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fu">mean</span>(noten2<span class="sc">$</span>y), <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"grey"</span>) <span class="sc">+</span>   </span>
<span id="cb48-232"><a href="#cb48-232" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="fu">coef</span>(lm1)[<span class="dv">2</span>], <span class="at">intercept =</span> <span class="fu">coef</span>(lm1)[<span class="dv">1</span>], <span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb48-233"><a href="#cb48-233" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb48-234"><a href="#cb48-234" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"label"</span>, <span class="at">x =</span> <span class="fu">mean</span>(noten2<span class="sc">$</span>x), <span class="at">y =</span> <span class="sc">-</span><span class="cn">Inf</span>, </span>
<span id="cb48-235"><a href="#cb48-235" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="fu">paste0</span>(<span class="st">"MW: "</span>, <span class="fu">round</span>(<span class="fu">mean</span>(noten2<span class="sc">$</span>x))), <span class="at">vjust =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb48-236"><a href="#cb48-236" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"label"</span>, <span class="at">y =</span> <span class="fu">mean</span>(noten2<span class="sc">$</span>y), <span class="at">x =</span> <span class="sc">-</span><span class="cn">Inf</span>, </span>
<span id="cb48-237"><a href="#cb48-237" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="fu">paste0</span>(<span class="st">"MW: "</span>, <span class="fu">round</span>(<span class="fu">mean</span>(noten2<span class="sc">$</span>y))), <span class="at">hjust =</span> <span class="st">"left"</span>)   <span class="sc">+</span></span>
<span id="cb48-238"><a href="#cb48-238" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"point"</span>, <span class="at">x =</span> <span class="dv">42</span>, <span class="at">y =</span> toni_punkte, <span class="at">color =</span> <span class="st">"red"</span>,</span>
<span id="cb48-239"><a href="#cb48-239" aria-hidden="true" tabindex="-1"></a>           <span class="at">alpha =</span> .<span class="dv">7</span>, <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb48-240"><a href="#cb48-240" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">42</span>, <span class="dv">60</span>, <span class="dv">80</span>, <span class="dv">100</span>)) <span class="sc">+</span></span>
<span id="cb48-241"><a href="#cb48-241" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Lernzeit"</span>,</span>
<span id="cb48-242"><a href="#cb48-242" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Klausurpunkte"</span>)</span>
<span id="cb48-243"><a href="#cb48-243" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-244"><a href="#cb48-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-245"><a href="#cb48-245" aria-hidden="true" tabindex="-1"></a>Eine Gerade eignet sich, um einen linearen Trend zusammenzufassen.</span>
<span id="cb48-246"><a href="#cb48-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-247"><a href="#cb48-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-248"><a href="#cb48-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-249"><a href="#cb48-249" aria-hidden="true" tabindex="-1"></a><span class="fu">## Geradenmodelle</span></span>
<span id="cb48-250"><a href="#cb48-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-251"><a href="#cb48-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-252"><a href="#cb48-252" aria-hidden="true" tabindex="-1"></a><span class="fu">### Achsenabschnitt und Steigung definieren eine Gerade</span></span>
<span id="cb48-253"><a href="#cb48-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-254"><a href="#cb48-254" aria-hidden="true" tabindex="-1"></a>Wir verwenden eine Gerade als Modell f√ºr die Daten, s. @fig-noten4, rechts.</span>
<span id="cb48-255"><a href="#cb48-255" aria-hidden="true" tabindex="-1"></a>Anders gesagt: Wir modellieren die X-Y-Daten (bzw. ihren Zusammenhang) mit einem Geradenmodell.</span>
<span id="cb48-256"><a href="#cb48-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-257"><a href="#cb48-257" aria-hidden="true" tabindex="-1"></a>Ein Geradenmodell ist eine Verallgemeinerung des Punktmodells:</span>
<span id="cb48-258"><a href="#cb48-258" aria-hidden="true" tabindex="-1"></a>Ein Punktmodell sagt f√ºr alle Beobachtungen den gleichen Wert vorher.</span>
<span id="cb48-259"><a href="#cb48-259" aria-hidden="true" tabindex="-1"></a>@fig-noten3 und @fig-noten4 stellen ein Punktmodell einem Geradenmodell gegen√ºber.</span>
<span id="cb48-260"><a href="#cb48-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-261"><a href="#cb48-261" aria-hidden="true" tabindex="-1"></a>In einem Geradenmodell wird nicht mehr (notwendig) f√ºr jede Beobachtung die gleiche Vorhersage $\hat{y}$ gemacht (wie das bei einem Punktmodell der Fall ist).</span>
<span id="cb48-262"><a href="#cb48-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-263"><a href="#cb48-263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-264"><a href="#cb48-264" aria-hidden="true" tabindex="-1"></a>:::{#def-gerade}</span>
<span id="cb48-265"><a href="#cb48-265" aria-hidden="true" tabindex="-1"></a>Eine Gerade ist definiert durch zwei *Koeffizienten*: Achsenabschnitt (engl. intercept), und Steigung (engl. slope).</span>
<span id="cb48-266"><a href="#cb48-266" aria-hidden="true" tabindex="-1"></a>H√§ufig wird (z.B. im Schulunterricht) der Achsenabschnitt mit $t$ und die Steigung mit $m$ bezeichnet: $f(x)=y=\color{blue}<span class="co">[</span><span class="ot">m</span><span class="co">]</span>x + \color{red}<span class="co">[</span><span class="ot">t</span><span class="co">]</span>$.</span>
<span id="cb48-267"><a href="#cb48-267" aria-hidden="true" tabindex="-1"></a>In der Statistik wird folgende Nomenklatur bevorzugt: $f(x)=\hat{y} = \color{red}{b_0} + \color{blue}{b_1}x$ oder $y = \color{red}{\beta_0} + \color{blue}{\beta_1}x$ .^<span class="co">[</span><span class="ot">Die Nomenklatur mit $b_0, b_1$ hat den Vorteil, dass man das Modell einfach erweitern kann: $b_2, b_3, ...$. Anstelle von $b$ liest man auch oft $\beta$. Griechische Buchstaben werden meist verwendet, um zu zeigen, dass man an einer Aussage √ºber eine Population, nicht nur √ºber eine Stichprobe, machen m√∂chte.</span><span class="co">]</span></span>
<span id="cb48-268"><a href="#cb48-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-269"><a href="#cb48-269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-270"><a href="#cb48-270" aria-hidden="true" tabindex="-1"></a>@fig-regrtex skizziert die Elemente einer Regression.</span>
<span id="cb48-271"><a href="#cb48-271" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb48-272"><a href="#cb48-272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-273"><a href="#cb48-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-274"><a href="#cb48-274" aria-hidden="true" tabindex="-1"></a><span class="al">![Achsenabschnitt und Steigung einer Regressionsgeraden](img/regr.png)</span>{#fig-regrtex width="70%"}</span>
<span id="cb48-275"><a href="#cb48-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-276"><a href="#cb48-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-277"><a href="#cb48-277" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">Bildquelle: Basierend auf diesem Diagramm von Henri Menke</span><span class="co">](https://texample.net/tikz/examples/linear-regression/)</span></span>
<span id="cb48-278"><a href="#cb48-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-279"><a href="#cb48-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-280"><a href="#cb48-280" aria-hidden="true" tabindex="-1"></a>Je nach Datenlage k√∂nnen sich Regressionsgerade in Steigung oder Achsenabschnitt unterscheiden, s. @fig-regr-div.</span>
<span id="cb48-281"><a href="#cb48-281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-284"><a href="#cb48-284" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-285"><a href="#cb48-285" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb48-286"><a href="#cb48-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-287"><a href="#cb48-287" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb48-288"><a href="#cb48-288" aria-hidden="true" tabindex="-1"></a>d1 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb48-289"><a href="#cb48-289" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">50</span>),</span>
<span id="cb48-290"><a href="#cb48-290" aria-hidden="true" tabindex="-1"></a>  <span class="at">y1 =</span> x <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">50</span>, <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> .<span class="dv">5</span>)</span>
<span id="cb48-291"><a href="#cb48-291" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-292"><a href="#cb48-292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-293"><a href="#cb48-293" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">3141</span>)</span>
<span id="cb48-294"><a href="#cb48-294" aria-hidden="true" tabindex="-1"></a>d2 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb48-295"><a href="#cb48-295" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">50</span>),</span>
<span id="cb48-296"><a href="#cb48-296" aria-hidden="true" tabindex="-1"></a>  <span class="at">y1 =</span> x <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">50</span>, <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> .<span class="dv">5</span>)</span>
<span id="cb48-297"><a href="#cb48-297" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-298"><a href="#cb48-298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-299"><a href="#cb48-299" aria-hidden="true" tabindex="-1"></a>lm1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(y1 <span class="sc">~</span> x, <span class="at">data =</span> d1)</span>
<span id="cb48-300"><a href="#cb48-300" aria-hidden="true" tabindex="-1"></a>lm1_coef <span class="ot">&lt;-</span> <span class="fu">coef</span>(lm1)</span>
<span id="cb48-301"><a href="#cb48-301" aria-hidden="true" tabindex="-1"></a>lm2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(y1 <span class="sc">~</span> x, <span class="at">data =</span> d2)</span>
<span id="cb48-302"><a href="#cb48-302" aria-hidden="true" tabindex="-1"></a>lm2_coef <span class="ot">&lt;-</span> <span class="fu">coef</span>(lm2)</span>
<span id="cb48-303"><a href="#cb48-303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-304"><a href="#cb48-304" aria-hidden="true" tabindex="-1"></a>cap1 <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"Datensatz 1: b0 = "</span>, <span class="fu">round</span>(lm1_coef[<span class="dv">1</span>], <span class="dv">2</span>), <span class="st">"; b1 = "</span>, <span class="fu">round</span>(lm1_coef[<span class="dv">2</span>]), <span class="dv">2</span>)</span>
<span id="cb48-305"><a href="#cb48-305" aria-hidden="true" tabindex="-1"></a>cap2 <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"Datensatz 2: b0 = "</span>, <span class="fu">round</span>(lm2_coef[<span class="dv">1</span>], <span class="dv">2</span>), <span class="st">"; b1 = "</span>, <span class="fu">round</span>(lm2_coef[<span class="dv">2</span>]), <span class="dv">2</span>)</span>
<span id="cb48-306"><a href="#cb48-306" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-307"><a href="#cb48-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-308"><a href="#cb48-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-311"><a href="#cb48-311" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-312"><a href="#cb48-312" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb48-313"><a href="#cb48-313" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Regressionsanalysen mit verschiedenen Koeffizienten, aber gleicher Modellg√ºte"</span></span>
<span id="cb48-314"><a href="#cb48-314" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-regr-div</span></span>
<span id="cb48-315"><a href="#cb48-315" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout-ncol: 2</span></span>
<span id="cb48-316"><a href="#cb48-316" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-subcap: </span></span>
<span id="cb48-317"><a href="#cb48-317" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - Datensatz 1</span></span>
<span id="cb48-318"><a href="#cb48-318" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - Datensatz 2</span></span>
<span id="cb48-319"><a href="#cb48-319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-320"><a href="#cb48-320" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d1, <span class="fu">aes</span>(x, y1)) <span class="sc">+</span> </span>
<span id="cb48-321"><a href="#cb48-321" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb48-322"><a href="#cb48-322" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb48-323"><a href="#cb48-323" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">4</span>, <span class="dv">4</span>)) <span class="sc">+</span></span>
<span id="cb48-324"><a href="#cb48-324" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste0</span>(<span class="st">"b0 = "</span>,<span class="fu">round</span>(lm1_coef[<span class="dv">1</span>], <span class="dv">2</span>), <span class="st">"; b1 = "</span>, <span class="fu">round</span>(lm1_coef[<span class="dv">2</span>]), <span class="dv">2</span>))</span>
<span id="cb48-325"><a href="#cb48-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-326"><a href="#cb48-326" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d2, <span class="fu">aes</span>(x, y1)) <span class="sc">+</span> </span>
<span id="cb48-327"><a href="#cb48-327" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb48-328"><a href="#cb48-328" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb48-329"><a href="#cb48-329" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">4</span>, <span class="dv">4</span>)) <span class="sc">+</span></span>
<span id="cb48-330"><a href="#cb48-330" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste0</span>(<span class="st">"b0 = "</span>,<span class="fu">round</span>(lm2_coef[<span class="dv">1</span>], <span class="dv">2</span>), <span class="st">"; b1 = "</span>, <span class="fu">round</span>(lm2_coef[<span class="dv">2</span>]), <span class="dv">2</span>))</span>
<span id="cb48-331"><a href="#cb48-331" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-332"><a href="#cb48-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-333"><a href="#cb48-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-334"><a href="#cb48-334" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-335"><a href="#cb48-335" aria-hidden="true" tabindex="-1"></a>:::{#exm-noten5}</span>
<span id="cb48-336"><a href="#cb48-336" aria-hidden="true" tabindex="-1"></a><span class="fu">### Toni will es genau wissen</span></span>
<span id="cb48-337"><a href="#cb48-337" aria-hidden="true" tabindex="-1"></a>Da Toni Sie als Statistik-Profi abgespeichert hat, werden Sie wieder konsultiert.</span>
<span id="cb48-338"><a href="#cb48-338" aria-hidden="true" tabindex="-1"></a>"Okay, ich hab noch zwei Fragen. Erstens: Wie viele Punkte bekomme ich, wenn ich gar nicht lerne? Zweitens, wie viele Punkte bekomme ich pro gelernte Stunde? Ist immerhin meine Lebenszeit, krieg ich nicht zur√ºck!"</span>
<span id="cb48-339"><a href="#cb48-339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-340"><a href="#cb48-340" aria-hidden="true" tabindex="-1"></a>Das sind gute Fragen. Den Y-Wert (Klausurpunkte) bei $X=0$ gibt der Achsenabschnitt zur√ºck. Schnell skizzieren Sie dazu ein Diagramm, s. @fig-beta0.</span>
<span id="cb48-341"><a href="#cb48-341" aria-hidden="true" tabindex="-1"></a>Puh, die Antwort wird Toni nicht gefallen ...</span>
<span id="cb48-342"><a href="#cb48-342" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb48-343"><a href="#cb48-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-346"><a href="#cb48-346" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-347"><a href="#cb48-347" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb48-348"><a href="#cb48-348" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-beta0</span></span>
<span id="cb48-349"><a href="#cb48-349" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Der Achsenabschnitt: Wie viele Punkt kann Toni erwarten bei 0 Lernstunden? (roter Punkt bei x=0)"</span></span>
<span id="cb48-350"><a href="#cb48-350" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-351"><a href="#cb48-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-352"><a href="#cb48-352" aria-hidden="true" tabindex="-1"></a>noten2 <span class="sc">%&gt;%</span> </span>
<span id="cb48-353"><a href="#cb48-353" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb48-354"><a href="#cb48-354" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb48-355"><a href="#cb48-355" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">mean</span>(noten2<span class="sc">$</span>x), <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"grey"</span>) <span class="sc">+</span>  </span>
<span id="cb48-356"><a href="#cb48-356" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fu">mean</span>(noten2<span class="sc">$</span>y), <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"grey"</span>) <span class="sc">+</span>   </span>
<span id="cb48-357"><a href="#cb48-357" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="fu">coef</span>(lm1)[<span class="dv">2</span>], <span class="at">intercept =</span> <span class="fu">coef</span>(lm1)[<span class="dv">1</span>], <span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb48-358"><a href="#cb48-358" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb48-359"><a href="#cb48-359" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>)) <span class="sc">+</span></span>
<span id="cb48-360"><a href="#cb48-360" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>)) <span class="sc">+</span></span>
<span id="cb48-361"><a href="#cb48-361" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"point"</span>, <span class="at">x =</span> <span class="dv">0</span>, <span class="at">y =</span> lm1_b0, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">7</span>, <span class="at">alpha =</span> .<span class="dv">7</span>)</span>
<span id="cb48-362"><a href="#cb48-362" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-363"><a href="#cb48-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-364"><a href="#cb48-364" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-365"><a href="#cb48-365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-366"><a href="#cb48-366" aria-hidden="true" tabindex="-1"></a>Anstelle auf @fig-beta0 zu schauen, k√∂nnen Sie sich auch von R Tonis Klausurerfolg vorhersagen (to predict) lassen:</span>
<span id="cb48-367"><a href="#cb48-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-368"><a href="#cb48-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-369"><a href="#cb48-369" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;    üßë‚Äçüéì Hey R, predicte mir mal auf Basis vom Modell "lm1" den Lernerfolg f√ºr Toni, wenn der x=0 Stunden lernt.</span></span>
<span id="cb48-370"><a href="#cb48-370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-371"><a href="#cb48-371" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;    ü§ñ Okay, ich predicte mit Modell "lm1" und nehme als neue Datentabelle Tonis Lernzeit (x=0)!</span></span>
<span id="cb48-372"><a href="#cb48-372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-375"><a href="#cb48-375" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-376"><a href="#cb48-376" aria-hidden="true" tabindex="-1"></a>tonis_lernzeit <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">x =</span> <span class="dv">0</span>)</span>
<span id="cb48-377"><a href="#cb48-377" aria-hidden="true" tabindex="-1"></a>tonis_lernzeit</span>
<span id="cb48-378"><a href="#cb48-378" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-379"><a href="#cb48-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-380"><a href="#cb48-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-383"><a href="#cb48-383" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-384"><a href="#cb48-384" aria-hidden="true" tabindex="-1"></a><span class="fu">predict</span>(lm1, <span class="at">newdata =</span> tonis_lernzeit)</span>
<span id="cb48-385"><a href="#cb48-385" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-386"><a href="#cb48-386" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-387"><a href="#cb48-387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-388"><a href="#cb48-388" aria-hidden="true" tabindex="-1"></a><span class="fu">### Spezifikation eines Geradenmodells</span></span>
<span id="cb48-389"><a href="#cb48-389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-390"><a href="#cb48-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-391"><a href="#cb48-391" aria-hidden="true" tabindex="-1"></a>Ein Geradenmodell kann man im einfachsten Fall so spezifizieren, s. @eq-mod1:</span>
<span id="cb48-392"><a href="#cb48-392" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-393"><a href="#cb48-393" aria-hidden="true" tabindex="-1"></a>$$\hat{y} \sim x$$ {#eq-mod1}</span>
<span id="cb48-394"><a href="#cb48-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-395"><a href="#cb48-395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-396"><a href="#cb48-396" aria-hidden="true" tabindex="-1"></a>Lies: "Laut meinem Modell ist $\hat{y}$ irgendeine Funktion von $y$".</span>
<span id="cb48-397"><a href="#cb48-397" aria-hidden="true" tabindex="-1"></a>Wir werden als Funktion (erstmal) nur Geraden verwenden. Die genauen Werte der Gerade lassen wir uns (erstmal) vom Computer ausrechnen.</span>
<span id="cb48-398"><a href="#cb48-398" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-399"><a href="#cb48-399" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-400"><a href="#cb48-400" aria-hidden="true" tabindex="-1"></a>@eq-mod1 k√∂nnen Sie so ins Errische √ºbersetzen:</span>
<span id="cb48-401"><a href="#cb48-401" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-402"><a href="#cb48-402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-405"><a href="#cb48-405" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-406"><a href="#cb48-406" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb48-407"><a href="#cb48-407" aria-hidden="true" tabindex="-1"></a><span class="fu">lm</span>(y <span class="sc">~</span> x, <span class="at">data =</span> meine_daten)</span>
<span id="cb48-408"><a href="#cb48-408" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-409"><a href="#cb48-409" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-410"><a href="#cb48-410" aria-hidden="true" tabindex="-1"></a><span class="in">`lm`</span> steht f√ºr "lineares Modell", also eine Gerade als Modell.</span>
<span id="cb48-411"><a href="#cb48-411" aria-hidden="true" tabindex="-1"></a>Die Gerade nennt man auch *Regressionsgerade*^<span class="co">[</span><span class="ot">an anderer Stelle in diesem Buch unscharf als "Trendgerade" bezeichnet.</span><span class="co">]</span>.</span>
<span id="cb48-412"><a href="#cb48-412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-413"><a href="#cb48-413" aria-hidden="true" tabindex="-1"></a>:::{#exm-noten5}</span>
<span id="cb48-414"><a href="#cb48-414" aria-hidden="true" tabindex="-1"></a><span class="fu">### Zahlen f√ºr Toni</span></span>
<span id="cb48-415"><a href="#cb48-415" aria-hidden="true" tabindex="-1"></a>Toni ist nicht zufrieden mit Ihren Vorhersagen: "Jetzt h√∂r mal auf mit deinem Lineal hier herum zu malen. Ich will es genau wissen, sag mir pr√§zise Zahlen!".</span>
<span id="cb48-416"><a href="#cb48-416" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb48-417"><a href="#cb48-417" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-418"><a href="#cb48-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-421"><a href="#cb48-421" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-422"><a href="#cb48-422" aria-hidden="true" tabindex="-1"></a>lm1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> x, <span class="at">data =</span> noten2)</span>
<span id="cb48-423"><a href="#cb48-423" aria-hidden="true" tabindex="-1"></a>lm1</span>
<span id="cb48-424"><a href="#cb48-424" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-425"><a href="#cb48-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-426"><a href="#cb48-426" aria-hidden="true" tabindex="-1"></a>R gibt Ihnen die beiden Koeffizienten f√ºr die Gerade aus. </span>
<span id="cb48-427"><a href="#cb48-427" aria-hidden="true" tabindex="-1"></a>Den Namen des Objekts k√∂nnen Sie frei aussuchen, z.B. <span class="in">`mein_erstes_lm`</span>.</span>
<span id="cb48-428"><a href="#cb48-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-429"><a href="#cb48-429" aria-hidden="true" tabindex="-1"></a>Die Regressionsgleichung lautet demnach:</span>
<span id="cb48-430"><a href="#cb48-430" aria-hidden="true" tabindex="-1"></a><span class="in">`y_pred = 8.6 + 0.88*x`</span></span>
<span id="cb48-431"><a href="#cb48-431" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-432"><a href="#cb48-432" aria-hidden="true" tabindex="-1"></a>Mit Kenntnis der beiden Koeffizienten kann man beliebige Y-Werte ausrechnen gegeben bestimmte X-Werte.</span>
<span id="cb48-433"><a href="#cb48-433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-434"><a href="#cb48-434" aria-hidden="true" tabindex="-1"></a>Hat jemand zum Beispiel 10 Stunden gelernt, w√ºrden wir folgendes Klausurergebnis vorhersagen:</span>
<span id="cb48-435"><a href="#cb48-435" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-438"><a href="#cb48-438" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-439"><a href="#cb48-439" aria-hidden="true" tabindex="-1"></a>lernzeit <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb48-440"><a href="#cb48-440" aria-hidden="true" tabindex="-1"></a>y_pred <span class="ot">&lt;-</span> <span class="fl">8.6</span> <span class="sc">+</span> <span class="fl">0.88</span><span class="sc">*</span>lernzeit</span>
<span id="cb48-441"><a href="#cb48-441" aria-hidden="true" tabindex="-1"></a>y_pred</span>
<span id="cb48-442"><a href="#cb48-442" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-443"><a href="#cb48-443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-444"><a href="#cb48-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-445"><a href="#cb48-445" aria-hidden="true" tabindex="-1"></a>:::{#exm-noten6}</span>
<span id="cb48-446"><a href="#cb48-446" aria-hidden="true" tabindex="-1"></a><span class="fu">### Vorhersage f√ºr Klausurerfolg, n√§chster Versuch</span></span>
<span id="cb48-447"><a href="#cb48-447" aria-hidden="true" tabindex="-1"></a>Sie versuchen, noch etwas Gutes f√ºr Toni zu tun.</span>
<span id="cb48-448"><a href="#cb48-448" aria-hidden="true" tabindex="-1"></a>R hilft Ihnen dabei und rechnet die erwartete Punktzahl aus, wenn Toni 73 Stunden lernt.</span>
<span id="cb48-449"><a href="#cb48-449" aria-hidden="true" tabindex="-1"></a>Sie d√ºrfen es aber auch selber rechnen, wenn Ihnen das lieber ist.</span>
<span id="cb48-450"><a href="#cb48-450" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb48-451"><a href="#cb48-451" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-452"><a href="#cb48-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-455"><a href="#cb48-455" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-456"><a href="#cb48-456" aria-hidden="true" tabindex="-1"></a>tonis_lernzeit2 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">x =</span> <span class="dv">73</span>)</span>
<span id="cb48-457"><a href="#cb48-457" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-458"><a href="#cb48-458" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-459"><a href="#cb48-459" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-462"><a href="#cb48-462" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-463"><a href="#cb48-463" aria-hidden="true" tabindex="-1"></a><span class="fu">predict</span>(lm1, <span class="at">newdata =</span> tonis_lernzeit2)</span>
<span id="cb48-464"><a href="#cb48-464" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-465"><a href="#cb48-465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-466"><a href="#cb48-466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-467"><a href="#cb48-467" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-468"><a href="#cb48-468" aria-hidden="true" tabindex="-1"></a>Die Syntax von <span class="in">`predict`</span> lautet:</span>
<span id="cb48-469"><a href="#cb48-469" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-470"><a href="#cb48-470" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-471"><a href="#cb48-471" aria-hidden="true" tabindex="-1"></a><span class="in">predict(name_des_objekts, newdata = tabelle_mit_pr√§diktorwerten)</span></span>
<span id="cb48-472"><a href="#cb48-472" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-473"><a href="#cb48-473" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-474"><a href="#cb48-474" aria-hidden="true" tabindex="-1"></a>:::{.callout-note}</span>
<span id="cb48-475"><a href="#cb48-475" aria-hidden="true" tabindex="-1"></a>Mit <span class="in">`predict`</span> bekommt man eine Vorhersage; im Standard eine "Punkt-Vorhersage", eine einzelne Zahl.$\square$</span>
<span id="cb48-476"><a href="#cb48-476" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb48-477"><a href="#cb48-477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-478"><a href="#cb48-478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-479"><a href="#cb48-479" aria-hidden="true" tabindex="-1"></a><span class="fu">### Vorhersagefehler</span></span>
<span id="cb48-480"><a href="#cb48-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-481"><a href="#cb48-481" aria-hidden="true" tabindex="-1"></a>Die Differenz zwischen vorhergesagten Wert f√ºr eine (neue) Beobachtung, $\hat{y_0}$ und ihrem tats√§chlichen Wert nennt man Vorhersagefehler (error, $e_i$) oder *Residuum*: $e_i = y_i - \hat{y}_i$.</span>
<span id="cb48-482"><a href="#cb48-482" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-483"><a href="#cb48-483" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-484"><a href="#cb48-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-487"><a href="#cb48-487" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-488"><a href="#cb48-488" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb48-489"><a href="#cb48-489" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Vorhersagefehler als Abweichungsbalken"</span></span>
<span id="cb48-490"><a href="#cb48-490" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-resid</span></span>
<span id="cb48-491"><a href="#cb48-491" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout-ncol: 2</span></span>
<span id="cb48-492"><a href="#cb48-492" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-subcap: </span></span>
<span id="cb48-493"><a href="#cb48-493" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - Residuen beim Geradenmodell (lm1)</span></span>
<span id="cb48-494"><a href="#cb48-494" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - Residuen beim Punktmodell (lm0)</span></span>
<span id="cb48-495"><a href="#cb48-495" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-496"><a href="#cb48-496" aria-hidden="true" tabindex="-1"></a>noten2 <span class="ot">&lt;-</span></span>
<span id="cb48-497"><a href="#cb48-497" aria-hidden="true" tabindex="-1"></a>  noten2 <span class="sc">%&gt;%</span> </span>
<span id="cb48-498"><a href="#cb48-498" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yhat =</span> <span class="fu">predict</span>(lm1, <span class="at">newdata =</span> noten2))</span>
<span id="cb48-499"><a href="#cb48-499" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-500"><a href="#cb48-500" aria-hidden="true" tabindex="-1"></a>noten2 <span class="sc">%&gt;%</span> </span>
<span id="cb48-501"><a href="#cb48-501" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb48-502"><a href="#cb48-502" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"grey"</span>) <span class="sc">+</span></span>
<span id="cb48-503"><a href="#cb48-503" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="fu">coef</span>(lm1)[<span class="dv">2</span>], <span class="at">intercept =</span> <span class="fu">coef</span>(lm1)[<span class="dv">1</span>], <span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb48-504"><a href="#cb48-504" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb48-505"><a href="#cb48-505" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">xend =</span> x, <span class="at">yend =</span> yhat))</span>
<span id="cb48-506"><a href="#cb48-506" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-507"><a href="#cb48-507" aria-hidden="true" tabindex="-1"></a>noten2 <span class="sc">%&gt;%</span> </span>
<span id="cb48-508"><a href="#cb48-508" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb48-509"><a href="#cb48-509" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"grey"</span>) <span class="sc">+</span></span>
<span id="cb48-510"><a href="#cb48-510" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fu">mean</span>(noten2<span class="sc">$</span>y), <span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb48-511"><a href="#cb48-511" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb48-512"><a href="#cb48-512" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">xend =</span> x, <span class="at">yend =</span> <span class="fu">mean</span>(noten2<span class="sc">$</span>y)))</span>
<span id="cb48-513"><a href="#cb48-513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-514"><a href="#cb48-514" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-515"><a href="#cb48-515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-516"><a href="#cb48-516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-517"><a href="#cb48-517" aria-hidden="true" tabindex="-1"></a>Wie ist es mit den Vorhersagefehlern von beiden Modellen bestellt?</span>
<span id="cb48-518"><a href="#cb48-518" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-519"><a href="#cb48-519" aria-hidden="true" tabindex="-1"></a>Lassen wir uns von R die Streuung (Residuen) in Form der mittleren Absolutabweichung (MAE) ausgeben^<span class="co">[</span><span class="ot">aus dem Paket `easystats`</span><span class="co">]</span>:</span>
<span id="cb48-520"><a href="#cb48-520" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-523"><a href="#cb48-523" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-524"><a href="#cb48-524" aria-hidden="true" tabindex="-1"></a><span class="fu">mae</span>(lm0)</span>
<span id="cb48-525"><a href="#cb48-525" aria-hidden="true" tabindex="-1"></a><span class="fu">mae</span>(lm1)</span>
<span id="cb48-526"><a href="#cb48-526" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-527"><a href="#cb48-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-528"><a href="#cb48-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-529"><a href="#cb48-529" aria-hidden="true" tabindex="-1"></a>Vergleichen wir MAE im  Nullmodell mit MAE in <span class="in">`lm1`</span>: </span>
<span id="cb48-530"><a href="#cb48-530" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-533"><a href="#cb48-533" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-534"><a href="#cb48-534" aria-hidden="true" tabindex="-1"></a>verhaeltnis_fehler_gerade_zu_punkt_mae <span class="ot">&lt;-</span> <span class="fu">mae</span>(lm1) <span class="sc">/</span> <span class="fu">mae</span>(lm0)</span>
<span id="cb48-535"><a href="#cb48-535" aria-hidden="true" tabindex="-1"></a>verhaeltnis_fehler_gerade_zu_punkt_mae</span>
<span id="cb48-536"><a href="#cb48-536" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-537"><a href="#cb48-537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-538"><a href="#cb48-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-539"><a href="#cb48-539" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-540"><a href="#cb48-540" aria-hidden="true" tabindex="-1"></a>Ah! Das Geradenmodell ist viel besser:</span>
<span id="cb48-541"><a href="#cb48-541" aria-hidden="true" tabindex="-1"></a>Von <span class="in">`lm0`</span> zu <span class="in">`lm1`</span> haben die mittlere (Absolut-)L√§nge des Fehlerbalkens auf <span class="in">`r round(verhaeltnis_fehler_gerade_zu_punkt_mae, 2)*100`</span> Prozent verbessert.</span>
<span id="cb48-542"><a href="#cb48-542" aria-hidden="true" tabindex="-1"></a>Nicht schlecht!</span>
<span id="cb48-543"><a href="#cb48-543" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-544"><a href="#cb48-544" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-545"><a href="#cb48-545" aria-hidden="true" tabindex="-1"></a>:::{#def-fehlerstreung}</span>
<span id="cb48-546"><a href="#cb48-546" aria-hidden="true" tabindex="-1"></a><span class="fu">### Fehlerstreuung</span></span>
<span id="cb48-547"><a href="#cb48-547" aria-hidden="true" tabindex="-1"></a>Als Fehlerstreuung bezeichnen wir die Gesamtheit der Abweichungen der beobachteten Werte ($y_i$) vom vorhergesagten Wert ($\hat{y}_i$).$\square$</span>
<span id="cb48-548"><a href="#cb48-548" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb48-549"><a href="#cb48-549" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-550"><a href="#cb48-550" aria-hidden="true" tabindex="-1"></a>Zur Berechnung der Fehlerstreuung gibt es mehrere Kenngr√∂√üen wie MAE oder MSE.</span>
<span id="cb48-551"><a href="#cb48-551" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-552"><a href="#cb48-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-553"><a href="#cb48-553" aria-hidden="true" tabindex="-1"></a>:::{.callout-note}</span>
<span id="cb48-554"><a href="#cb48-554" aria-hidden="true" tabindex="-1"></a>Ein Geradenmodell ist immer besser als ein Punktmodell (im Hinblick auf die Verringerung der Fehlerstreung), solange X mit Y korreliert ist.$\square$</span>
<span id="cb48-555"><a href="#cb48-555" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb48-556"><a href="#cb48-556" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-557"><a href="#cb48-557" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-558"><a href="#cb48-558" aria-hidden="true" tabindex="-1"></a>Nat√ºrlich k√∂nnen wir - in Analogie zur Varianz - auch den mittleren Quadratfehlerbalken (Mean Squared Error, MSE) berechnen^<span class="co">[</span><span class="ot">Wer mag, kann den MSE auch von Hand berechnen: `mean((noten2$y-mean(noten2$y))^2)`</span><span class="co">]</span>.</span>
<span id="cb48-559"><a href="#cb48-559" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-562"><a href="#cb48-562" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-563"><a href="#cb48-563" aria-hidden="true" tabindex="-1"></a><span class="fu">mse</span>(lm0)</span>
<span id="cb48-564"><a href="#cb48-564" aria-hidden="true" tabindex="-1"></a><span class="fu">mse</span>(lm1)</span>
<span id="cb48-565"><a href="#cb48-565" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-566"><a href="#cb48-566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-567"><a href="#cb48-567" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-570"><a href="#cb48-570" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-571"><a href="#cb48-571" aria-hidden="true" tabindex="-1"></a>verhaeltnis_fehler_gerade_zu_punkt_mse <span class="ot">&lt;-</span> <span class="fu">mse</span>(lm1)<span class="sc">/</span><span class="fu">mse</span>(lm0)</span>
<span id="cb48-572"><a href="#cb48-572" aria-hidden="true" tabindex="-1"></a>verhaeltnis_fehler_gerade_zu_punkt_mse</span>
<span id="cb48-573"><a href="#cb48-573" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-574"><a href="#cb48-574" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-575"><a href="#cb48-575" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-576"><a href="#cb48-576" aria-hidden="true" tabindex="-1"></a><span class="fu">### Berechnung der Modellkoeffizienten</span></span>
<span id="cb48-577"><a href="#cb48-577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-578"><a href="#cb48-578" aria-hidden="true" tabindex="-1"></a>Aber wie legt man die Regressionsgerade in das Streudiagramm, bildlich gesprochen?</span>
<span id="cb48-579"><a href="#cb48-579" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-580"><a href="#cb48-580" aria-hidden="true" tabindex="-1"></a>Die Regressionskoeffizienten^<span class="co">[</span><span class="ot">hier synonym: Modellparameter</span><span class="co">]</span> b0 und b1 w√§hlt man so, dass die Residuen minimal sind.</span>
<span id="cb48-581"><a href="#cb48-581" aria-hidden="true" tabindex="-1"></a>Es gibt verschiedene Algorithmen, um dies zu berechnen^<span class="co">[</span><span class="ot">aber nicht in diesem Buch zu finden</span><span class="co">]</span>.</span>
<span id="cb48-582"><a href="#cb48-582" aria-hidden="true" tabindex="-1"></a>Eine sch√∂ne Darstellung dazu findet sich bei @kaplan_statistical_2009.</span>
<span id="cb48-583"><a href="#cb48-583" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-584"><a href="#cb48-584" aria-hidden="true" tabindex="-1"></a>"Von Hand" k√∂nnen Sie die Optimierung von b0 und b1 in <span class="co">[</span><span class="ot">dieser App der FOM-Hochschule</span><span class="co">](https://fomshinyapps.shinyapps.io/KleinsteQuadrate/)</span> ausprobieren.</span>
<span id="cb48-585"><a href="#cb48-585" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-586"><a href="#cb48-586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-587"><a href="#cb48-587" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-588"><a href="#cb48-588" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-589"><a href="#cb48-589" aria-hidden="true" tabindex="-1"></a><span class="fu">## R-Quadrat</span></span>
<span id="cb48-590"><a href="#cb48-590" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-591"><a href="#cb48-591" aria-hidden="true" tabindex="-1"></a><span class="fu">### R-Quadrat als Verringerung der Fehlerstreuung</span></span>
<span id="cb48-592"><a href="#cb48-592" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-593"><a href="#cb48-593" aria-hidden="true" tabindex="-1"></a>Anders gesagt, wir haben uns um $1 - <span class="in">`r round(verhaeltnis_fehler_gerade_zu_punkt_mse, 2)`</span>$ verbessert:</span>
<span id="cb48-594"><a href="#cb48-594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-597"><a href="#cb48-597" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-598"><a href="#cb48-598" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">-</span> verhaeltnis_fehler_gerade_zu_punkt_mse</span>
<span id="cb48-599"><a href="#cb48-599" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-600"><a href="#cb48-600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-601"><a href="#cb48-601" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-602"><a href="#cb48-602" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-603"><a href="#cb48-603" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-604"><a href="#cb48-604" aria-hidden="true" tabindex="-1"></a>:::{#def-r2}</span>
<span id="cb48-605"><a href="#cb48-605" aria-hidden="true" tabindex="-1"></a><span class="fu">### R-Quadrat</span></span>
<span id="cb48-606"><a href="#cb48-606" aria-hidden="true" tabindex="-1"></a>Die Verringerung (als Anteil) der Fehlerstreuung der Zielvariablen  von <span class="in">`lm0`</span> zum gerade untersuchten Modell nennt man  *R-Quadrat* ($R^2$).</span>
<span id="cb48-607"><a href="#cb48-607" aria-hidden="true" tabindex="-1"></a>R-Quadrat ($R^2$) eines Modells $m$ ist definiert als die Verringerung der Streuung, wenn man das Modell $m$ mit dem Nullmodell $m_0$ vergleicht: $R^2 =1-  \frac{\text{MSE}_{m}}{\text{MSE}_{m0}}$. R-Quadrat ist ein Ma√ü der *Modellg√ºte*: Je gr√∂√üer $R^2$, desto besser die Vorhersage. </span>
<span id="cb48-608"><a href="#cb48-608" aria-hidden="true" tabindex="-1"></a>Da es ein Anteilsma√ü^<span class="co">[</span><span class="ot">Prozentzahl</span><span class="co">]</span> ist, liegt der Wertebereich zwischen 0 uns 1.</span>
<span id="cb48-609"><a href="#cb48-609" aria-hidden="true" tabindex="-1"></a>Im Nullmodell liegt R-Quadrat per Definition bei 0.</span>
<span id="cb48-610"><a href="#cb48-610" aria-hidden="true" tabindex="-1"></a>Im Fall von Modellen des Typs $y\sim x$ gilt: $R^2 = r_{xy}^2$.</span>
<span id="cb48-611"><a href="#cb48-611" aria-hidden="true" tabindex="-1"></a>$\square$</span>
<span id="cb48-612"><a href="#cb48-612" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb48-613"><a href="#cb48-613" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-614"><a href="#cb48-614" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-615"><a href="#cb48-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-616"><a href="#cb48-616" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-617"><a href="#cb48-617" aria-hidden="true" tabindex="-1"></a>Wir k√∂nnen R-Quadrat ($R^2$) uns von R z.B. so ausgeben lassen:</span>
<span id="cb48-618"><a href="#cb48-618" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-621"><a href="#cb48-621" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-622"><a href="#cb48-622" aria-hidden="true" tabindex="-1"></a><span class="fu">r2</span>(lm1)</span>
<span id="cb48-623"><a href="#cb48-623" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-624"><a href="#cb48-624" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-625"><a href="#cb48-625" aria-hidden="true" tabindex="-1"></a>Bei einer perfekten Korrelation ist $r=1$, daher ist dann auch $R^2 = 1$^<span class="co">[</span><span class="ot">Bei Modellen mit einem Pr√§diktor; gibt es mehrere Pr√§diktoren gilt die Beziehung nur wenn die Pr√§diktoren alle paarweise unabh√§ngig sind.</span><span class="co">]</span>, </span>
<span id="cb48-626"><a href="#cb48-626" aria-hidden="true" tabindex="-1"></a>s. @fig-r2-extreme.</span>
<span id="cb48-627"><a href="#cb48-627" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-628"><a href="#cb48-628" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-631"><a href="#cb48-631" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-632"><a href="#cb48-632" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb48-633"><a href="#cb48-633" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Extremf√§lle von R-Quadrat: 0 und 1"</span></span>
<span id="cb48-634"><a href="#cb48-634" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-subcap:</span></span>
<span id="cb48-635"><a href="#cb48-635" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - "Keine Korrelation, r = 0 und R2 = 0. Prognose durch Mittelwert"</span></span>
<span id="cb48-636"><a href="#cb48-636" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - "Perfekte Korrelation, r = 1 und R2 = 1. Prognose gleich beobachtetem Wert"</span></span>
<span id="cb48-637"><a href="#cb48-637" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-r2-extreme</span></span>
<span id="cb48-638"><a href="#cb48-638" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout-ncol: 2</span></span>
<span id="cb48-639"><a href="#cb48-639" aria-hidden="true" tabindex="-1"></a>d0 <span class="ot">&lt;-</span></span>
<span id="cb48-640"><a href="#cb48-640" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(<span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>),</span>
<span id="cb48-641"><a href="#cb48-641" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>))</span>
<span id="cb48-642"><a href="#cb48-642" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-643"><a href="#cb48-643" aria-hidden="true" tabindex="-1"></a>d0 <span class="sc">%&gt;%</span> </span>
<span id="cb48-644"><a href="#cb48-644" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(x,y)) <span class="sc">+</span> </span>
<span id="cb48-645"><a href="#cb48-645" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb48-646"><a href="#cb48-646" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb48-647"><a href="#cb48-647" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-648"><a href="#cb48-648" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-649"><a href="#cb48-649" aria-hidden="true" tabindex="-1"></a>d_r1 <span class="ot">=</span></span>
<span id="cb48-650"><a href="#cb48-650" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,</span>
<span id="cb48-651"><a href="#cb48-651" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="fu">seq</span>(<span class="dv">10</span>, <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">10</span>))</span>
<span id="cb48-652"><a href="#cb48-652" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-653"><a href="#cb48-653" aria-hidden="true" tabindex="-1"></a>d_r1 <span class="sc">%&gt;%</span> </span>
<span id="cb48-654"><a href="#cb48-654" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(x,y)) <span class="sc">+</span> </span>
<span id="cb48-655"><a href="#cb48-655" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb48-656"><a href="#cb48-656" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>)</span>
<span id="cb48-657"><a href="#cb48-657" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-658"><a href="#cb48-658" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-659"><a href="#cb48-659" aria-hidden="true" tabindex="-1"></a>Bei einer perfekten Korrelation $R^2=1$ liegen die Punkte auf der Geraden.</span>
<span id="cb48-660"><a href="#cb48-660" aria-hidden="true" tabindex="-1"></a>Im gegenteiligen Extremfall von $R^2=0$ ist die Vorhersage genauso gut, wie wenn man f√ºr jedes $y$ den Mittelwert, $\bar{y}$, vorhersagen w√ºrde. </span>
<span id="cb48-661"><a href="#cb48-661" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-662"><a href="#cb48-662" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-663"><a href="#cb48-663" aria-hidden="true" tabindex="-1"></a>:::{.callout-note}</span>
<span id="cb48-664"><a href="#cb48-664" aria-hidden="true" tabindex="-1"></a>Je gr√∂√üer R-Quadrat, desto besser erkl√§rt das Modell die Daten (desto besser der "Fit", sagt man).</span>
<span id="cb48-665"><a href="#cb48-665" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb48-666"><a href="#cb48-666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-667"><a href="#cb48-667" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">Diese App der FOM-Hochschule</span><span class="co">](https://fomshinyapps.shinyapps.io/Variationszerlegung/)</span> erlaubt es Ihnen mit der Gr√∂√üe der Residuen eines linearen Modells zu spielen.</span>
<span id="cb48-668"><a href="#cb48-668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-669"><a href="#cb48-669" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-670"><a href="#cb48-670" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-671"><a href="#cb48-671" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-672"><a href="#cb48-672" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- </span><span class="al">###</span><span class="co"> Addition der Varianzen --&gt;</span></span>
<span id="cb48-673"><a href="#cb48-673" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-674"><a href="#cb48-674" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-675"><a href="#cb48-675" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- Nennen wir die Varianz des Verkaufspreis $s^2_y$, die Verbesserung der Fehlerstreuung durch das *M*odell $s^2_m$ und die restliche Fehlerstreuung, den MSE, $s^2_e$. --&gt;</span></span>
<span id="cb48-676"><a href="#cb48-676" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- Dann gilt: --&gt;</span></span>
<span id="cb48-677"><a href="#cb48-677" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-678"><a href="#cb48-678" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- $$s^2_y = s^2_m + s^2_e \\ --&gt;</span></span>
<span id="cb48-679"><a href="#cb48-679" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- s^2_m = s^2_y - s^2_e$$ --&gt;</span></span>
<span id="cb48-680"><a href="#cb48-680" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-681"><a href="#cb48-681" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- ```{r} --&gt;</span></span>
<span id="cb48-682"><a href="#cb48-682" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- s2_y = var(noten2$y) --&gt;</span></span>
<span id="cb48-683"><a href="#cb48-683" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- s2_e = mse(lm1) --&gt;</span></span>
<span id="cb48-684"><a href="#cb48-684" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- s2_m = s2_y - s2_e --&gt;</span></span>
<span id="cb48-685"><a href="#cb48-685" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- s2_m --&gt;</span></span>
<span id="cb48-686"><a href="#cb48-686" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- ``` --&gt;</span></span>
<span id="cb48-687"><a href="#cb48-687" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-688"><a href="#cb48-688" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- Die Varianzanteile addieren sich. Mit anderen Kennzahlen der Streuung (SD, MAE) funktioniert das nicht. --&gt;</span></span>
<span id="cb48-689"><a href="#cb48-689" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-690"><a href="#cb48-690" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-691"><a href="#cb48-691" aria-hidden="true" tabindex="-1"></a><span class="fu">## Interpretation eines Regressionsmodells</span></span>
<span id="cb48-692"><a href="#cb48-692" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-693"><a href="#cb48-693" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-694"><a href="#cb48-694" aria-hidden="true" tabindex="-1"></a><span class="fu">### Modellg√ºte</span></span>
<span id="cb48-695"><a href="#cb48-695" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-696"><a href="#cb48-696" aria-hidden="true" tabindex="-1"></a>Die Residuen (Vorhersagefehler) bestimmen die Modellg√ºte:</span>
<span id="cb48-697"><a href="#cb48-697" aria-hidden="true" tabindex="-1"></a>Sind die Residuen im Schnitt gro√ü, so ist die Modellg√ºte gering (schlecht), und umgekehrt.</span>
<span id="cb48-698"><a href="#cb48-698" aria-hidden="true" tabindex="-1"></a>Verschiedenen Koeffizienten stehen zur Verf√ºgung: R-Quadrat, r^<span class="co">[</span><span class="ot">als Korrelation von tats√§chlichem $y$ und vorhergesagten $\hat{y}%</span><span class="co">]</span>, MSE, RMSE, MAE, ...</span>
<span id="cb48-699"><a href="#cb48-699" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-700"><a href="#cb48-700" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-701"><a href="#cb48-701" aria-hidden="true" tabindex="-1"></a><span class="fu">### Koeffizienten</span></span>
<span id="cb48-702"><a href="#cb48-702" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-703"><a href="#cb48-703" aria-hidden="true" tabindex="-1"></a>Die Modellkoeffizienten, also Achsenabschnitt ($b_0$) und Steigung ($b_1$) sind nur eingeschr√§nkt zu interpretieren, wenn man die zugrundeliegenden kausalen Abh√§ngigkeiten nicht kennt.</span>
<span id="cb48-704"><a href="#cb48-704" aria-hidden="true" tabindex="-1"></a>Nur aufgrund eines Zusammenhangs darf man keine kausalen Abh√§ngigkeiten annehmen.</span>
<span id="cb48-705"><a href="#cb48-705" aria-hidden="true" tabindex="-1"></a>Ohne eine guten Grund f√ºr eine Kausalbehauptung kann man kann nur *deskriptiv* argumentieren.</span>
<span id="cb48-706"><a href="#cb48-706" aria-hidden="true" tabindex="-1"></a>Oder sich mit der Modellg√ºte und den Vorhersagen begn√ºgen. Was auch was wert ist.</span>
<span id="cb48-707"><a href="#cb48-707" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-708"><a href="#cb48-708" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Achsenabschnitt (b0)</span></span>
<span id="cb48-709"><a href="#cb48-709" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-710"><a href="#cb48-710" aria-hidden="true" tabindex="-1"></a>"Im Modell <span class="in">`lm1`</span> liegt der Achsenabschnitt bei $y=<span class="in">`r round(coef(lm1)[1], 2)`</span>$. Beobachtungen mit $x=0$ k√∂nnen also diesen Y-Wert erwarten."</span>
<span id="cb48-711"><a href="#cb48-711" aria-hidden="true" tabindex="-1"></a>Leider ist es h√§ufig so, dass Pr√§diktorwerte von 0 in der Praxis nicht realistisch sind, so dass der Achsenabschnitt dann wenig n√ºtzt.</span>
<span id="cb48-712"><a href="#cb48-712" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-713"><a href="#cb48-713" aria-hidden="true" tabindex="-1"></a>:::{#exm-groesse}</span>
<span id="cb48-714"><a href="#cb48-714" aria-hidden="true" tabindex="-1"></a><span class="fu">### Regression Gr√∂√üe und Gewicht</span></span>
<span id="cb48-715"><a href="#cb48-715" aria-hidden="true" tabindex="-1"></a>Nutzt man K√∂rpergr√∂√üe umd das Gewicht von Menschen vorherzusagen, ist der Achsenabschnitt von K√∂rpergr√∂√üe wenig n√ºtzlich, da es keine Menschen gibt der Gr√∂√üe 0.$\square$</span>
<span id="cb48-716"><a href="#cb48-716" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb48-717"><a href="#cb48-717" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-718"><a href="#cb48-718" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-719"><a href="#cb48-719" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Geradensteigung (b1)</span></span>
<span id="cb48-720"><a href="#cb48-720" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-723"><a href="#cb48-723" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-724"><a href="#cb48-724" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb48-725"><a href="#cb48-725" aria-hidden="true" tabindex="-1"></a>lm1_b1 <span class="ot">&lt;-</span> <span class="fu">coef</span>(lm1)[<span class="dv">2</span>] <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">2</span>)</span>
<span id="cb48-726"><a href="#cb48-726" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-727"><a href="#cb48-727" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-728"><a href="#cb48-728" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-729"><a href="#cb48-729" aria-hidden="true" tabindex="-1"></a>"Im Modell <span class="in">`lm1`</span> betr√§gt der Regressionskoeffizient <span class="in">`b1`</span> $<span class="in">`r lm1_b1`</span>$. Zwei Studenti, deren Lernzeit sich um eine Stunde unterscheidet, unterscheiden sich *laut Modell* um den Wert von b1."</span>
<span id="cb48-730"><a href="#cb48-730" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-731"><a href="#cb48-731" aria-hidden="true" tabindex="-1"></a>:::{.callout-caution}</span>
<span id="cb48-732"><a href="#cb48-732" aria-hidden="true" tabindex="-1"></a>H√§ufig liest man, der "Effekt des Pr√§diktors" auf die AV betrage z.B. $<span class="in">`r lm1_b1`</span>$. "Effekt" ist aber ein Wort, dass man kausal verstehen kann. Ohne weitere Absicherung kann man aber Regressionskoeffizienten nicht kausal verstehen. Daher sollte man das Wort "Effekt" mit Vorsicht genie√üen. Manche sprechen daher auch von einem "statistischen Effekt".$\square$.</span>
<span id="cb48-733"><a href="#cb48-733" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb48-734"><a href="#cb48-734" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-735"><a href="#cb48-735" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-736"><a href="#cb48-736" aria-hidden="true" tabindex="-1"></a><span class="fu">## Fallbeispiel Mariokart</span></span>
<span id="cb48-737"><a href="#cb48-737" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-738"><a href="#cb48-738" aria-hidden="true" tabindex="-1"></a>Als mittlerweile anerkannter Extrem-Datenanalyst in dem Online-Auktionshaus, in dem Sie arbeiten, haben Sie sich neue Ziele gesetzt.</span>
<span id="cb48-739"><a href="#cb48-739" aria-hidden="true" tabindex="-1"></a>Sie m√∂chten eine genaue Vorhersage von Verkaufspreisen erzielen.</span>
<span id="cb48-740"><a href="#cb48-740" aria-hidden="true" tabindex="-1"></a>Als Sie von diesem Plan berichteten, leuchteten die Augen Ihres Chefs.</span>
<span id="cb48-741"><a href="#cb48-741" aria-hidden="true" tabindex="-1"></a>Genaue Vorhersagen, das ist etwas von hoher betriebswirtschaftlicher Relevanz.</span>
<span id="cb48-742"><a href="#cb48-742" aria-hidden="true" tabindex="-1"></a>Auf geht's!</span>
<span id="cb48-743"><a href="#cb48-743" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-744"><a href="#cb48-744" aria-hidden="true" tabindex="-1"></a>Daten laden:^<span class="co">[</span><span class="ot">Und die √ºblichen Pakete starten, nicht vergessen.</span><span class="co">]</span></span>
<span id="cb48-745"><a href="#cb48-745" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-748"><a href="#cb48-748" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-749"><a href="#cb48-749" aria-hidden="true" tabindex="-1"></a>mariokart <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://vincentarelbundock.github.io/Rdatasets/csv/openintro/mariokart.csv"</span>)</span>
<span id="cb48-750"><a href="#cb48-750" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-751"><a href="#cb48-751" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-752"><a href="#cb48-752" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-755"><a href="#cb48-755" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-756"><a href="#cb48-756" aria-hidden="true" tabindex="-1"></a>lm2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(total_pr <span class="sc">~</span> start_pr, <span class="at">data =</span> mariokart)</span>
<span id="cb48-757"><a href="#cb48-757" aria-hidden="true" tabindex="-1"></a><span class="fu">r2</span>(lm2)</span>
<span id="cb48-758"><a href="#cb48-758" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-759"><a href="#cb48-759" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-760"><a href="#cb48-760" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-761"><a href="#cb48-761" aria-hidden="true" tabindex="-1"></a>Oh nein! Unterirdisch schlecht. Anstelle von blo√üen Rumprobieren √ºberlegen Sie und schauen dann in @fig-mario-corr nach, welche Variable am st√§rksten korreliert mit <span class="in">`total_pr`</span>,</span>
<span id="cb48-762"><a href="#cb48-762" aria-hidden="true" tabindex="-1"></a>es resultiert <span class="in">`lm3`</span>: </span>
<span id="cb48-763"><a href="#cb48-763" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-766"><a href="#cb48-766" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-767"><a href="#cb48-767" aria-hidden="true" tabindex="-1"></a><span class="co">#| results: hide</span></span>
<span id="cb48-768"><a href="#cb48-768" aria-hidden="true" tabindex="-1"></a>lm3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(total_pr <span class="sc">~</span> ship_pr, <span class="at">data =</span> mariokart)</span>
<span id="cb48-769"><a href="#cb48-769" aria-hidden="true" tabindex="-1"></a><span class="fu">parameters</span>(lm3)</span>
<span id="cb48-770"><a href="#cb48-770" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-771"><a href="#cb48-771" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-774"><a href="#cb48-774" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-775"><a href="#cb48-775" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb48-776"><a href="#cb48-776" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-lm3</span></span>
<span id="cb48-777"><a href="#cb48-777" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "Modellparameter von lm3"</span></span>
<span id="cb48-778"><a href="#cb48-778" aria-hidden="true" tabindex="-1"></a><span class="fu">parameters</span>(lm3) <span class="sc">%&gt;%</span> <span class="fu">print_md</span>()</span>
<span id="cb48-779"><a href="#cb48-779" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-780"><a href="#cb48-780" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-781"><a href="#cb48-781" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-782"><a href="#cb48-782" aria-hidden="true" tabindex="-1"></a>Der Achsenabschnitt liegt bei ca. 36 Euro, wie man in @tbl-lm3 sieht: Ein Spiel, das mit Null Euro Preis startet, kann laut <span class="in">`lm3`</span> etwa 36 Euro finaler Verkaufspreis erwarten.</span>
<span id="cb48-783"><a href="#cb48-783" aria-hidden="true" tabindex="-1"></a>*Pro Euro an Versandkosten* (<span class="in">`ship_pr`</span>) steigt der zu erwartende finale Verkaufspreis um ca. 4 Euro.^[Die Spalte <span class="in">`95 CI`</span> gibt einen Sch√§tzbereich f√ºr den jeweiligen Modellkoeffizienten an,</span>
<span id="cb48-784"><a href="#cb48-784" aria-hidden="true" tabindex="-1"></a>denn es handelt sich bei den Koeffizienten um Sch√§tzwerte;</span>
<span id="cb48-785"><a href="#cb48-785" aria-hidden="true" tabindex="-1"></a>der wahre Wert in der Population ist unbekannt. </span>
<span id="cb48-786"><a href="#cb48-786" aria-hidden="true" tabindex="-1"></a>Wir kennen schlie√ülich nur eine Stichprobe der Gr√∂√üe $n=143$.].</span>
<span id="cb48-787"><a href="#cb48-787" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-788"><a href="#cb48-788" aria-hidden="true" tabindex="-1"></a>Die Regressionsgleichung von <span class="in">`lm3`</span> lautet demnach:</span>
<span id="cb48-789"><a href="#cb48-789" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-790"><a href="#cb48-790" aria-hidden="true" tabindex="-1"></a><span class="in">`total_pr_pred = 36.25 + 4.34*ship_pr`</span>.</span>
<span id="cb48-791"><a href="#cb48-791" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-792"><a href="#cb48-792" aria-hidden="true" tabindex="-1"></a>In Worten: </span>
<span id="cb48-793"><a href="#cb48-793" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-794"><a href="#cb48-794" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;    Der vorhergesagte Gesamptreis eines Spiels liegt bei 36.25‚Ç¨ "Sockelbetrag" plus 4.34 mal die Versandkosten.</span></span>
<span id="cb48-795"><a href="#cb48-795" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-796"><a href="#cb48-796" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-797"><a href="#cb48-797" aria-hidden="true" tabindex="-1"></a>Man kann sich die erwarteten Werte ("expectations") des Verkaufspreises in Abh√§ngigkeit vom Wert der UV (<span class="in">`ship_pr`</span>) auch sch√§tzen ("to estimate") lassen, und zwar so^<span class="co">[</span><span class="ot">Die Funktion stammt aus easystats</span><span class="co">]</span>: </span>
<span id="cb48-798"><a href="#cb48-798" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-801"><a href="#cb48-801" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-802"><a href="#cb48-802" aria-hidden="true" tabindex="-1"></a><span class="fu">estimate_expectation</span>(lm3) <span class="sc">%&gt;%</span> <span class="fu">head</span>()  <span class="co"># nur die ersten paar vorhergesagten Werte</span></span>
<span id="cb48-803"><a href="#cb48-803" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-804"><a href="#cb48-804" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-805"><a href="#cb48-805" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-806"><a href="#cb48-806" aria-hidden="true" tabindex="-1"></a>Ah, bei 4 Euro Versandkosten ist laut dem Modell knapp 54 Euro Verkaufspreis zu erwarten, fassen Sie sich die Ausgabe zusammen.</span>
<span id="cb48-807"><a href="#cb48-807" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-808"><a href="#cb48-808" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-809"><a href="#cb48-809" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;   ü§ñ Das sieht man in der Spalte </span><span class="in">`Predicted`</span><span class="at">, dort steht der vorhersagte Wert f√ºr </span><span class="in">`total_pr`</span><span class="at"> f√ºr einen bestimmten Wert von </span><span class="in">`ship_pr`</span><span class="at">.</span></span>
<span id="cb48-810"><a href="#cb48-810" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-811"><a href="#cb48-811" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-812"><a href="#cb48-812" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;    üßë‚Äçüéì Kann ich auch </span><span class="in">`predict`</span><span class="at"> benutzen? Ich w√ºrde gerne den Verkaufspreis wissen, wenn die Versandkosten bei 1 und bei 4 Euro liegen.</span></span>
<span id="cb48-813"><a href="#cb48-813" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-814"><a href="#cb48-814" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;   ü§ñ Ja, klar!</span></span>
<span id="cb48-815"><a href="#cb48-815" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-816"><a href="#cb48-816" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-819"><a href="#cb48-819" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-820"><a href="#cb48-820" aria-hidden="true" tabindex="-1"></a>neue_daten <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb48-821"><a href="#cb48-821" aria-hidden="true" tabindex="-1"></a>  <span class="at">ship_pr =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>)  <span class="co"># zwei Werte zum Vorhersagen</span></span>
<span id="cb48-822"><a href="#cb48-822" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-823"><a href="#cb48-823" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-824"><a href="#cb48-824" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-825"><a href="#cb48-825" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-828"><a href="#cb48-828" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-829"><a href="#cb48-829" aria-hidden="true" tabindex="-1"></a><span class="fu">predict</span>(lm3, <span class="at">newdata =</span> neue_daten)</span>
<span id="cb48-830"><a href="#cb48-830" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-831"><a href="#cb48-831" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-832"><a href="#cb48-832" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-833"><a href="#cb48-833" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-834"><a href="#cb48-834" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-835"><a href="#cb48-835" aria-hidden="true" tabindex="-1"></a>Aber n√ºtzlich w√§re noch, das Modell (bzw. die Sch√§tzung der erwarteten Werte) als Diagramm zu bekommen.</span>
<span id="cb48-836"><a href="#cb48-836" aria-hidden="true" tabindex="-1"></a>Das erreicht man z.B. so, s. @fig-lm3.</span>
<span id="cb48-837"><a href="#cb48-837" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-840"><a href="#cb48-840" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-841"><a href="#cb48-841" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-lm3</span></span>
<span id="cb48-842"><a href="#cb48-842" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: Verbildlichung der erwarteteten Werte laut lm3</span></span>
<span id="cb48-843"><a href="#cb48-843" aria-hidden="true" tabindex="-1"></a><span class="fu">estimate_expectation</span>(lm3) <span class="sc">%&gt;%</span> <span class="fu">plot</span>()</span>
<span id="cb48-844"><a href="#cb48-844" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-845"><a href="#cb48-845" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-846"><a href="#cb48-846" aria-hidden="true" tabindex="-1"></a><span class="in">`estimate_expectation`</span> hei√üt sinngem√§√ü "sch√§tze den zu erwartenden Wert".</span>
<span id="cb48-847"><a href="#cb48-847" aria-hidden="true" tabindex="-1"></a>Kurz gesagt: Wir wollen eine Vorhersage von R.</span>
<span id="cb48-848"><a href="#cb48-848" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-849"><a href="#cb48-849" aria-hidden="true" tabindex="-1"></a>Am wichtigsten ist Ihnen aber im Moment die Frage, wie "gut" das Modell ist, spricht wie lang oder kurz die Vorhersagefehler-Balken sind:</span>
<span id="cb48-850"><a href="#cb48-850" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-853"><a href="#cb48-853" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-854"><a href="#cb48-854" aria-hidden="true" tabindex="-1"></a><span class="fu">mae</span>(lm3)</span>
<span id="cb48-855"><a href="#cb48-855" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-856"><a href="#cb48-856" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-857"><a href="#cb48-857" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-860"><a href="#cb48-860" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-861"><a href="#cb48-861" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb48-862"><a href="#cb48-862" aria-hidden="true" tabindex="-1"></a>lm3_r2 <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">r2</span>(lm3)<span class="sc">$</span>R2, <span class="dv">2</span>)</span>
<span id="cb48-863"><a href="#cb48-863" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-864"><a href="#cb48-864" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-865"><a href="#cb48-865" aria-hidden="true" tabindex="-1"></a>Das Modell erkl√§rt einen Anteil von ca. <span class="in">`r lm3_r2`</span> der Gesamtstreuung.</span>
<span id="cb48-866"><a href="#cb48-866" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-867"><a href="#cb48-867" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-870"><a href="#cb48-870" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-871"><a href="#cb48-871" aria-hidden="true" tabindex="-1"></a><span class="fu">mae</span>(lm3)</span>
<span id="cb48-872"><a href="#cb48-872" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-873"><a href="#cb48-873" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-874"><a href="#cb48-874" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-875"><a href="#cb48-875" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-876"><a href="#cb48-876" aria-hidden="true" tabindex="-1"></a>Im n√§chsten Meeting erz√§hlen Sie Ihrem Chef "Ich kann den Verkaufspreis von Mariokart-Spielen im Schnitt auf 13 Dollar genau vorhersagen!".</span>
<span id="cb48-877"><a href="#cb48-877" aria-hidden="true" tabindex="-1"></a>H√∂rt sich gut an.</span>
<span id="cb48-878"><a href="#cb48-878" aria-hidden="true" tabindex="-1"></a>Allerdings h√§tte ihr Chef es gerne genauer. Kann man da noch was machen?</span>
<span id="cb48-879"><a href="#cb48-879" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-880"><a href="#cb48-880" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-881"><a href="#cb48-881" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-882"><a href="#cb48-882" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-883"><a href="#cb48-883" aria-hidden="true" tabindex="-1"></a><span class="fu">## Fallstudie Immobilienpreise</span></span>
<span id="cb48-884"><a href="#cb48-884" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-885"><a href="#cb48-885" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-886"><a href="#cb48-886" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-887"><a href="#cb48-887" aria-hidden="true" tabindex="-1"></a>{{&lt; include casestudy-ames.qmd &gt;}}</span>
<span id="cb48-888"><a href="#cb48-888" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-889"><a href="#cb48-889" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-890"><a href="#cb48-890" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-891"><a href="#cb48-891" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-892"><a href="#cb48-892" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- ## Fazit --&gt;</span></span>
<span id="cb48-893"><a href="#cb48-893" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- </span><span class="al">TODO</span><span class="co">  --&gt;</span></span>
<span id="cb48-894"><a href="#cb48-894" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-895"><a href="#cb48-895" aria-hidden="true" tabindex="-1"></a><span class="fu">## Aufgaben</span></span>
<span id="cb48-896"><a href="#cb48-896" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-897"><a href="#cb48-897" aria-hidden="true" tabindex="-1"></a>Eine Aufgabe, die eine Einf√ºhrung zum <span class="co">[</span><span class="ot">Kaggle-Wettbewerb Ames House Prices</span><span class="co">]</span>((https://www.kaggle.com/competitions/house-prices-advanced-regression-techniques/overview) bietet, finden Sie <span class="co">[</span><span class="ot">hier im Datenwerk</span><span class="co">](https://datenwerk.netlify.app/posts/ames-kaggle1/ames-kaggle1.html)</span>.</span>
<span id="cb48-898"><a href="#cb48-898" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-899"><a href="#cb48-899" aria-hidden="true" tabindex="-1"></a>Suchen Sie beim <span class="co">[</span><span class="ot">Datenwerk</span><span class="co">](https://datenwerk.netlify.app/)</span> nach diesen Aufgaben</span>
<span id="cb48-900"><a href="#cb48-900" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-901"><a href="#cb48-901" aria-hidden="true" tabindex="-1"></a><span class="in">    - Aussagen-einfache-Regr</span></span>
<span id="cb48-902"><a href="#cb48-902" aria-hidden="true" tabindex="-1"></a><span class="in">    - interpret-koeff-lm</span></span>
<span id="cb48-903"><a href="#cb48-903" aria-hidden="true" tabindex="-1"></a><span class="in">    - korr-als-regr</span></span>
<span id="cb48-904"><a href="#cb48-904" aria-hidden="true" tabindex="-1"></a><span class="in">    - Linearitaet1a</span></span>
<span id="cb48-905"><a href="#cb48-905" aria-hidden="true" tabindex="-1"></a><span class="in">    - lm1</span></span>
<span id="cb48-906"><a href="#cb48-906" aria-hidden="true" tabindex="-1"></a><span class="in">    - mtcars-regr01</span></span>
<span id="cb48-907"><a href="#cb48-907" aria-hidden="true" tabindex="-1"></a><span class="in">    - nichtlineare-regr1</span></span>
<span id="cb48-908"><a href="#cb48-908" aria-hidden="true" tabindex="-1"></a><span class="in">    - penguins-regr02</span></span>
<span id="cb48-909"><a href="#cb48-909" aria-hidden="true" tabindex="-1"></a><span class="in">    - regression1</span></span>
<span id="cb48-910"><a href="#cb48-910" aria-hidden="true" tabindex="-1"></a><span class="in">    - regression1b</span></span>
<span id="cb48-911"><a href="#cb48-911" aria-hidden="true" tabindex="-1"></a><span class="in">    - Regression3</span></span>
<span id="cb48-912"><a href="#cb48-912" aria-hidden="true" tabindex="-1"></a><span class="in">    - Regression4</span></span>
<span id="cb48-913"><a href="#cb48-913" aria-hidden="true" tabindex="-1"></a><span class="in">    - Regression5</span></span>
<span id="cb48-914"><a href="#cb48-914" aria-hidden="true" tabindex="-1"></a><span class="in">    - Regression6</span></span>
<span id="cb48-915"><a href="#cb48-915" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb48-916"><a href="#cb48-916" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb48-917"><a href="#cb48-917" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-918"><a href="#cb48-918" aria-hidden="true" tabindex="-1"></a>Schauen Sie sich die Aufgaben beim <span class="co">[</span><span class="ot">Datenwerk</span><span class="co">](https://datenwerk.netlify.app/)</span> an, vor allem die Tags <span class="co">[</span><span class="ot">regression</span><span class="co">](https://datenwerk.netlify.app/#category=regression)</span> und <span class="co">[</span><span class="ot">lm</span><span class="co">](https://datenwerk.netlify.app/#category=lm)</span>.</span>
<span id="cb48-919"><a href="#cb48-919" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-920"><a href="#cb48-920" aria-hidden="true" tabindex="-1"></a>*Nicht alle Aufgaben* aus dieser Sammlung passen zum Stoff; vielleicht k√∂nnen Sie einige Aufgaben nicht l√∂sen.</span>
<span id="cb48-921"><a href="#cb48-921" aria-hidden="true" tabindex="-1"></a>Ignorieren Sie einfach diese Aufgaben.</span>
<span id="cb48-922"><a href="#cb48-922" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-923"><a href="#cb48-923" aria-hidden="true" tabindex="-1"></a>Beachten Sie die <span class="co">[</span><span class="ot">Hinweise zu den Aufgaben</span><span class="co">](https://datenwerk.netlify.app/hinweise)</span>.</span>
<span id="cb48-924"><a href="#cb48-924" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-925"><a href="#cb48-925" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-926"><a href="#cb48-926" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-927"><a href="#cb48-927" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-928"><a href="#cb48-928" aria-hidden="true" tabindex="-1"></a><span class="fu">## Literatur</span></span>
<span id="cb48-929"><a href="#cb48-929" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-930"><a href="#cb48-930" aria-hidden="true" tabindex="-1"></a></span>
</code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>